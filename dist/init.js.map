{"version":3,"file":"init.js","names":["development_hosts","container_dev_splash","document","querySelector","test_local","init_logo_splash","logo_selector","getElementById","style","scale","bottom","notify","text","error_box","error_text","scroll_top","notify_hide","marginBottom","setAttribute","notify_hidden","notify_display","innerHTML","concat","offsetHeight","setTimeout","clearTimeout","timer_notify","requestCall","callback","url","method","json","arguments","length","undefined","json_body","request","XMLHttpRequest","json_body_local","open","toUpperCase","setRequestHeader","JSON","stringify","onload","status","parse","responseText","console","log","onerror","error","onreadystatechange","success","send","is_development_splash","mode","Cookies","get","body","classList","add","display","closeDevSplash","remove","marginTop","set","includes","window","location","hostname","backend_host","domain_back","re_token","telegram_bot_username","script_re","createElement","script_core","src","appendChild"],"sources":["../assets/js/init.js"],"sourcesContent":["const development_hosts = [\n    \"koval01.github.io\", \"localhost\"];\nconst container_dev_splash = document\n    .querySelector(\n        \".is-dev-site-splash\");\nconst test_local = false;\n\nfunction init_logo_splash() {\n    let logo_selector = document.getElementById(\"logo-spalsh-sb\");\n    logo_selector.style.scale = 1;\n    logo_selector.style.bottom = \"5vh\";\n}\n\nfunction notify(text) {\n    const error_box = document\n        .querySelector(\n            \".error_box_cst\");\n    const error_text = document\n        .querySelector(\n            \".error_text_cst\");\n    const scroll_top = document\n        .querySelector(\n            \".btn-scroll-top\");\n\n    let notify_hide = function () {\n        error_box.style\n            .marginBottom =\n            \"-150px\";\n        scroll_top.setAttribute(\n            \"style\", \"\");\n        notify_hidden = true;\n    };\n\n    let notify_display = function () {\n        notify_hidden = false;\n        error_text.innerHTML = text;\n        scroll_top.style\n            .marginBottom = `calc(${\n            document.getElementById(\"error_box_cst_id\").offsetHeight\n        }px)`;\n        error_box.style\n            .marginBottom = \"0\";\n    };\n\n    if (notify_hidden) {\n        notify_display();\n    } else {\n        notify_hide();\n        setTimeout(notify_display, 200);\n    }\n\n    clearTimeout(timer_notify);\n    timer_notify = setTimeout(\n        notify_hide, 2500);\n}\n\nfunction requestCall(callback, url,\n                      method, json = false, json_body =\n                          null) {\n    let request = new XMLHttpRequest();\n    let json_body_local = {};\n    request.open(method, url, true);\n\n    if (method.toUpperCase() ===\n        \"POST\") {\n        request.setRequestHeader(\n            \"Content-Type\",\n            \"application/json;charset=UTF-8\"\n        );\n        json_body_local = JSON\n            .stringify(json_body);\n    }\n\n    request.onload = function () {\n        if (request.status >= 200 &&\n            request.status < 400) {\n            if (json) {\n                callback(JSON.parse(\n                    request\n                        .responseText\n                ));\n            } else {\n                callback(request\n                    .responseText\n                );\n            }\n        } else {\n            console.log(\n                `Request status code is ${request.status}`\n            );\n        }\n    };\n\n    request.onerror = function (error) {\n        console.log(\n            `Error make request! Details: ${error}`\n        );\n        callback(null)\n    };\n\n    request.onreadystatechange = () => {\n        if (request.status >= 400) {\n            if (json) {\n                callback({\n                    success: false\n                });\n            } else {\n                callback(null);\n            }\n        }\n    };\n\n    request.send(json_body_local);\n}\n\nfunction is_development_splash() {\n    let mode = Cookies.get(\n        \"dev_splash\");\n    if (!mode && mode !== \"closed\") {\n        document.body.classList.add(\n            \"modal-open\");\n        container_dev_splash.style\n            .display = \"\";\n    }\n}\n\nfunction closeDevSplash() {\n    document.body.classList.remove(\n        \"modal-open\");\n    container_dev_splash.style\n        .marginTop = \"-100vh\";\n    setTimeout(function () {\n        container_dev_splash\n            .style.display =\n            \"none\"\n    }, 600);\n    Cookies.set(\"dev_splash\", \"closed\");\n}\n\nif (!development_hosts.includes(window\n    .location.hostname)) {\n    backend_host =\n        `https://${domain_back}`;\n} else {\n    re_token =\n        \"6LdXKSMlAAAAABS0gPaoKaoeWlSJBc-vfV4e5Pib\";\n    telegram_bot_username = \"zalupa_feedback_bot\";\n    if (window.location.hostname ===\n        \"localhost\" && test_local) {\n        backend_host =\n            \"http://127.0.0.1:8000\";\n    } else {\n        backend_host =\n            \"https://api.zalupa.online\";\n        // backend_host =\n        //     \"https://zlp-api-sxeopwcz8tgxd1gyu5ie4n.herokuapp.com\";\n    }\n    if (window.location.hostname !==\n        \"localhost\") {\n        is_development_splash();\n    }\n}\n\ninit_logo_splash();\n\nlet script_re = document.createElement(\n    'script');\nvar script_core = document\n    .createElement('script');\nscript_re.onload = function () {\n    script_core.src =\n        \"assets/js/core.min.js\";\n    document.body.appendChild(\n        script_core);\n}\n\nscript_re.src =\n    `https://www.google.com/recaptcha/api.js?render=${re_token}`;\ndocument.body.appendChild(script_re);\n"],"mappings":"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"}