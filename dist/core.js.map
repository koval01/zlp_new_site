{"version":3,"file":"core.js","names":["_this","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","_unsupportedIterableToArray","length","i","F","s","n","done","value","e","_e","f","TypeError","normalCompletion","didErr","err","call","step","next","_e2","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","minLen","_arrayLikeToArray","Object","prototype","toString","slice","constructor","name","from","test","iter","len","arr2","site_domains","prod","domain_site","dev","development_hosts","cart_cookie","channels","links_lt","link","launcher_platforms","mac","linux","windows","gitOwner","gitLauncherRepo","lock_of","coins_sell_mode","selector_card_skin_displayed","donate_services_array","notify_hidden","glob_players","glob_events_status","allow_display_login_hint","timer_notify","swiper_comments","payment_url_global","checked_coupon","failed_coupon","crypto_token","tooltip_instance","events_page_state","donate_displayed","modal_displayed","freeze_crypto","freeze_monitoring","lock_sticker_switch","gameServerUpdater_setter","work_domain_v","products_by_serverid","glob_auth_player_data","current_c_item","current_c_item_name","telegram_cookie_token","first_init_head_adapt","first_init_head_adapt_vova","current_item_type","client_ip","avatar_loaded","telegram_glob_session","auth_data","response","telegram_social_bot","debug_lock_init","telegram_auth_enabled","feedback_module_enabled","feedback_tg_auth_skip","tokens_system_enabled","initHost","keys","window","location","hostname","linkHash","hash","substring","prepare_img_link","img_link","replace","replaceAll","time_correction","date","userTimezoneOffset","getTimezoneOffset","Date","getTime","time_in_moscow_get","arguments","undefined","toLocaleString","timeZone","getOffset","timezone","timeZoneName","match","console","error","concat","formatDate","now","diff","sec","Math","floor","getNoun","min","hour","d","getDate","getMonth","getFullYear","getHours","getMinutes","map","component","join","utf8_to_b64","str","btoa","unescape","encodeURIComponent","b64_to_utf8","decodeURIComponent","escape","atob","randDiaps","max","random","getPlatform","navigator","platform","indexOf","isChrome","userAgent","vendor","downloadLauncher","getGitLauncherReleases","links_","debug","notify","split","generateRandomHex","size","getAvatarColorIDforTG","user_id","result","base","parseInt","getHash","substr","reduce","item","parts","re_check","callback","grecaptcha","ready","execute","re_token","action","then","token_update","shuffle","array","currentIndex","randomIndex","_ref","alternateSort","list","minIndex","minVal","j","temp","getImageLightness","imageSrc","calculate","img","document","createElement","src","crossOrigin","style","display","body","appendChild","colorSum","onload","canvas","width","height","ctx","getContext","drawImage","imageData","getImageData","_","data","r","g","b","avg","x","brightness","remove","is_apple_platform","validateEmail","email","String","toLowerCase","url_builder_","base_url","submit_data_","url","URL","searchParams","set","href","countProperties","obj","number","one","two","five","abs","getCrypto","requestCall","success","token","backend_host","get_events_","events","get_yt_video_","video_id","skip","get_news_","source","messages","get_rules_private_server","appendPostsNews","iframe","loading_done","setTimeout","sl","getElementById","container_news","parentNode","removeChild","template","c","innerHTML","addEventListener","frame","url_ob","checked","createSwiper","Swiper","spaceBetween","loop","observer","observeParents","preventClicks","preventClicksPropagation","autoplay","delay","pagination","el","clickable","navigation","prevEl","nextEl","text_modify_enable","text_size_static","add_news_in_array","posts","adaptive_news_text","array_","reverse","_loop","text","text_els","datetime","datetime_utc","cover","toLocaleDateString","toLocaleTimeString","minute","selector_bg","backgroundImage","selector_text","classList","add","fontSize","text_len","innerText","text_split","font_size","fix_float_fs","float","correction_float","correction_font","max_val","parseFloat","padding","calculate_text_position","identifier_sl","switch_val","getComputedStyle","getPropertyValue","maxHeight","position","paddingBottom","paddingRight","event","setInterval","style_","toFixed","background","closeButtonDonateAdaptive","minHeight","donateSwitchContainer","container","querySelector","style_sticker","style_main","opacity","update_zIndex","variable","zIndex","button","setAttribute","checkTelegramAuthData","tg_success","removeAttribute","overflowY","scrollTo","top","behavior","paddingTop","openTelegramAuthModal","get_game_server_data","_data_error","ok","string_","initCrypto","monitoring_game_server_update","online","clearInterval","selector","gameServerUpdater","initEventsList","row_container","loader_","switch_button_","row_class","events_block_load","sort","a","keyA","date_start","keyB","st_date","end_date","date_end","time_in_moscow","badge","template_","title","get_donate_services","services","create_payment","customer","products","server_id","coupon","payment","donatePayMethodSelector","pay_method","success_url","tg_auth_data","getTelegramAuth","generateGiftLink","payment_id","check_coupon","code","testImage","tester","Image","reInitTelegramAuth","loadPlayerAvatar","avatar","def_selector","url_generator","exec_","avatar_selector","avatar_style","_unused","raw_link","includes","raw","skip_cache","openLoginHint","player_data","player","skin","SKIN","avatar_init","getIPClient","ip","cloudflareTraceJSON","dict","_iterator","_step","k","p","cloudflareTrace","id","target_commitish","author","login","draft","assets","links","_i","_Object$keys","_iterator2","_step2","browser_download_url","setLauncherLinks","button_template","d_links","_i2","_keys","checkFeedbackStatus","sendFeedback","sendFeedbackAction","textarea","button_lock","lock","check_data","send_data","checkPayment","tokens_send","getPaymentHistory","getPlayersSkins","players","enabled","skins","appendServices","size_classes","get_product_type","type","donate_check_services_cart","click_data","price","count","description","service_id","push","_name","padding_desc","desc_template","item_butt_template","click_template","JSON","stringify","button_title","description_other","image","checkPrivateServerBuy","elem","ids","log","switchEventsPages","button_name","news_page","events_page","news_button","events_button","redirect_","ytVideoSetter","only_iframe","load_iframe","params","set_video","video","x720","muted","controls","_i4","_Array$from","getElementsByClassName","getAttribute","marginBottom","modal_close_","getElementsByTagName","cont","marginTop","modal","modal_open_","onclick_lock","onclick","target","switch_modal_containers","mode","info_params","span","info","service","service_coins","finish_donate","_array","_mode","content","discount_calculate","discount","get_cookie_cart","cookie_cart","parse","Cookies","get","updateCartCount","groupAlreadyInCart","user_cart","cart","choice","balance","displayTokens","v2","Number","isInteger","base_selector","balance_value","container_number","balance_number","card_holder","balance_value_card","balance_choice","cardSelector","template_tokens","select_card_skin","path","sendTokensModalOpen","comment_show_action","close","comment_text","comment_show","on","checkFunction","stop_key","_iterator3","_step3","PRIVATE_SERVER","selector_button","initComments","playersGet","searchPlayer","comment","desc","fontWeight","transition","correction_height","clientHeight","overflow","buildPlayersSwiper","slidesPerView","breakpoints","badges_get","_unused2","badges_paste","players_array","_iterator4","_step4","player_in","selectSkin","Nick","Value","_loop2","getBadges","badges","badge_local","getClan","player_badges_","player_clan","head","buildDonateHistorySwiper","updateDonateTime","selectors","querySelectorAll","select","time_","updated_at","product","donate_bg_preload","bg_ls","setSticker","stickers_count","custom_path","setRandomStickerLand","pageYOffset","updateStickerPosition","innerWidth","left","donate_element_click","product_data","exclude_types","text_template","items_count_donate","count_hint","add_to_cart","switch_","_update_count","product_in_cart","hasOwnProperty","group_error","count_state","only_dig","_calculate_price","_price","currenct_in_cart","template_counter_i","isNaN","sign","donate_get_service_by_id","donateResetPaymentState","repeat","coupon_reset","coupon_sl","inputs","vl","trim","update_inputs","donate_cart","cart_parsed","product_count_in_cart","max_item_count","local_prm","els_","initDonate","donate_cart_button","els","selector_","_loop3","donateFlushCart","setAvatar","user","photoTG","photo_url","avatarSelector","first_name","last_name","toUpperCase","checkAuthAndDisplayDonate","NICKNAME","onTelegramAuth","autoAuthTelegramObserver","debugWriteTelegramAuth","cookie_field","couponCheck","coins","selector_c","input","coupon_notfd","check_coupon_valid","input_lock","donateCartCall","donate_enable_coupon","get_data_service","generatePaymentLink","sum","max_sum","_d_service","callback_data","zalupa_pay","zalupa_pay_finish_modal","enable_modal_result_sc","payment_action_bt","open","cart_dom","succ_text","cont_ok","build_modal_wind","flush_inputs_donate","services_cookie","services_origin","nickname_update","cart_keys","selectors_payment","sum_price","coupon_container","sum_container","donateCoinsPay","donateModalCall","type_item","item_id","customer_field","email_container_classL","modal_payment_text","selector_method_pay","payment_text_form","item_name","update_title","descriptor","donate_sum_title","desc_get","randomNick","fldSelect","linksSet","fisrt_el_mrg","mrg","token_","initLanding","finishLoad","heart","observerSystemTheme","mode_list","theme_switch","updateTheme","root","_loop4","matchMedia","matches","callSucessPayModal","glob_func_payment_data","item_nm_payment_result","item_type_","product_name","t","update_pm_desc","img_product","name_product","name_selector","buildPayment","status","private_gift_button","item_type","system_template","payment_system","sum_template","enrolled","prepend","created_at","parsed_time","template_invite_link","private_invite","enable_modal","successPay","displayPromotion","main","promotion","active","s_text","paddingLeft","adaptiveDisplayLand","updater","header_height","offsetHeight","vova_pc_version","vova_pc_version_mask","clipboardFunc","field_selector","notify_text","copyText","setSelectionRange","clipboard","writeText","spClownLoad","buttons","spClownShow","donateContainerHash","observerContainerHash","rulesModalOpen","rules","rulesPrivateContainerHash","openAdminContact","max_len","label","space","maxLength","update_len_counter","initSOptimizeGA","dataLayer","gtag","adminsContactContainerHash","hash_array","skip_check","script_telegram_widget","telegram_bot_username","initJarallax","jarallax","speed","initTooltip","tooltipTriggerList","tooltipList","tooltipTriggerEl","bootstrap","Tooltip","update","initSmoothScrollObserver","scrollerObject","SmoothScroll","callScroller","identifier","animateScroll","offset","onhashchange","privateServerModuleInit","tonyComeBack","update_days","days_count","date1","date2","differenceInTime","differenceInDays","button_contact_land","button_auth","telegram_auth_avatar","initCore","preloader","wait","move_wait","script_core"],"sources":["../assets/js/core.js"],"sourcesContent":["/**\n * @suppress {uselessCode}\n */\n\n\"use strict\";\nconst site_domains = {\n    prod: domain_site,\n    dev: development_hosts[0],\n    test: development_hosts[1],\n};\nconst cart_cookie = \"cart_box\";\nconst channels = 2;\nconst links_lt = [{\n    name: \"twitch\",\n    link: \"https://www.twitch.tv/bratishkinoff\",\n},\n    {\n        name: \"youtube\",\n        link: \"https://www.youtube.com/channel/UC_-kIftWIXsTrVXZy0lJdXQ\",\n    },\n    {\n        name: \"telegram\",\n        link: \"https://t.me/zalupaonline\",\n    },\n    {\n        name: \"discord\",\n        link: \"https://discord.gg/qEqbVbMeEx\",\n    },\n    {\n        name: \"tiktok\",\n        link: \"https://www.tiktok.com/@nebratishkin\"\n    }\n];\nconst launcher_platforms = {\n    mac: \"dmg\",\n    linux: \"deb\",\n    windows: \"msi\"\n}\nconst gitOwner = \"Zalupa-Online\";\nconst gitLauncherRepo = \"launcher-releases\";\nconst lock_of = true;\nconst coins_sell_mode = true;\nvar selector_card_skin_displayed = \"\";\nvar donate_services_array = [];\nvar notify_hidden = true;\nvar glob_players = [];\nvar glob_events_status = false;\nvar allow_display_login_hint = true;\nvar timer_notify;\nvar swiper_comments;\nvar payment_url_global;\nvar checked_coupon = \"\";\nvar failed_coupon = \"\";\nvar crypto_token = \"\";\nvar tooltip_instance;\nvar events_page_state = \"news\";\nvar donate_displayed = false;\nvar modal_displayed = false;\nvar freeze_crypto = false;\nvar freeze_monitoring = false;\nvar lock_sticker_switch = false;\nvar gameServerUpdater_setter;\nvar work_domain_v = \"zalupa.online\";\nvar products_by_serverid = [];\nvar glob_auth_player_data = [];\nvar current_c_item = 0;\nvar current_c_item_name = \"\";\nvar telegram_cookie_token = \"telegram_auth\";\nvar first_init_head_adapt = 0;\nvar first_init_head_adapt_vova = 0;\nvar current_item_type = 0;\nvar client_ip = \"\";\nvar avatar_loaded = false;\nvar telegram_glob_session = {\n    auth_data: null, response: null\n};\nconst telegram_social_bot = \"https://t.me/ZalupaScBot\";\nconst debug_lock_init = false;\nconst telegram_auth_enabled = true;\nconst feedback_module_enabled = false;\nconst feedback_tg_auth_skip = true;\nconst tokens_system_enabled = true;\nconst initHost = () => {\n    const keys = Object.keys(site_domains);\n    for (let i = 0; i < keys.length; i++) {\n        if (site_domains[keys[i]] === window.location.hostname) {\n            work_domain_v = site_domains[keys[i]];\n        }\n    }\n}\nconst linkHash = () => {\n    return window.location.hash.substring(1);\n}\nconst prepare_img_link = (img_link) => {\n    return img_link.replace(\"https://\", \"//\").replaceAll(/\\//g, \"\\\\/\");\n}\nconst time_correction = (date) => {\n    const userTimezoneOffset = -date.getTimezoneOffset() * 60000;\n    return new Date(date.getTime() - userTimezoneOffset);\n}\nconst time_in_moscow_get = (date = null) => {\n    if (!date) {\n        date = new Date();\n    }\n    return new Date(date.toLocaleString(\"en-US\", {\n        timeZone: \"Europe/Moscow\",\n    }));\n}\nconst getOffset = (date, timezone) => {\n    try {\n        -new Date(date).toLocaleString([], {\n            timeZone: timezone,\n            timeZoneName: 'shortOffset'\n        }).match(/(?:GMT|UTC).+/)[0] * 60;\n    } catch (e) {\n        console.error(`getOffset : ${e}`);\n        return 0;\n    }\n}\nconst formatDate = (date, now = null) => {\n    let diff = new Date() - date;\n    if (now) {\n        diff = now - date;\n    }\n\n    if (diff < 1000) {\n        return 'прямо сейчас';\n    }\n\n    let sec = Math.floor(diff / 1000);\n\n    if (sec < 60) {\n        return sec + ` ${getNoun(sec, \"секунду\", \"секунды\", \"секунд\")} назад`;\n    }\n\n    let min = Math.floor(diff / (1000 * 60));\n    if (min < 60) {\n        return min + ` ${getNoun(min, \"минуту\", \"минуты\", \"минут\")} назад`;\n    }\n\n    let hour = Math.floor(diff / (1000 * 60 * 60));\n    if (hour < 24) {\n        return hour + ` ${getNoun(hour, \"час\", \"часа\", \"часов\")} назад`;\n    }\n\n    let d = date;\n    d = [\n        '0' + d.getDate(),\n        '0' + (d.getMonth() + 1),\n        '' + d.getFullYear(),\n        '0' + d.getHours(),\n        '0' + d.getMinutes()\n    ].map(component => component.slice(-2));\n\n    return d.slice(0, 3).join('.') + ' ' + d.slice(3).join(':');\n}\nconst utf8_to_b64 = (str) => {\n    return window.btoa(unescape(encodeURIComponent(str)));\n}\nconst b64_to_utf8 = (str) => {\n    return decodeURIComponent(escape(window.atob(str)));\n}\nconst randDiaps = (max = 10) => {\n    return Math.floor(Math.random() * max) + 1;\n}\nconst getPlatform = () => {\n    if (navigator.platform.indexOf(\"Mac\") === 0 || navigator.platform === \"iPhone\") {\n        return \"mac\";\n    }\n    if (navigator.platform.indexOf(\"Linux\") === 0) {\n        return \"linux\";\n    }\n    return \"windows\";\n}\nconst isChrome = () => {\n    return /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor);\n}\nconst downloadLauncher = () => {\n    getGitLauncherReleases(function(links_) {\n        const link = links_[getPlatform()];\n\n        window.location = link;\n        console.debug(`Init downloading file from url : ${link}`);\n\n        if (!isChrome()) {\n            notify(`Сейчас тебе скачаем файл <span class=\"text-gradient-primary\">${\n                link.split(\"/\").slice(-1)[0]\n            }</span>`);\n        }\n    });\n}\nconst generateRandomHex = size => [...Array(size)].map(\n    () => Math.floor(Math.random() * 16).toString(16)\n).join('');\nconst getAvatarColorIDforTG = (user_id) => {\n    var result = 0;\n    var base = 1;\n    while (user_id > 0) {\n        result += (user_id % 7) * base;\n        base *= 10;\n        user_id = Math.floor(user_id / 7);\n    }\n    return parseInt(result.toString().slice(-1));\n}\nconst getHash = (link) => {\n    const hash = window.location.hash.substr(1);\n    return Object.keys(hash.split(\"&\").reduce((result, item) => {\n        const parts = item.split(\"=\");\n        result[parts[0]] = parts[1];\n        return result;\n    }, {}))[0];\n}\nconst re_check = (callback) => {\n    grecaptcha.ready(() => {\n        grecaptcha.execute(re_token, {\n            action: \"submit\",\n        }).then((token_update) => {\n            callback(token_update);\n        });\n    });\n}\nconst shuffle = (array) => {\n    let currentIndex = array.length,\n        randomIndex;\n    while (currentIndex !== 0) {\n        randomIndex = Math.floor(Math.random() * currentIndex);\n        currentIndex--;\n        [array[currentIndex], array[randomIndex]] = [array[randomIndex], array[currentIndex],];\n    }\n    return array;\n}\nconst alternateSort = (list) => {\n    let minIndex = 0;\n    let minVal = 0;\n    for (let i = 0; i < list.length; i++) {\n        minIndex = i;\n        minVal = list[i];\n        for (let j = i + 1; j < list.length; j++) {\n            if (list[j] < minVal) {\n                minVal = list[j];\n                minIndex = j;\n            }\n        }\n        if (minVal < list[i]) {\n            const temp = list[i];\n            list[i] = list[minIndex];\n            list[minIndex] = temp;\n        }\n    }\n}\nconst getImageLightness = (imageSrc, callback, calculate = true) => {\n    const img = document.createElement(\"img\");\n    img.src = imageSrc;\n    img.crossOrigin = \"Anonymous\";\n    img.style.display = \"none\";\n    document.body.appendChild(img);\n    let colorSum = 0;\n    if (calculate) {\n        img.onload = () => {\n            const canvas = document.createElement(\"canvas\");\n            canvas.width = this.width;\n            canvas.height = this.height;\n            const ctx = canvas.getContext(\"2d\");\n            try {\n                ctx.drawImage(this, 0, 0);\n                const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n            } catch (_) {\n                callback(null);\n                return;\n            }\n            const data = imageData.data;\n            let r, g, b, avg;\n            for (let x = 0, len = data.length; x < len; x += 4) {\n                r = data[x];\n                g = data[x + 1];\n                b = data[x + 2];\n                avg = Math.floor((r + g + b) / 3);\n                colorSum += avg;\n            }\n            const brightness = Math.floor(colorSum / (this.width * this.height));\n            callback(brightness);\n            img.remove();\n        };\n    }\n}\nconst is_apple_platform = () => {\n    const mac = /(Mac|iPhone|iPod|iPad)/i.test(navigator.platform);\n    if (mac) {\n        return true;\n    }\n}\nconst validateEmail = (email) => {\n    return String(email).toLowerCase().match(/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/);\n}\nconst url_builder_ = (base_url, submit_data_) => {\n    const url = new URL(base_url);\n    for (let i = 0; i < submit_data_.length; i++) {\n        url.searchParams.set(submit_data_[i].name, submit_data_[i].value);\n    }\n    return url.href;\n}\nconst countProperties = (obj) => {\n    return Object.keys(obj).length;\n}\nconst getNoun = (number, one = \"игрок\", two = \"игрока\", five = \"игроков\") => {\n    let n = Math.abs(number);\n    n %= 100;\n    if (n >= 5 && n <= 20) {\n        return five\n    }\n    n %= 10;\n    if (n === 1) {\n        return one\n    }\n    if (n >= 2 && n <= 4) {\n        return two\n    }\n    return five;\n}\nconst getCrypto = (callback) => {\n    re_check((token_update) => {\n        requestCall((r) => {\n            if (r.success) {\n                callback(r.token);\n            } else {\n                callback(\"\");\n            }\n        }, `${backend_host}/crypto`, \"POST\", true, {\n            token: token_update,\n        });\n    });\n}\nconst get_events_ = (callback) => {\n    re_check((token_update) => {\n        requestCall((r) => {\n            callback(r.events);\n        }, `${backend_host}/events`, \"POST\", true, {\n            token: token_update,\n        });\n    });\n}\nconst get_yt_video_ = (callback, video_id, skip = false) => {\n    if (!skip) {\n        re_check((token_update) => {\n            requestCall(\n                (r) => {\n                    callback(r.body);\n                }, `${backend_host}/youtube_get`, \"POST\", true, {\n                    token: token_update,\n                    video_id: video_id,\n                });\n        });\n    } else {\n        callback(null);\n    }\n}\nconst get_news_ = (callback, source) => {\n    re_check((token_update) => {\n        requestCall((r) => {\n            callback(r.messages);\n        }, `${backend_host}/channel_parse?choice=${source}`, \"POST\", true, {\n            token: token_update,\n        });\n    });\n}\nconst get_rules_private_server = (callback) => {\n    requestCall((r) => {\n        callback(r);\n    }, \"assets/data/private_server_rules.json\", \"GET\", true);\n}\nconst appendPostsNews = (iframe=true) => {\n    const loading_done = () => {\n        setTimeout(\n            () => {\n                const sl = document.getElementById(\"telegram_block_load\");\n                const container_news = document.getElementById(\"news_zlp_buttons\");\n                try {\n                    sl.parentNode.removeChild(sl);\n                    container_news.style.display = \"\";\n                } catch (_) {}\n            }, 150);\n    };\n    if (iframe) {\n        const template = `\n        <div class=\"shadow-vertical-overlay vertical-top-shadow\" style=\"width:100vw!important\"></div>\n        <div class=\"shadow-vertical-overlay vertical-bottom-shadow\" style=\"width:100vw!important\"></div>\n        <iframe \n            style=\"min-height:450px;width:100vw\" \n            id=\"tg-iframe-view\"\n            src=\"https://telegram-worker.zalupa.online/zalupaonline\" \n            onload=\"try{document.getElementById('telegram_block_load').remove()} catch {}\">\n        </iframe>`;\n        const c = document.getElementById(\"news-c-container\");\n        c.innerHTML = template + c.innerHTML;\n        loading_done();\n\n        document.getElementById(\"theme-mode\").addEventListener('change', function() {\n            const frame = document.getElementById(\"tg-iframe-view\");\n            const url_ob = new URL(frame.src);\n\n            if (this.checked) {\n                url_ob.hash = \"#dark\";\n            } else {\n                url_ob.hash = \"#light\";\n            }\n            frame.src = url_ob.href;\n        });\n    } else {\n        const createSwiper = () => {\n            new Swiper(\"#news_swipe_container\", {\n                spaceBetween: 12,\n                loop: true,\n                observer: true,\n                observeParents: true,\n                preventClicks: false,\n                preventClicksPropagation: false,\n                autoplay: {\n                    delay: 1000 * 10,\n                },\n                pagination: {\n                    el: \"#news_swiper_pagination\",\n                    clickable: true,\n                },\n                navigation: {\n                    prevEl: \"#prev_news\",\n                    nextEl: \"#next_news\",\n                },\n            });\n        };\n        const text_modify_enable = true;\n        const text_size_static = true;\n        const add_news_in_array = (posts) => {\n            const adaptive_news_text = true;\n            const array_ = document.getElementById(\"news_swipe_array\");\n            posts = posts.reverse();\n            for (let i = 0; i < posts.length; i++) {\n                const text = posts[i].text;\n                const text_els = text.split(\" \");\n                const datetime = new Date(posts[i].datetime_utc);\n                if (!posts[i].cover) {\n                    posts[i].cover = \"assets/images/spawn.webp\";\n                }\n                array_.innerHTML = array_.innerHTML + `\n                    <div class=\"swiper-slide h-auto px-2\" style=\"max-height: 40vh !important;display: ${\n                    text_els.length >= 5 ? 'block' : 'none'\n                }\">\n                        <figure class=\"card h-100 position-relative border-0 news-figure\" id=\"news_figure_${i}\">\n                            <div class=\"background-news\" id=\"background-news-${i}\">\n                                <div class=\"background-news-overlay\" id=\"news-overlay-${i}\">\n                                    <div class=\"background-news-overlay-dark-mode\">\n                                        <div \n                                        style=\"z-index:6;top:35.1%;height:65%\"\n                                        class=\"shadow-vertical-overlay shadow-vertical-overlay-news vertical-bottom-shadow\"\n                                        ></div>\n                                        <blockquote class=\"card-body mt-2 mb-3 news-text-container\">\n                                            <p class=\"fs-md mb-0 news-text h6\" id=\"news_text_${i}\" style=\"font-family:sans-serif\">\n                                                    ${text}</p>\n                                            <div class=\"news-bottom-container\" style=\"z-index:8\">\n                                                <a class=\"btn btn-primary shadow-primary btn-lg news-button-view\"\n                                                   href=\"${posts[i].link}\" target=\"_blank\">\n                                                        Подробнее</a>\n                                            </div>\n                                        </blockquote>\n                                    </div>\n                                </div> \n                            </div>\n                        </figure>\n                        <span class=\"news-date-text\">\n                            ${datetime.toLocaleDateString()} \n                            ${datetime.toLocaleTimeString(\"ru-RU\", {\n                    hour: \"2-digit\", minute: \"2-digit\",\n                })}\n                        </span>\n                    </div>\n                `;\n                const selector_bg = document.getElementById(`background-news-${i}`);\n                selector_bg.style.backgroundImage = `url(${posts[i].cover})`;\n                if (text_modify_enable) {\n                    const selector_text = document.getElementById(`news_text_${i}`);\n                    selector_text.style.width = \"100%\";\n                    selector_text.classList.add(\"text-light\");\n                    if (text_size_static) {\n                        selector_text.style.fontSize = 'calc(1.35vw + .75vh)';\n                    } else {\n                        const text_len = selector_text.innerText.length;\n                        const text_split = selector_text.innerText.split(\" \");\n                        const font_size = ((text_len - -8) * .4) / 100;\n                        const fix_float_fs = (\n                            float, font_size, correction_float = .55,\n                            correction_font = .26, max_val = .94\n                        ) => {\n                            float = float < correction_float ? correction_float * (\n                                font_size / correction_font\n                            ) : float\n                            return max_val ? (float < max_val ? float : max_val) : float\n                        }\n                        selector_text.style.fontSize = `calc(${\n                            fix_float_fs(parseFloat(1.96 - font_size), font_size)\n                        }vw + ${\n                            fix_float_fs(parseFloat(2.16 - font_size), font_size)\n                        }vh + ${\n                            fix_float_fs(parseFloat(2 - font_size), font_size)\n                        }vmin)`;\n                        selector_text.style.padding = `${\n                            fix_float_fs(parseFloat(\n                                1.45 - font_size\n                            ), font_size, .22, 1.05)\n                        }rem`;\n                        const calculate_text_position = () => {\n                            if (!adaptive_news_text) {\n                                return;\n                            }\n                            // local init var\n                            const identifier_sl = `news_text_${i}`;\n                            const switch_val = 10;\n                            const selector_text = document.getElementById(identifier_sl);\n                            const font_size = parseFloat(\n                                window.getComputedStyle(selector_text, null)\n                                    .getPropertyValue('font-size')\n                                    .replace(\"px\", \"\")\n                            );\n                            selector_text.style.maxHeight = \"32vh\";\n                            if (font_size > switch_val) {\n                                selector_text.style.position = \"absolute\";\n                                selector_text.style.display = \"inline-block\";\n                                selector_text.style.paddingBottom = \"5rem\";\n                                selector_text.style.paddingRight = \"3rem\";\n                            } else {\n                                selector_text.style.position = \"\";\n                                selector_text.style.display = \"\";\n                                selector_text.style.paddingBottom = \"\";\n                                selector_text.style.paddingRight = \"\";\n                            }\n                        }\n                        addEventListener('resize', (event) => calculate_text_position());\n                        setInterval(calculate_text_position, 50);\n                    }\n                }\n                getImageLightness(posts[i].cover, (brightness) => {\n                    const style_ = `#000000${\n                        (((parseFloat(brightness) / 255.0) * 100.0)\n                            .toFixed() + 64)\n                            .toString(16)\n                            .slice(0, 2)\n                    }`;\n                    document.getElementById(`news-overlay-${i}`).style.background = style_;\n                });\n            }\n            if (posts) {\n                createSwiper();\n                loading_done();\n            }\n        };\n        get_news_((posts) => {\n            add_news_in_array(posts);\n        }, 1);\n    }\n}\nconst closeButtonDonateAdaptive = () => {\n    if (!is_apple_platform()) {\n        document.getElementById(\"exit-button-container-donate\").style.minHeight = \"100%\";\n    }\n}\nconst donateSwitchContainer = (display) => {\n    const container = document.querySelector(\".donate-global-container\");\n    const style_sticker = document.getElementById(\"super-klassniy-sticker-0\").style;\n    const style_main = document.querySelector(\"main\").style;\n    style_sticker.opacity = 0;\n    const update_zIndex = (variable) => {\n        setTimeout(() => {\n            container.style.zIndex = variable;\n        }, 850);\n    };\n    if (!donate_displayed || display) {\n        const button = document.getElementById(\"donateButtonLandingTop\");\n        button.setAttribute(\"disabled\", \"\");\n        notify(\"Переходим к донату...\");\n\n        closeButtonDonateAdaptive();\n\n        checkTelegramAuthData(function (tg_success) {\n            button.removeAttribute(\"disabled\");\n            if (tg_success) {\n                document.body.style.overflowY = \"hidden\";\n                window.scrollTo({\n                    top: 0,\n                    behavior: \"smooth\",\n                });\n                container.style.minHeight = \"\";\n                update_zIndex(\"\");\n                donate_displayed = true;\n                location.hash = \"#donate\";\n                style_main.paddingTop = \"50px\";\n            } else {\n                openTelegramAuthModal(true);\n            }\n        });\n    } else {\n        container.style.minHeight = \"0\";\n        container.style.zIndex = \"-1\";\n        document.body.style.overflowY = \"\";\n        donate_displayed = false;\n        location.hash = \"#\";\n        style_main.paddingTop = \"0\";\n    }\n}\nconst get_game_server_data = (callback) => {\n    const _data_error = (ok = false) => {\n        let string_ = \"\";\n        if (ok) {\n            string_ = \"\";\n        } else {\n            string_ = \"Не удается обновить информацию о сервере...\";\n        }\n        document.getElementById(\"error_get_server_status\").innerText = string_;\n    };\n    if (crypto_token) {\n        requestCall((r) => {\n            setTimeout(\n                () => {\n                    freeze_monitoring = false;\n                }, 800);\n            if (r.success) {\n                callback(r.body);\n            } else {\n                crypto_token = \"\";\n            }\n        }, `${backend_host}/server`, \"POST\", true, {\n            crypto_token: crypto_token\n        });\n    } else {\n        initCrypto();\n        freeze_monitoring = false;\n    }\n}\nconst monitoring_game_server_update = () => {\n    if (!freeze_monitoring) {\n        freeze_monitoring = true;\n        get_game_server_data((data) => {\n            if (data.online) {\n                if (typeof gameServerUpdater_setter !== \"undefined\") {\n                    clearInterval(gameServerUpdater_setter);\n                }\n                const selector = document.getElementById(\"server_online_status\");\n                selector.classList.remove(\"loading-dots\");\n                selector.innerHTML = `Сейчас играет <span class=\"text-primary fw-semibold\">${data.online}</span>\n            <i class=\"emoji male-emoji\" style=\"margin-left: -.35rem!important;background-image:url('assets/images/emoji/male.png')\"><b>♂</b></i>\n            ${getNoun(data.online)}\n            <i class=\"emoji male-emoji\" style=\"background-image:url('assets/images/emoji/male.png')\"><b>♂</b></i>\n            `;\n            }\n        });\n    }\n}\nconst gameServerUpdater = () => {\n    monitoring_game_server_update();\n    gameServerUpdater_setter = setInterval(monitoring_game_server_update, 300);\n    setInterval(monitoring_game_server_update, 1500);\n}\nconst initEventsList = () => {\n    const row_container = document.getElementById(\"events-row-container\");\n    const loader_ = document.getElementById(\"events_block_load\");\n    const switch_button_ = document.getElementById(\"events-c-button\");\n    const row_class = [\"row-cols-md-2\", \"row-cols-lg-2\", \"row-cols-xl-3\"];\n\n    get_events_((data) => {\n        switch_button_.removeAttribute(\"disabled\");\n        if (data && data.length) {\n            glob_events_status = true;\n            events_block_load.remove();\n            data.sort((a, b) => {\n                const keyA = new Date(a.date_start),\n                    keyB = new Date(b.date_start);\n                if (keyA < keyB) return -1;\n                if (keyA > keyB) return 1;\n                return 0;\n            });\n            for (let i = 0; i < data.length; i++) {\n                if (3 > i > 0) {\n                    row_container.classList.add(row_class[i]);\n                }\n                const st_date = time_correction(new Date(data[i].date_start));\n                const end_date = time_correction(new Date(data[i].date_end));\n                const time_in_moscow = time_in_moscow_get();\n                let badge = \"\";\n                if (st_date > time_in_moscow) {\n                    badge = \"Скоро\";\n                } else if (time_in_moscow > end_date) {\n                    badge = \"Завершено\";\n                }\n                const template_ = `\n                    <div class=\"col\">\n                        <div class=\"object-block-col\">\n                            <h1>${data[i].title}</h1>\n                            <h4 class=\"text-primary\" style=\"margin-top: -1.2rem\">${badge}</h4>\n                            <h6 style=\"margin-top: -1rem\">С <span class=\"text-primary\">\n                                ${st_date.toLocaleDateString(\"ru-RU\")} ${\n                                    (\"0\" + st_date.getHours()).slice(-2)}:${\n                                        (\"0\" + st_date.getMinutes()).slice(-2)}\n                                </span> по <span class=\"text-primary\">\n                                ${end_date.toLocaleDateString(\"ru-RU\")} ${\n                                    (\"0\" + end_date.getHours()).slice(-2)}:${\n                                        (\"0\" + end_date.getMinutes()).slice(-2)}\n                                </span></h6>\n                            <p>${data[i].text}</p>\n                        </div>\n                    </div>\n                `;\n                row_container.innerHTML = row_container.innerHTML + template_;\n            }\n        }\n    });\n}\nconst get_donate_services = (callback) => {\n    re_check((token_update) => {\n        requestCall((r) => {\n            callback(r.services);\n        }, `${backend_host}/donate/services`, \"POST\", true, {\n            token: token_update,\n        });\n    });\n}\nconst create_payment = (callback, customer, products, server_id, email = \"\", coupon = \"\") => {\n    re_check((token_update) => {\n        requestCall((r) => {\n            callback(r.payment);\n        }, `${backend_host}/donate/payment/create`, \"POST\", true, {\n            customer: customer,\n            products: products,\n            email: email,\n            coupon: ((donatePayMethodSelector() !== 2) ? coupon : null),\n            token: token_update,\n            server_id: server_id,\n            pay_method: donatePayMethodSelector(),\n            success_url: `https://${work_domain_v}`,\n            tg_auth_data: getTelegramAuth(true)\n        });\n    });\n}\nconst generateGiftLink = (callback, payment_id) => {\n    getCrypto((crypto_token) => {\n        callback(`${backend_host}/gift/private_server?` + `payment_id=${payment_id}&` + `crypto_token=${\n            encodeURIComponent(crypto_token)}&` + `sign=${generateRandomHex(24)}`);\n    })\n}\nconst check_coupon = (callback, coupon) => {\n    re_check((token_update) => {\n        requestCall((r) => {\n            if (r.coupon && r.success) {\n                callback(r.coupon);\n            } else {\n                callback(null);\n            }\n        }, `${backend_host}/donate/coupon`, \"POST\", true, {\n            code: coupon,\n            token: token_update,\n            pay_method: donatePayMethodSelector()\n        });\n    });\n}\nconst testImage = (url) => {\n    const tester = new Image();\n    // tester.addEventListener('load', TSimageFound);\n    tester.addEventListener('error', reInitTelegramAuth);\n    tester.src = url;\n}\nconst loadPlayerAvatar = (avatar, def_selector=\"telegram-auth-avatar\", url_generator=false) => {\n    const exec_ = () => {\n        let avatar_selector = null;\n        let avatar_style = null;\n\n        if (!url_generator) {\n            try {\n                avatar_selector = document.getElementById(def_selector);\n                avatar_selector.style;\n            } catch {}\n\n            console.debug(`Load avatar : ${avatar}`);\n            document.getElementById(\"tg-user-avatar-text\").innerText = \"\";\n        }\n\n        for (let i = 0; i < 10; i++) {\n            if (!crypto_token) {\n                initCrypto();\n            } else {\n                const raw_link = `${\n                    backend_host\n                }/profile/avatar/?texture_hash=${\n                    avatar\n                }&crypto_token=${\n                    encodeURIComponent(crypto_token)\n                }&tg_auth=${\n                    encodeURIComponent(getTelegramAuth(true))\n                }`;\n\n                const link = prepare_img_link(raw_link);\n\n                testImage(raw_link);\n\n                if (!url_generator) {\n                    avatar_selector.setAttribute(\n                        \"style\", `background-image: url(\"${link}\");border-radius:.${\n                            def_selector.includes(\"card-avatar\") ? 35 : 15}rem;`\n                    );\n                } else {\n                    return link;\n                }\n\n                return;\n            }\n        }\n    }\n\n    exec_();\n}\nconst reInitTelegramAuth = () => {\n    checkTelegramAuthData(function (_) {\n    });\n}\nconst checkTelegramAuthData = (callback, skip = false, raw = false, skip_cache = false) => {\n    const auth_data = getTelegramAuth(true);\n    if (auth_data) {\n        if (telegram_glob_session.auth_data === auth_data && !skip_cache) {\n            callback(telegram_glob_session.response.success);\n            return;\n        }\n        console.debug(`skip pos : ${skip}`);\n        if (!skip) {\n            re_check((token_update) => {\n                requestCall((r) => {\n                    if (r) {\n                        console.debug(r);\n                        if (!r.success) {\n                            // location.href = telegram_social_bot;\n                            // console.log(\"Redirect to \" + telegram_social_bot);\n                            openLoginHint();\n                            callback(false);\n                        } else {\n                            const avatar = document.getElementById(\"telegram-auth-avatar\");\n                            /*\n                                data-bs-toggle=\"tooltip\" data-bs-placement=\"bottom\"\n                                title=\"TITLE_TEXT\"\n                            */\n                            glob_auth_player_data = r.player_data;\n                            console.debug(r);\n                            // const orderedData = getTelegramAuth();\n                            if (r.player_data) {\n                                const player = r.player_data;\n                                const skin = player.SKIN;\n                                const avatar_init = () => {\n                                    if (\n                                        !avatar.style.backgroundImage || avatar.style.backgroundImage.length < 1\n                                    ) {\n                                        loadPlayerAvatar(skin);\n                                        loadPlayerAvatar(skin, \"card-avatar-object\");\n                                        avatar_loaded = true;\n                                    }\n                                }\n\n                                avatar_init();\n                                avatar.setAttribute(\"data-bs-toggle\", \"tooltip\");\n                                avatar.setAttribute(\"data-bs-placement\", \"bottom\");\n                                avatar.setAttribute(\"title\", player[\"NICKNAME\"]);\n\n                                setInterval(function () {\n                                    avatar_init();\n                                }, 150);\n\n                                allow_display_login_hint = false;\n                            }\n                            telegram_glob_session = {\n                                auth_data: auth_data,\n                                response: r\n                            };\n                            callback(raw ? r : r.success);\n                        }\n                    } else {\n                        callback(false);\n                    }\n                }, `${backend_host}/telegram/auth/check`, \"POST\", true, {\n                    token: token_update,\n                    tg_auth_data: auth_data\n                });\n            });\n        } else {\n            callback(true);\n        }\n    } else {\n        callback(false);\n    }\n}\nconst getIPClient = (callback) => {\n    requestCall(\n        (r) => {\n            if (r && r.success) {\n                client_ip = r.ip;\n                callback(r.ip);\n            } else {\n                callback(null);\n            }\n        }, `${backend_host}/ip`, \"GET\", true);\n}\nconst cloudflareTraceJSON = (text) => {\n    const keys = text.split(\"\\n\");\n    let dict = {};\n    for (const k of keys) {\n        p = k.split(\"=\");\n        dict[p[0]] = p[1];\n    }\n    console.debug(dict);\n    return dict;\n}\nconst cloudflareTrace = (callback) => {\n    requestCall(\n        (r) => {\n            if (r) {\n                callback(cloudflareTraceJSON(r));\n            } else {\n                callback(null);\n            }\n        }, `https://cloudflare.com/cdn-cgi/trace`, \"GET\", false);\n}\nconst getGitLauncherReleases = (callback) => {\n    requestCall(\n        (r) => {\n            if (\n                r && r.id && r.target_commitish === \"main\" &&\n                r.author.login === \"hevav\" &&\n                !r.draft && r.assets.length\n            ) {\n                let links = {};\n                for (let p of Object.keys(launcher_platforms)) {\n                    for (let a of r.assets) {\n                        if (a.name.split(\".\").slice(-1)[0] === launcher_platforms[p]) {\n                            links[p] = a.browser_download_url;\n                        }\n                    }\n                }\n                callback(links);\n            } else {\n                callback([]);\n            }\n        }, `https://api.github.com/repos/${gitOwner}/${gitLauncherRepo}/releases/latest`,\n        \"GET\", true\n    );\n}\nconst setLauncherLinks = () => {\n    const button_template = (link, name) => {return `\n        <a href=\"${link}\" style=\"text-transform:capitalize\"\n           class=\"btn btn-primary shadow-primary mt-3 m-1\" download=\"\">\n        ${name.toLowerCase()}</a>\n    `};\n    const selector = document.getElementById(\"zalupa-launcher-links\");\n\n    getGitLauncherReleases(function (d_links) {\n        const keys = Object.keys(d_links);\n        for (let k of keys) {\n            selector.innerHTML = selector.innerHTML + button_template(d_links[k], k);\n        }\n    });\n}\nconst checkFeedbackStatus = (callback) => {\n    const auth_data = getTelegramAuth(true);\n    if (auth_data) {\n        re_check((token_update) => {\n            requestCall(\n                (r) => {\n                    if (r) {\n                        callback(r.success);\n                    } else {\n                        callback(false);\n                    }\n                }, `${backend_host}/feedback/check`, \"POST\", true, {\n                    token: token_update,\n                    tg_auth_data: auth_data\n                });\n        });\n    }\n}\nconst sendFeedback = (callback, text) => {\n    const auth_data = getTelegramAuth(true);\n    if (auth_data) {\n        re_check((token_update) => {\n            requestCall(\n                (r) => {\n                    if (r) {\n                        callback(r.success);\n                    } else {\n                        callback(false);\n                    }\n                }, `${backend_host}/feedback/send`, \"POST\", true, {\n                    text: text,\n                    token: token_update,\n                    tg_auth_data: auth_data\n                });\n        });\n    }\n}\nconst sendFeedbackAction = () => {\n    const button = document.getElementById(\"send-feedback-button\");\n    const textarea = document.getElementById(\"admin-message\");\n    const text = textarea.value;\n    if (text.length < 20) {\n        notify(\"Сообщение очень короткое!\");\n        return;\n    }\n    const button_lock = (lock = true) => {\n        if (lock) {\n            button.setAttribute(\"disabled\", \"\");\n        } else {\n            button.removeAttribute(\"disabled\");\n        }\n        button.innerText = lock ? \"Ожидайте...\" : \"Отправить\";\n    }\n    button_lock();\n    checkFeedbackStatus((check_data) => {\n        if (check_data) {\n            sendFeedback(\n                (send_data) => {\n                    if (send_data) {\n                        notify(\"Сообщение отправлено админам.\");\n                    } else {\n                        notify(\"Ошибка на стороне сервера, попробуйте позже.\");\n                    }\n                    button_lock(false);\n                }, text);\n        } else {\n            button_lock(false);\n            notify(\"Не удалось пройти проверку, попробуйте позже.\");\n        }\n    });\n}\nconst checkPayment = (callback, payment_id) => {\n    re_check((token_update) => {\n        requestCall((r) => {\n            callback(r.payment);\n        }, `${backend_host}/donate/payment_get`, \"POST\", true, {\n            payment_id: parseInt(payment_id),\n            token: token_update,\n            tokens_send: coins_sell_mode,\n        });\n    });\n}\nconst getPaymentHistory = (callback) => {\n    re_check((token_update) => {\n        requestCall((r) => {\n            try {\n                callback(r.payment);\n            } catch (_) {\n                callback(null);\n                return;\n            }\n        }, `${backend_host}/donate/payment_history`, \"POST\", true, {\n            token: token_update\n        });\n    });\n}\nconst getPlayersSkins = (callback, players, enabled=false) => {\n    if (!enabled) {\n        callback(null);\n        return;\n    }\n    re_check((token_update) => {\n        requestCall((r) => {\n            callback(r.skins);\n        },\n            `${backend_host}/profile/skins/get`,\n            \"POST\", true, {\n            token: token_update,\n            players: players\n        });\n    });\n}\nconst appendServices = () => {\n    get_donate_services((services) => {\n        donate_services_array = services;\n        const size_classes = [\"row-cols-sm-2\", \"row-cols-md-3\", \"row-cols-lg-4\"];\n        const sl = document.getElementById(\"donate_items_list\");\n        const get_product_type = (name, type) => {\n            name = name.toLowerCase();\n            type = type.toLowerCase();\n            /*\n                1 - токены\n                2 - проходка\n                3 - слоты\n            */\n            if (name.includes(\"токен\") && type === \"currency\") {\n                return 1;\n            } else if (name.includes(\"слот\") && type === \"currency\") {\n                return 3;\n            } else if (name.includes(\"проходка\") && type === \"other\") {\n                return 2;\n            }\n        }\n        if (!services.length) {\n            sl.innerHTML = '<span class=\"text-center\">Не удалось получить список товаров.</span>';\n        } else {\n            donate_check_services_cart();\n            for (let i = 0; i < services.length; i++) {\n                const click_data = {\n                    name: services[i].name,\n                    price: services[i].price,\n                    count: services[i].number,\n                    description: services[i].description,\n                    type: services[i].type,\n                    service_id: services[i].id,\n                    server_id: services[i].server_id,\n                };\n                products_by_serverid.push(services[i]);\n                let _name = \"\";\n                // const _desc = \"\";\n                let padding_desc = \"p-3\";\n                let desc_template = `\n                    <p class=\"mb-0\">\n                        ${services[i].price} \n                        ${getNoun(services[i].price, \"рубль\", \"рубля\", \"рублей\")} \n                        = \n                        ${services[i].number} \n                        ${getNoun(services[i].number, \"единица\", \"единицы\", \"единиц\")}\n                    </p>\n                    <p class=\"fs-sm mb-0\">${services[i].description}</p>\n                `;\n                let item_butt_template = '';\n                if (i && size_classes.length >= i) {\n                    sl.classList.add(size_classes[i - 1]);\n                }\n                let click_template = `onClick=\"donate_element_click(${JSON.stringify(click_data)})\"`;\n                if (!coins_sell_mode) {\n                    _name = services[i].name;\n                } else {\n                    let button_title = \"Приобрести\";\n                    let description_other = \"Товар без описания.\";\n                    if (services[i].description) {\n                        description_other = services[i].description\n                    }\n                    if (services[i].name.toLowerCase().includes(\"токен\")) {\n                        _name = `${services[i].price} ${\n                            getNoun(services[i].price, \"рубль\", \"рубля\", \"рублей\")\n                        } = <span class=\"text-primary\">${services[i].number} ${\n                            getNoun(services[i].number, \"токен\", \"токена\", \"токенов\")\n                        }</span>`;\n                        padding_desc = \"p-0\";\n                        desc_template = `\n                        <p class=\"mb-0 token-description-dnt\">\n                            Игровая валюта, которую можно получить как в игре, так и за поддержку проекта.\n                        </p>`;\n                        click_template = \"\";\n                    } else if (services[i].name.toLowerCase().includes(\"слот\")) {\n                        _name = `${services[i].price} ${\n                            getNoun(services[i].price, \"рубль\", \"рубля\", \"рублей\")\n                        } = <span class=\"text-primary\">${services[i].number} ${\n                            getNoun(services[i].number, \"слот\", \"слота\", \"слотов\")\n                        }</span>`;\n                        padding_desc = \"p-0\";\n                        desc_template = `\n                        <p class=\"mb-0 token-description-dnt\">\n                            ${description_other}\n                        </p>`;\n                        click_template = \"\";\n                    } else if (services[i].type = \"other\") {\n                        _name = `\n                        <span class=\"text-primary\">${services[i].name}</span>,\n                        ${services[i].price} ${\n                            getNoun(services[i].price, \"рубль\", \"рубля\", \"рублей\")\n                        }`;\n                        padding_desc = \"p-0\";\n                        desc_template = `\n                        <p class=\"mb-0 token-description-dnt\">\n                            ${description_other}\n                        </p>`;\n                        click_template = \"\";\n                    }\n                    item_butt_template = `\n                        <button class=\"btn btn-primary shadow-primary btn-shadow-hide btn-lg min-w-zl donate-item-butt-bottom\" \n                            onclick=\"donateModalCall(\n                                ${get_product_type(click_data.name, click_data.type)}, ${click_data.service_id}\n                            )\">\n                            ${button_title}\n                        </button>`;\n                }\n                services[i].image = prepare_img_link(services[i].image);\n                sl.innerHTML = sl.innerHTML + `\n                    <div class=\"col\" id=\"donate_item_${services[i].id}\">\n                        <div class=\"card border-0 bg-transparent\" ${click_template}>\n                          <div class=\"position-relative container-item-donate-n\">\n                            <div class=\"parent-image-shadow donate_item_hover\" \n                                id=\"donate_item_hover_${services[i].id}\">\n                                <div class=\"imageContainer item-levitaion-dec\">\n                                    <div \n                                    class=\"foregroundImg\" \n                                    style=\"background-image: url(${services[i].image})\"\n                                    ></div>\n                                    <div \n                                    class=\"backgroundImg\" \n                                    style=\"background-image: url(${services[i].image})\"\n                                    ></div>                               \n                                 </div>\n                            </div>\n                            <div class=\"card-img-overlay d-flex flex-column align-items-center \n                                        justify-content-center rounded-3\" \n                                 style=\"margin: auto\">\n                            </div>\n                          </div>\n                          <div class=\"card-body text-center ${padding_desc}\">\n                                <h3 class=\"fs-lg fw-semibold pt-1 mb-2\">${_name}</h3>\n                                ${desc_template}\n                                ${item_butt_template}\n                          </div>\n                        </div>\n                    </div>\n                `;\n            }\n            checkPrivateServerBuy();\n            setTimeout(\n                () => {\n                    const elem = document.getElementById(\"donate_block_load\");\n                    const ids = [\n                        \"donate_items_list\", \"donate-header-container\",\n                        \"donate-test-mode-enb\", \"donate-cart-container\"\n                    ];\n                    try {\n                        elem.parentNode.removeChild(elem);\n                    } catch (_) {\n                    }\n                    for (let i = 0; i < ids.length; i++) {\n                        try {\n                            document.getElementById(ids[i]).style.display = \"\";\n                        } catch (e) {\n                            console.log(`Donate block loader error. Details: ${e}`);\n                        }\n                    }\n                }, 100);\n        }\n    });\n}\nconst switchEventsPages = (button_name) => {\n    const news_page = document.getElementById(\"news-c-container\");\n    const events_page = document.getElementById(\"events-c-container\");\n    const news_button = document.getElementById(\"news-c-button\");\n    const events_button = document.getElementById(\"events-c-button\");\n    if (button_name !== events_page_state) {\n        if (button_name === \"events\") {\n            if (glob_events_status) {\n                news_page.style.display = \"none\";\n                events_page.style.display = \"block\";\n                news_button.removeAttribute(\"disabled\");\n                events_button.setAttribute(\"disabled\", \"\");\n                events_page.style.top = \"0\";\n                news_page.style.top = \"-2rem\";\n                events_page_state = \"events\";\n            } else {\n                notify(\"Сейчас ивентов нет...\")\n            }\n        } else if (button_name === \"news\") {\n            news_page.style.display = \"block\";\n            events_page.style.display = \"none\";\n            news_button.setAttribute(\"disabled\", \"\");\n            events_button.removeAttribute(\"disabled\");\n            events_page.style.top = \"-2rem\";\n            news_page.style.top = \"0\";\n            events_page_state = \"news\";\n        }\n    }\n}\nconst redirect_ = (url) => {\n    return window.location.replace(url);\n}\nconst ytVideoSetter = (skip = false, only_iframe = true) => {\n    const load_iframe = (el, video_id, params) => {\n        el.innerHTML = `\n            <iframe src=\"https://www.youtube.com/embed/${video_id}\" title=\"YouTube video player\"\n                frameborder=\"0\" class=\"video-container-yt\" id=\"ytframe_${video_id}\"\n                allow=\"accelerometer; ${\n                    params.autoplay != null ? \"autoplay\" : \"\"\n                }; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n                allowfullscreen=\"\" loading=\"lazy\"></iframe>\n        `;\n    }\n    const set_video = (el, video_id, params) => {\n        if (only_iframe) {\n            load_iframe(el, video_id, params);\n        } else {\n            const video = get_yt_video_(\n                (data) => {\n                    if (data && data.video.x720.url && !skip) {\n                        el.innerHTML = `\n                    <video class=\"video-container\" ${\n                            params.autoplay != null ? 'autoplay=\"\"' : \"\"\n                        } ${\n                            params.muted != null ? 'muted=\"\"' : \"\"\n                        } ${\n                            params.loop != null ? 'loop=\"\"' : \"\"\n                        } ${\n                            params.controls != null ? 'controls=\"\"' : \"\"\n                        } style=\"object-fit: contain\">\n                        <source src=\"${data.video.x720.url}\" type=\"video/mp4\">\n                    </video>\n                `;\n                    } else {\n                        load_iframe(el, video_id, params);\n                    }\n                }, video_id, skip);\n        }\n    };\n    for (let el of Array.from(document.getElementsByClassName(\"ytVideoSetter\"))) {\n        const video_id = el.getAttribute(\"video_id\");\n        if (video_id && video_id.length && video_id.length < 20) {\n            set_video(el, video_id, {\n                autoplay: el.getAttribute(\"autoplay\"),\n                muted: el.getAttribute(\"muted\"),\n                loop: el.getAttribute(\"loop\"),\n                controls: el.getAttribute(\"controls\"),\n            });\n            if (el.getAttribute(\"bottomzero\")) {\n                document.getElementById(`ytframe_${video_id}`).style.marginBottom = \"0\";\n            }\n        }\n    }\n}\nconst modal_close_ = () => {\n    if (modal_displayed) {\n        document.body.classList.remove(\"modal-open\");\n        document.getElementById(\"scroll_butt_container\").style.display = \"\";\n        document.getElementsByTagName(\"html\")[0].style.overflowY = \"\";\n        const cont = document.querySelector(\".modal-content\");\n        cont.classList.remove(\"emoji-pay-back\");\n        cont.style.marginTop = \"2em\";\n        const modal = document.getElementById(\"donate_item_modal\");\n        modal.style.opacity = 0;\n        setTimeout(() => {\n            modal.style.display = \"none\";\n        }, 350);\n        modal_displayed = false;\n    }\n}\nconst modal_open_ = (onclick_lock = false) => {\n    modal_displayed = true;\n    document.body.classList.add(\"modal-open\");\n    document.getElementById(\"scroll_butt_container\").style.display = \"none\";\n    document.getElementsByTagName(\"html\")[0].style.overflowY = \"hidden\";\n    try {\n        document.getElementById(\"private_gift_button_modal\").remove()\n    } catch (_) {\n    }\n    const modal = document.getElementById(\"donate_item_modal\");\n    modal.style.display = \"block\";\n    setTimeout(() => {\n        modal.style.opacity = 1;\n        document.querySelector(\".modal-content\").style.marginTop = 0;\n    }, 50);\n    if (!onclick_lock) {\n        window.onclick = (event) => {\n            if (event.target === modal) {\n                modal_close_();\n            }\n        }\n    }\n}\nconst switch_modal_containers = (mode = \"service\", info_params = {}) => {\n    const span = document.getElementsByClassName(\"close_b\")[0];\n    const info = document.getElementById(\"modal-info-container-c\");\n    const service = document.getElementById(\"modal-donate-container-c\");\n    const service_coins = document.getElementById(\"modal-donate-finish-container-b\");\n    const success = document.getElementById(\"modal-donate-success-container\");\n    const finish_donate = document.getElementById(\"modal-donate-finish-container-c\");\n    const title = document.querySelector(\".modal-title\");\n    const _array = [{\n        name: \"service\",\n        selector: service,\n        title: \"Товар\",\n    },\n        {\n            name: \"service_coins\",\n            selector: service_coins,\n            title: \"Оплата пожертвования\",\n        },\n        {\n            name: \"info\",\n            selector: info,\n            title: \"Сообщение\",\n        },\n        {\n            name: \"success\",\n            selector: success,\n            title: \"Чек\",\n        },\n        {\n            name: \"donate_finish\",\n            selector: finish_donate,\n            title: \"Корзина\",\n        },\n    ];\n    for (let i = 0; i < _array.length; i++) {\n        let _mode = \"none\";\n        if (mode === _array[i].name) {\n            _mode = \"block\";\n            title.innerText = _array[i].title;\n        }\n        _array[i].selector.style.display = _mode;\n    }\n    if (mode === \"info\") {\n        title.innerText = info_params.title;\n        if (info_params.content.length) {\n            document.getElementById(\"info-content-modal\").innerHTML = info_params.content;\n        }\n    }\n    span.onclick = () => {\n        modal_close_();\n    };\n}\nconst discount_calculate = (price, discount) => {\n    discount = discount / 100;\n    return (price * discount).toFixed();\n}\nconst get_cookie_cart = () => {\n    let cookie_cart = {};\n    try {\n        cookie_cart = JSON.parse(Cookies.get(cart_cookie));\n    } catch (_) {\n    }\n    return cookie_cart;\n}\nconst updateCartCount = () => {\n    document.getElementById(\"count_cart_items_dn\").innerText =\n        countProperties(get_cookie_cart());\n}\nconst groupAlreadyInCart = (user_cart) => {\n    const cart = Object.keys(user_cart);\n    for (let i = 0; i < donate_services_array.length; i++) {\n        if (donate_services_array[i].type === \"group\") {\n            if (cart.includes(donate_services_array[i].id.toString())) {\n                return true;\n            }\n        }\n    }\n    return false;\n}\n\nconst donatePayMethodSelector = () => {\n    const choice = parseInt(document.getElementById(\"donate-pay-method\").value);\n    const balance = document.getElementById(\"tokens-balance-choice-dnt-container\");\n\n    if (choice == 2) {\n        balance.style.marginTop = \"1em\";\n        balance.style.opacity = 1;\n        document.getElementById(\"donate-coins-payment\").innerHTML = \"\";\n\n        checked_coupon = \"\";\n        failed_coupon = \"\";\n    } else {\n        balance.style.marginTop = \"-1.8em\";\n        balance.style.opacity = 0;\n    }\n    return choice;\n}\n\nconst displayTokens = (v2=true) => {\n    const balance = glob_auth_player_data[\"BALANCE\"];\n\n    if (!tokens_system_enabled) {\n        return;\n    }\n    document.querySelector(\".zalupa-card-container\").style.display = \"\";\n\n    if (Number.isInteger(balance)) {\n        if (!v2) {\n            const base_selector = document.querySelector(\".balance-container\");\n            const balance_value = document.querySelector(\".balance-value\");\n\n            base_selector.style.display = \"\";\n            balance_value.innerText = balance;\n        } else {\n            const container_number = document.getElementById(\"numberZalupaCard\");\n\n            if (!document.querySelector(\".ZalupaCardInput\")) {\n                container_number.innerHTML = container_number.innerHTML + `\n                    <input class=\"ZalupaCardInput\" style=\"display:none\" value=\"${glob_auth_player_data[\"UUID\"]}\">\n                `;\n            }\n\n            const balance_number = document.querySelector(\".number-card-zalupa\");\n            const card_holder = document.querySelector(\".card-holder-zalupa\");\n            const balance_value_card = document.querySelector(\".balance-value-card\");\n            const balance_choice = document.getElementById(\"tokens-balance-choice-dnt\");\n            const cardSelector = \"input.ZalupaCardInput\";\n\n            const template_tokens = `<span class=\"text-primary\">${balance}</span> ${\n                getNoun(balance, \"токен\", \"токена\", \"токенов\")}`;\n\n            balance_choice.innerHTML = `У тебя ${template_tokens}`;\n\n            balance_number.setAttribute(\n                \"onclick\",\n                `clipboardFunc(\n                    \"${cardSelector}\", \n                    \"Номер твоей <span class=\\\\\"text-primary\\\\\" style=\\\\\"font-weight:800\\\\\">ZalupaCard</span> скопирован в буфер обмена.\"\n                )`\n            );\n\n            document.querySelector(cardSelector).value = glob_auth_player_data[\"UUID\"];\n            balance_number.innerText = glob_auth_player_data[\"UUID\"];\n            card_holder.innerText = glob_auth_player_data[\"NICKNAME\"];\n            balance_value_card.innerHTML = template_tokens;\n\n            document.getElementById(\"card-zalupa\").style.backgroundImage =\n                `url(\"${select_card_skin(balance)}\")`;\n        }\n    }\n}\nconst select_card_skin = (balance) => {\n    const skins = {\n        0: \"clay\",\n        50: \"red_mashroom\",\n        100: \"tube_coral\",\n        150: \"gray_glazed_terracotta\",\n        200: \"bee_nest\",\n        350: \"bamboo\",\n        500: \"gilded_blackstone\",\n        750: \"raw_gold\",\n        1000: \"nether_wart\",\n        1500: \"sculk_crystal\",\n        2000: \"rainforced_deepslate\",\n        3000: \"tinted_glass\",\n        4000: \"chiseled_quartz\",\n        5000: \"tnt\",\n        6500: \"warped_stem\",\n        8000: \"respawn_anchor\",\n        10000: \"dark_prismarine\",\n        12000: \"nether\",\n        15000: \"netherite\"\n    };\n    let keys = Object.keys(skins);\n    keys = keys.reverse();\n    const path = \"./assets/images/card_skins\";\n    for (let i = 0; i < keys.length; i++) {\n        const selector = skins[keys[i]];\n        if (balance >= parseInt(keys[i])) {\n            if (selector_card_skin_displayed !== selector) {\n                console.debug(selector);\n                selector_card_skin_displayed = selector;\n            }\n            return prepare_img_link(`${path}/${selector}.png`);\n        }\n    }\n    return prepare_img_link(`${path}/clay.png`);\n}\nconst sendTokensModalOpen = () => {\n    notify(\"Э брат, не завезли пока. Кнопочку не трож\");\n}\nconst comment_show_action = (id, close = false) => {\n    const comment_text = document.getElementById(`comment_text_${id}`);\n    const comment_show = document.getElementById(`comment_show_${id}`);\n    swiper_comments.on(\"slideChange\", () => {\n        comment_show_action(id, true);\n    });\n    if (close || comment_text.getAttribute(\"fullShowComment\") === \"1\") {\n        comment_text.style.height = \"100px\";\n        comment_text.setAttribute(\"fullShowComment\", \"0\");\n        comment_show.innerText = \"Раскрыть\";\n    } else {\n        comment_text.style.height = \"100%\";\n        comment_text.setAttribute(\"fullShowComment\", \"1\");\n        comment_show.innerText = \"Скрыть\";\n    }\n}\nconst checkPrivateServerBuy = () => {\n    const checkFunction = () => {\n        const stop_key = \"Проходка\";\n\n        for (let item of donate_services_array) {\n            // console.debug(`checkPrivateServerBuy : item = ${item.name} / id = ${item.id}`);\n            if (item.name === stop_key && glob_auth_player_data.PRIVATE_SERVER) {\n                const selector_button = document.querySelector(\n                    `#donate_item_${item.id}>div>div.card-body>button`);\n\n                selector_button.innerText = \"Куплено\";\n                selector_button.setAttribute(\"disabled\", \"\");\n                selector_button.removeAttribute(\"onclick\");\n                // открывать чек об оплате (если есть)\n            }\n        }\n    }\n\n    checkFunction();\n    setInterval(checkFunction, 300);\n}\nconst initComments = () => {\n    const array_ = document.getElementById(\"comment_swipe_array\");\n    const createSwiper = () => {\n        swiper_comments = new Swiper(\"#comment_swipe_container\", {\n            spaceBetween: 12,\n            loop: true,\n            observer: true,\n            observeParents: true,\n            preventClicks: false,\n            preventClicksPropagation: false,\n            autoplay: {\n                delay: 3000,\n            },\n            pagination: {\n                el: \".swiper-pagination\",\n                clickable: true,\n            },\n            navigation: {\n                prevEl: \"#prev_comment\",\n                nextEl: \"#next_comment\",\n            },\n        });\n    };\n    const playersGet = (callback) => {\n        requestCall((r) => {\n            callback(r);\n        }, \"assets/data/players.json\", \"GET\", true);\n    };\n    const searchPlayer = (players, name) => {\n        for (let i = 0; i < players.length; i++) {\n            if (players[i].name === name) {\n                return players[i];\n            }\n        }\n    };\n    requestCall((r) => {\n            const comment = r;\n            shuffle(comment);\n            playersGet((players) => {\n                for (let i = 0; i < comment.length; i++) {\n                    const player = searchPlayer(players, comment[i].name);\n                    array_.innerHTML = array_.innerHTML + `\n                        <div class=\"swiper-slide h-auto px-2\">\n                            <figure class=\"card h-100 position-relative border-0 shadow-sm py-3 p-0 p-xxl-4 my-0\">\n                                <span class=\"btn btn-primary btn-lg shadow-primary pe-none position-absolute top-0 start-0 translate-middle-y ms-4 ms-xxl-5 zlp-comment-icon\">\n                                  <i class=\"bx bxs-quote-left\"></i>\n                                  Залупный комментарий\n                                </span>\n                                <blockquote id=\"comment_block_${i}\" class=\"card-body mt-2 mb-2\" \n                                            style=\"transition: .8s height\">\n                                    <p id=\"comment_text_${i}\" class=\"fs-md mb-0\">\n                                            «${comment[i].text}»</p>\n                                    <span id=\"comment_show_${i}\" onclick=\"comment_show_action(${i})\" \n                                          class=\"pt-1 comment-show-button\">\n                                            Раскрыть</span>\n                                </blockquote>\n                                <figcaption class=\"card-footer d-flex align-items-center border-0 pt-0 mt-n2 mt-lg-0\">\n                                    <div>\n                                        <h6 class=\"fw-semibold lh-base mb-0\">${comment[i].name}</h6>\n                                        <!-- ${player ? `<span class=\"frame_badge_adaptive\">${player.desc}</span>` : \"\"} -->\n                                    </div>\n                                </figcaption>\n                            </figure>\n                        </div>\n                    `;\n\n                    const\n                        comment_text =\n                            document\n                                .getElementById(\n                                    `comment_text_${i}`\n                                );\n                    const\n                        comment_show =\n                            document\n                                .getElementById(\n                                    `comment_show_${i}`\n                                );\n\n                    comment_show\n                        .style\n                        .fontWeight =\n                        \"400\";\n                    comment_text\n                        .style\n                        .transition =\n                        \"height .8s cubic-bezier(1, -.3, 0, 1.21) 0s\";\n                    comment_text\n                        .setAttribute(\n                            \"fullShowComment\",\n                            \"0\"\n                        );\n                    const\n                        correction_height =\n                            12;\n\n                    if (comment_text\n                            .clientHeight >\n                        100 +\n                        correction_height\n                    ) {\n                        comment_text\n                            .style\n                            .height =\n                            \"100px\";\n                        comment_text\n                            .style\n                            .overflow =\n                            \"hidden\";\n                    } else {\n                        comment_show\n                            .style\n                            .display =\n                            \"none\";\n                    }\n                }\n            });\n\n            createSwiper();\n        },\n        \"assets/data/comments.json\",\n        \"GET\", true);\n}\n\nconst buildPlayersSwiper = () => {\n    const array_ = document\n        .getElementById(\n            \"players-swiper-array\");\n\n    const createSwiper = () => {\n        try {\n            document.getElementById(\"players_block_load\").remove();\n        } catch (_) {\n        }\n        new Swiper(\n            \"#players_swipe_container\", {\n                slidesPerView: 1,\n                spaceBetween: 24,\n                autoplay: {\n                    delay: 2000,\n                },\n                loop: true,\n                observer: true,\n                observeParents: true,\n                preventClicks: false,\n                pagination: {\n                    el: \".swiper-pagination\",\n                    clickable: true,\n                },\n                breakpoints: {\n                    600: {\n                        slidesPerView: 2,\n                    },\n                    920: {\n                        slidesPerView: 3,\n                    },\n                    1200: {\n                        slidesPerView: 4,\n                    },\n                    1600: {\n                        slidesPerView: 5,\n                    },\n                    2000: {\n                        slidesPerView: 6,\n                    }\n                },\n            });\n    };\n\n    const badges_get = (\n        callback) => {\n        requestCall((r) => {\n                callback(r);\n            },\n            \"assets/data/badges.json\",\n            \"GET\", true);\n    };\n\n    try {\n        // preload\n        loadPlayerAvatar(generateRandomHex(32), \"\", true);\n    } catch {}\n\n    badges_get((badges_paste) => {\n        requestCall((r) => {\n                const player = r;\n                shuffle(player);\n\n                let players_array = [];\n                for (let player_in of player) {\n                    players_array.push(player_in.name);\n                }\n\n                const selectSkin = (player, skins) => {\n                    if (skins.length < players_array.length) {\n                        for (let i = 0; i < (players_array.length - skins.length); i++) {\n                            skins.push({Nick: \"\", Value: \"\"});\n                        }\n                    }\n                    for (let i = 0; i < skins.length; i++) {\n                        if (player.toLowerCase() === skins[i].Nick.toLowerCase()) {\n                            return skins[i].Value;\n                        }\n                    }\n                    return \"11228873ae0acb8c1abb9f2ed92b7ef29b7e03a534e4d67ad7435ee759e4cf54\";\n                }\n\n                getPlayersSkins(function (skins) {\n                    // console.log(skins);\n                    for (let i = 0; i < player.length; i++) {\n                        const\n                            getBadges = () => {\n                                    let result = \"\";\n                                    player[i].badges.sort();\n                                    for (let s = 0; s < player[i].badges.length; s++) {\n                                        const badge_local = player[i].badges[s];\n                                        if (\n                                            badge_local && badge_local.length &&\n                                            badge_local !== \"verified\" &&\n                                            !badge_local.includes(\"clan-\"))\n                                        {\n                                            result = result + `\n                                        <div class=\"player_badge\" \n                                            style=\"background-image: url(./assets/images/emoji/${badges_paste[badge_local].item}.png)\"\n                                            data-bs-toggle=\"tooltip\" data-bs-placement=\"bottom\" \n                                            title=\"${badges_paste[badge_local].title}\">\n                                        </div>\n                                    `;\n                                        }\n                                    }\n                                    return result;\n                                }\n\n                        const getClan = () => {\n                            for (let s = 0; s < player[i].badges.length; s++) {\n                                if (player[i].badges[s].includes(\"clan-\")) {\n                                    return player[i].badges[s].replace(\"clan-\", \"\");\n                                }\n                            }\n                        }\n\n                        glob_players.push(player[i].name);\n\n                        // const player_badges_ = getBadges();\n                        // const player_clan = getClan();\n                        const player_badges_ = \"\";\n                        const player_clan = \"\";\n\n                        player[i].head = prepare_img_link(player[i].head);\n                        //loadPlayerAvatar(selectSkin(player[i].name, skins), \"\", true)\n\n                        array_.innerHTML = array_.innerHTML + `\n                        <div class=\"swiper-slide text-center\">\n                            <span class=\"d-block py-5\">\n                                <div class=\"player_head_container\">\n                                    <div \n                                        class=\"player-head d-block mx-auto\" \n                                        style=\"background-image: url(${player[i].head});border-radius:.75em\"\n                                    ></div>\n                                </div>\n                                <div class=\"card-body p-3\">\n                                    <h3 class=\"fs-lg fw-semibold pt-1 mb-2\">\n                                        ${player[i].name}\n                                    </h3>\n                                    <!-- <div class=\"player_badge_container\" style=\"${!player_badges_.length ? \"display:none\" : \"\"}\">\n                                        ${player_badges_}\n                                    </div> -->\n                                    <p class=\"fs-sm mb-0\" style=\"text-align:center\">${player[i].desc}</p>\n                                </div>\n                            </span>\n                        </div>\n                    `;\n                    // ${player_clan ? `<div\n                    //                     class=\"player_clan_badge\"\n                    //                     data-bs-toggle=\"tooltip\" data-bs-placement=\"top\"\n                    //                     title=\"${player_clan}\"\n                    // ></div>` : \"\"}\n\n                    // ${player[i].badges.includes(\"verified\") ? `\n                    //     <i class=\"verified-icon\"\n                    //     data-bs-toggle=\"tooltip\" data-bs-placement=\"top\"\n                    //     title=\"Подтвержденный\"> ✔</i>\n                    // ` : \"\"}\n                    }\n\n                    createSwiper();\n                }, players_array, false);\n            },\n            \"assets/data/players.json\",\n            \"GET\", true);\n    });\n}\n\nconst buildDonateHistorySwiper = () => {\n    const array_ = document\n        .getElementById(\n            \"payments-history-swiper-array\");\n\n    const createSwiper = () => {\n        new Swiper(\n            \"#payments_history_container\", {\n                slidesPerView: 1,\n                spaceBetween: 24,\n                autoplay: {\n                    delay: 1500,\n                },\n                loop: true,\n                observer: true,\n                observeParents: true,\n                preventClicks: false,\n                pagination: {\n                    el: \".payments-history-pagination\",\n                    clickable: true,\n                },\n                breakpoints: {\n                    320: {\n                        slidesPerView: 2,\n                    },\n                    600: {\n                        slidesPerView: 3,\n                    },\n                    920: {\n                        slidesPerView: 4,\n                    },\n                    1200: {\n                        slidesPerView: 5,\n                    },\n                    1600: {\n                        slidesPerView: 6,\n                    },\n                    1900: {\n                        slidesPerView: 7,\n                    },\n                    2100: {\n                        slidesPerView: 8,\n                    },\n                    2500: {\n                        slidesPerView: 9,\n                    },\n                },\n            });\n    };\n\n    const updateDonateTime = () => {\n        const selectors = document.querySelectorAll(\"#item-donate-history-desc>time\");\n        for (let i = 0; i < selectors.length; i++) {\n            const select = selectors[i];\n            const time_ = select.getAttribute(\"datetime\");\n\n            select.innerHTML = formatDate(new Date(time_), time_in_moscow_get());\n        }\n    }\n\n    getPaymentHistory(function (data) {\n        if (!data || !data.length) {\n            return;\n        }\n        for (let i = 0; i < data.length; i++) {\n            const date = new Date(data[i].updated_at);\n            data[i].product.image = prepare_img_link(data[i].product.image);\n            array_\n                .innerHTML =\n                array_\n                    .innerHTML + `\n                    <!-- use player template for donate history swiper -->\n                    <div class=\"swiper-slide text-center\">\n                        <span class=\"d-block py-3\">\n                            <div class=\"player_head_container\">\n                                <div \n                                    class=\"player-head d-block mx-auto\" \n                                    style=\"background-image: url(${data[i].product.image});height:65px!important\"\n                                ></div>\n                            </div>\n                            <div class=\"card-body p-3\">\n                                <h5 class=\"h5 fs-6 fw-semibold pt-1 mb-2\">\n                                    ${data[i].product.name}\n                                </h5>\n                                <p class=\"fs-sm mb-0\" id=\"item-donate-history-desc\">\n                                    <span class=\"text-gradient-primary fw-bold\">${data[i].customer}</span>\n                                    <br/>\n                                    <time datetime=\"${\n                    date.toString()\n                }\"></time>\n                                </p>\n                            </div>\n                        </span>\n                    </div>\n                `;\n        }\n        document.getElementById(\"last_donate_block_load\").remove();\n        createSwiper();\n        setInterval(updateDonateTime, 1000);\n    });\n}\n\nconst donate_bg_preload = () => {\n    const bg_ls = [\"emoji-background-donate-light\", \"emoji-background-donate\"];\n    for (let i = 0; i <= bg_ls; i++) {\n        getImageLightness(`assets/images/${i}.png`, undefined, false);\n    }\n}\n\nconst setSticker = (stickers_count = 0, id = 0, custom_path = null) => {\n    let path = `assets/images/stickers/sticker${randDiaps(stickers_count)}.webp`;\n    if (custom_path) {\n        path = custom_path;\n    } else if (lock_sticker_switch) {\n        return;\n    }\n    const link = prepare_img_link(path);\n    document.getElementById(`super-klassniy-sticker-${id}`).style.backgroundImage = `url(${link})`;\n}\nconst setRandomStickerLand = () => {\n    const stickers_count = 32;\n    const selector = document.getElementById(\"super-klassniy-sticker-0\");\n\n    for (let i = 0; i <= stickers_count; i++) {\n        getImageLightness(`assets/images/stickers/sticker${i}.webp`, undefined, false);\n    }\n\n    setInterval(function () {\n        if (window.pageYOffset > 1600 || donate_displayed) {\n            selector.style.opacity = 0;\n        } else if (!donate_displayed && window.pageYOffset <= 1600) {\n            setTimeout(function () {\n                selector.style.opacity = .4;\n            }, 800);\n        } else {\n            selector.style.opacity = .4;\n        }\n    }, 30);\n\n    const updateStickerPosition = () => {\n        if (window.innerWidth >= 992) {\n            selector.style.top = `${randDiaps(85)}%`;\n            selector.style.left = `${randDiaps(85)}%`;\n        } else {\n            selector.style.top = `${randDiaps(100)}%`;\n            selector.style.left = `${randDiaps(75)}%`;\n        }\n    }\n\n    setSticker(stickers_count);\n    setInterval(setSticker, 6000, stickers_count);\n\n    updateStickerPosition();\n    setInterval(updateStickerPosition, 3000);\n}\nconst donate_element_click = (\n    product_data) => {\n    switch_modal_containers(\n        \"service\");\n    const exclude_types = [\"group\"];\n    const desc = document\n        .getElementById(\n            \"donate_item_select_text\"\n        );\n    const text_template = `Товар <span class=\"text-primary fw-semibold\">${product_data.name}</span>,\n            цена ${product_data.count} ${getNoun(product_data.count, \"единицы\", \"единиц\", \"единиц\")}\n        <span class=\"text-primary fw-semibold\">\n            ${product_data.price}\n            ${getNoun(product_data.price, \"рубль\", \"рубля\", \"рублей\")}\n        </span>.\n    `;\n    const items_count_donate =\n        document\n            .getElementById(\n                \"items_count_donate\");\n    const count_hint = document\n        .getElementById(\n            \"donate_count_text_hint\"\n        );\n    const add_to_cart = document\n        .getElementById(\n            \"donate_button_add_to_cart\"\n        );\n    const cookie_cart =\n        get_cookie_cart();\n    let switch_ = false;\n\n    const _update_count = () => {\n        add_to_cart\n            .setAttribute(\n                \"onClick\",\n                `donate_cart(${product_data.service_id}, ${items_count_donate.value})`\n            );\n    };\n\n    items_count_donate.value = 1;\n\n    _update_count();\n\n    const product_in_cart =\n        cookie_cart\n            .hasOwnProperty(product_data\n                .service_id\n                .toString());\n\n    if ((exclude_types.includes(\n                product_data.type\n            ) ||\n            product_data.type ===\n            \"group\") &&\n        groupAlreadyInCart(\n            cookie_cart)\n    ) {\n        switch_modal_containers(\n            \"info\");\n        switch_ = true;\n        let group_error = \"\";\n\n        if (product_data.type ===\n            \"group\") {\n            group_error =\n                \"Вы уже выбрали привилегию. Удалите её из корзины, если хотите выбрать другую.\";\n        } else if (\n            product_in_cart) {\n            group_error = `Ошибка, вы можете добавить товар \n                <span class=\"text-primary fw-semibold\">${product_data.name}</span> \n                только один раз.`;\n        } else {\n            group_error =\n                \"Мы не знаем почему, но эта ошибка вызвана по неизвестным причинам.\";\n        }\n\n        document.getElementById(\n            \"donate_info_block_text\"\n        )\n            .innerHTML =\n            group_error;\n    }\n\n    let count_state = \"block\";\n\n    if (exclude_types.includes(\n        product_data.type)) {\n        count_state = \"none\";\n    }\n\n    items_count_donate.style\n        .display =\n        count_state;\n    count_hint.style.display =\n        count_state;\n\n    const only_dig = () => {\n        const value =\n            items_count_donate\n                .value;\n        items_count_donate\n            .value =\n            value.replace(\n                /\\D+/g,\n                \"\");\n    };\n\n    const _calculate_price =\n        () => {\n            only_dig();\n\n            if (!exclude_types\n                .includes(\n                    product_data\n                        .type\n                )) {\n                let _price =\n                    parseInt(\n                        items_count_donate\n                            .value) *\n                    product_data\n                        .price;\n\n                const\n                    currenct_in_cart =\n                        cookie_cart[\n                            product_data\n                                .service_id\n                            ];\n                let template_counter_i =\n                    \"\";\n\n                if (isNaN(_price) ||\n                    1 >\n                    Math.sign(\n                        _price)) {\n                    _price = 0;\n                }\n\n                if (\n                    currenct_in_cart) {\n                    template_counter_i\n                        = `\n                    Уже в корзине - \n                        <span class=\"text-primary fw-semibold\">\n                            ${currenct_in_cart}\n                        </span>\n                `;\n                }\n\n                desc.innerHTML = `${text_template}\n                    <br/>\n                    Стоимость - \n                        <span class=\"text-primary fw-semibold\">\n                            ${_price} \n                            ${getNoun(_price, \"рубль\", \"рубля\", \"рублей\")}\n                        </span>\n                    <br/>\n                    ${template_counter_i}\n                `;\n\n                _update_count();\n            }\n        };\n\n    desc.innerHTML = text_template;\n\n    _calculate_price();\n\n    items_count_donate\n        .addEventListener(\n            \"input\",\n            (_) => {\n                _calculate_price();\n            });\n    modal_open_();\n}\n\nconst donate_get_service_by_id = (\n    id) => {\n    for (let i = 0; i <\n    donate_services_array\n        .length; i++) {\n        if (donate_services_array[i]\n            .id === parseInt(id)) {\n            return donate_services_array[\n                i];\n        }\n    }\n\n    return null;\n}\n\nconst donateResetPaymentState = (type =\n                                     1, repeat = false,\n                                 coupon_reset =\n                                     false) => {\n    const coupon_sl = document\n        .getElementById(\n            \"donate-coins-payment\");\n    const inputs = [\n        \"donate_sum\",\n        \"donate_customer_c\",\n        \"donate_email_c\",\n        \"coupon-input-c\",\n        \"donate-pay-method\"\n    ]\n    let sl = \"_c\";\n    let vl = document\n        .getElementById(\n            \"donate_sum\")\n        .value.trim();\n    if (!coins_sell_mode) {\n        sl = \"\";\n        vl = 0;\n    }\n    const button = document\n        .getElementById(\n            \"payment-button-donate\" +\n            sl\n        );\n    const update_inputs = () => {\n        for (let i = 0; i < inputs.length; i++) {\n            const sl = document.getElementById(inputs[i]);\n            if (inputs[i].includes(\"coupon\") && !coupon_reset) {\n                // pass\n            } else if (inputs[i].includes(\"method\")) {\n                sl.value = 1;\n            } else {\n                sl.value = \"\";\n            }\n        }\n    }\n    if (coupon_reset) {\n        coupon_sl.innerHTML = \"\";\n        update_inputs();\n        checked_coupon = \"\";\n        failed_coupon = \"\";\n    }\n    button.setAttribute(\"onClick\",\n        `generatePaymentLink(${type}, ${(type === 2) ? 1 : vl})`\n    );\n    button.removeAttribute(\n        \"disabled\");\n    button.innerText = repeat ?\n        \"Повторить\" : \"Дальше\";\n}\n\nconst donate_cart = (product, count,\n                     remove = false) => {\n    const cart = Cookies.get(\n        cart_cookie);\n    const cart_parsed =\n        get_cookie_cart();\n    let product_count_in_cart = 0;\n    const max_item_count = 30000;\n    const local_prm =\n        '<span style=\"color: #a4a6ff\">';\n\n    try {\n        const p = cart_parsed[\n            product];\n\n        if (Number.isInteger(p)) {\n            product_count_in_cart\n                = +p;\n        }\n    } catch (_) {\n    }\n\n    if (!Number.isInteger(\n        product) || !\n        Number.isInteger(count)) {\n        return;\n    } else if (1 > Math.sign(\n        count)) {\n        notify(\n            \"Количество не может быть равно нулю или меньше\"\n        );\n        return;\n    } else if (\n        product_count_in_cart +\n        count > max_item_count) {\n        notify(\n            `Максимальное количество - ${local_prm}${max_item_count}</span>`\n        );\n        return;\n    }\n\n    if (!cart) {\n        Cookies.set(cart_cookie,\n            JSON\n                .stringify({}));\n    }\n\n    const els_ = JSON.parse(Cookies\n        .get(\n            cart_cookie));\n    const product_data =\n        donate_get_service_by_id(\n            product);\n\n    if (remove) {\n        delete els_[product];\n        notify(\n            `Товар ${local_prm} ${product_data.name}</span> убран из корзины`\n        );\n    } else {\n        if (els_[product]) {\n            els_[product] = els_[\n                product] + count;\n            notify(`В корзину добавлено ${local_prm} ${count} \n                    </span>\n                    ${getNoun(count, \"единица\", \"единицы\", \"единиц\")} \n                    товара ${local_prm} ${product_data.name} \n                    </span>`);\n        } else {\n            els_[product] = count;\n            notify(\n                `Товар ${local_prm} ${product_data.name}</span> добавлен в корзину`\n            );\n        }\n    }\n\n    Cookies.set(cart_cookie, JSON\n        .stringify(els_));\n    modal_close_();\n    initDonate();\n    updateCartCount();\n    donateResetPaymentState();\n}\n\nconst donate_cart_button = (\n    els = {}) => {\n    const selector_ = document\n        .querySelectorAll(\n            \".donate-cart-button-cn\"\n        );\n\n    if (coins_sell_mode) {\n        return;\n    }\n\n    for (let i = 0; i < selector_.length; i++) {\n        const sl = selector_[i].style;\n\n        if (countProperties(els)) {\n            sl.display = \"flex\";\n            setTimeout(() => {\n                sl.opacity = 1;\n                sl.marginTop = \"15px\";\n                selector_[i].removeAttribute(\"disabled\");\n            }, 50);\n        } else {\n            selector_[i].setAttribute(\"disabled\", \"\");\n            sl.opacity = 0;\n            sl.marginTop = \"-50px\";\n            setTimeout(() => {\n                sl.display = \"none\";\n            }, 350);\n        }\n    }\n}\n\nconst donateFlushCart = () => {\n    Cookies.remove(cart_cookie);\n    donate_cart_button({});\n    notify(\"Корзина очищена\");\n}\n\nconst setAvatar = (user) => {\n    const photoTG = false;\n    const selector = document.getElementById(\n        \"telegram-auth-avatar\").style;\n    if (user.photo_url && photoTG) {\n        selector.backgroundImage = `url(${user.photo_url})`;\n    } else {\n        selector.background =\n            `linear-gradient(343deg, var(--telegram-bgcolor${\n                getAvatarColorIDforTG(user.id)\n            }-top) 0%, var(--telegram-bgcolor${\n                getAvatarColorIDforTG(user.id)\n            }-bottom) 100%)`;\n        const avatarSelector = document.getElementById(\"tg-user-avatar-text\");\n        try {\n            avatarSelector.innerText =\n                `${user.first_name.slice(0, 1)}${user.last_name ? user.last_name.slice(0, 1) : \"\"}`\n                    .toUpperCase();\n        } catch (_) {\n            avatarSelector.innerHTML = \"N/A\";\n        }\n    }\n}\n\nconst checkAuthAndDisplayDonate = () => {\n    checkTelegramAuthData(function (response) {\n        if (response.player_data.NICKNAME) {\n            donateSwitchContainer();\n        }\n    }, false, true);\n}\n\nconst onTelegramAuth = (user) => {\n    Cookies.set(\n        telegram_cookie_token,\n        utf8_to_b64(JSON\n            .stringify(\n                user)));\n    modal_close_();\n    notify(\n        `Вы успешно авторизовались как <span class=\"text-gradient-primary\">${\n            user.first_name} ${user.last_name ? user.last_name : \"\"}</span>`\n    );\n\n    autoAuthTelegramObserver();\n    // checkAuthAndDisplayDonate();\n}\n\nconst debugWriteTelegramAuth = (data) => {\n    Cookies.set(telegram_cookie_token, data);\n}\n\nconst getTelegramAuth = (raw =\n                             false) => {\n    const cookie_field = Cookies\n        .get(\n            telegram_cookie_token);\n    if (cookie_field) {\n        if (raw) {\n            return cookie_field;\n        } else if (cookie_field) {\n            return JSON.parse(\n                b64_to_utf8(\n                    cookie_field\n                ));\n        }\n    }\n}\n\nconst couponCheck = (coins = false) => {\n    let selector_c = \"\";\n    if (coins_sell_mode) {\n        selector_c = \"-c\";\n    }\n\n    const input = document\n        .getElementById(\n            \"coupon-input\" +\n            selector_c);\n    const button = document\n        .getElementById(\n            \"coupon-button\" +\n            selector_c\n        );\n    let code = \"\";\n\n    try {\n        code = input.value.trim()\n            .toUpperCase();\n    } catch (_) {\n    }\n\n    const coupon_notfd = () => {\n        notify(\n            `Купон <span class=\"text-primary fw-semibold\">${failed_coupon}</span> не найден`\n        );\n    };\n\n    const check_coupon_valid =\n        (products, product) => {\n            if (products) {\n                for (let i = 0; i <\n                products\n                    .length; i++\n                ) {\n                    if (products[i]\n                            .id ===\n                        current_c_item\n                    ) {\n                        return true;\n                    }\n                }\n            }\n            return false;\n        };\n\n    if (!code.length) {\n        notify(\n            \"Вы не указали купон\");\n        return;\n    } else if (code.length > 20) {\n        notify(\n            \"Купон слишком длинный\");\n        return;\n    } else if (!/^[A-z\\d_]+$/.test(\n        code)) {\n        notify(\n            \"Купон указан неверно\");\n        return;\n    } else if (checked_coupon ===\n        code) {\n        notify(\n            \"Этот купон уже используется\"\n        );\n        return;\n    } else if (failed_coupon ===\n        code) {\n        coupon_notfd();\n        return;\n    }\n\n    const input_lock = (lock =\n                            false) => {\n        if (lock) {\n            input.setAttribute(\n                \"disabled\",\n                \"\");\n            button.setAttribute(\n                \"disabled\",\n                \"\");\n            button.innerText =\n                \"Проверяем\";\n        } else {\n            input\n                .removeAttribute(\n                    \"disabled\");\n            button\n                .removeAttribute(\n                    \"disabled\");\n            button.innerText =\n                \"Проверить\";\n        }\n    };\n\n    input_lock(true);\n    if (donatePayMethodSelector() !== 2) {\n        check_coupon((r) => {\n            // console.log(`check_coupon = ${typeof r}`);\n            if (r) {\n                const call =\n                    () => {\n                        checked_coupon\n                            =\n                            code;\n                        notify(\n                            `Купон <span class=\"text-primary fw-semibold\">${code}</span> действительный`\n                        );\n                    };\n                if (!coins_sell_mode) {\n                    call();\n                    donateCartCall\n                    (\n                        code,\n                        false\n                    );\n                } else if (\n                    check_coupon_valid(\n                        r\n                            .products,\n                        current_c_item\n                    )) {\n                    call();\n                    const sl =\n                        document\n                            .getElementById(\n                                \"donate-coins-payment\"\n                            );\n                    sl.innerHTML = `<li class=\"list-group-item d-flex justify-content-between bg-light\">\n                        <div class=\"text-primary\">\n                            <h6 class=\"my-0 text-start\">Купон</h6>\n                            <small class=\"text-start\" style=\"float: left\">${code}</small>\n                        </div>\n                        <span class=\"text-muted text-end\" style=\"width: 30%\">\n                            ${r.discount}%</span>\n                    </li>`;\n                } else {\n                    notify(\n                        \"Этот купон недействительный\"\n                    );\n                }\n            } else {\n                failed_coupon =\n                    code;\n                coupon_notfd();\n            }\n\n            input_lock();\n        }, code);\n    } else {\n        notify(\"Купон недоступен для Zalupa Pay\");\n        input_lock();\n    }\n}\n\nconst donate_enable_coupon = (enabled =\n                                  true) => {\n    const input = document\n        .getElementById(\n            \"coupon-input\");\n    const button = document\n        .getElementById(\n            \"coupon-button\");\n\n    if (enabled) {\n        input.setAttribute(\n            \"placeholder\",\n            \"BRFF\");\n        button.setAttribute(\n            \"onClick\",\n            \"couponCheck()\");\n        input.removeAttribute(\n            \"disabled\");\n        button.removeAttribute(\n            \"disabled\");\n    } else {\n        input.setAttribute(\n            \"disabled\",\n            \"\");\n        input.setAttribute(\n            \"placeholder\",\n            \"Сейчас недоступно\");\n        button.setAttribute(\n            \"disabled\",\n            \"\");\n    }\n}\n\nconst get_data_service = (\n    service_id) => {\n    for (let i = 0; i <\n    products_by_serverid\n        .length; i++) {\n        if (parseInt(\n                products_by_serverid[\n                    i].id\n            ) ===\n            parseInt(\n                service_id)\n        ) {\n            return products_by_serverid[\n                i];\n        }\n    }\n}\n\nconst generatePaymentLink = (type = 1,\n                             sum = 0) => {\n    let selector_c = \"\";\n    if (coins_sell_mode) {\n        selector_c = \"_c\";\n    }\n    const button = document\n        .getElementById(\n            \"payment-button-donate\" +\n            selector_c);\n    let customer = document\n        .getElementById(\n            \"donate_customer\" +\n            selector_c)\n        .value.trim();\n    let email = document\n        .getElementById(\n            \"donate_email\" +\n            selector_c)\n        .value.trim();\n    let coupon = \"\";\n    customer = glob_auth_player_data.NICKNAME;\n    const max_sum = 30000;\n    const local_prm =\n        '<span style=\"color: #a4a6ff\">';\n\n    try {\n        coupon = checked_coupon\n            .trim();\n    } catch (_) {\n    }\n\n    if (type === 1) {\n        if (!Number.isInteger(\n            sum) || !\n            Number.isInteger(sum)) {\n            notify(\n                \"Ошибка проверки суммы\"\n            );\n            return;\n        } else if (1 > Math.sign(\n            sum)) {\n            notify(\n                \"Сумма не может равняться нулю или меньше\"\n            );\n            return;\n        } else if (sum > max_sum) {\n            notify(\n                `Максимальная сумма - ${local_prm}${max_sum}</span>`\n            );\n            return;\n        }\n    }\n\n    if (!customer.length) {\n        notify(\n            \"Введите пожалуйста ваш никнейм\"\n        );\n        return;\n    } else if (customer.length >\n        40) {\n        notify(\n            \"Ваш никнейм слишком длинный\"\n        );\n        return;\n    } else if (customer.length < 3) {\n        notify(\n            \"Ваш никнейм слишком короткий\"\n        );\n        return;\n    } else if (!/^[A-z\\d_]+$/.test(\n        customer)) {\n        notify(\n            \"Никнейм не соотвествует формату\"\n        );\n        return;\n    }\n\n    if (!email.length) {\n        notify(\n            \"Введите пожалуйста ваш email\"\n        );\n        return;\n    } else if (!validateEmail(\n        email)) {\n        notify(\n            \"Ошибка, адрес почты недействительный\"\n        );\n        return;\n    }\n\n    if (!coupon) {\n        coupon = \"\";\n    }\n    if (coins_sell_mode) {\n        products = JSON.parse(\n            `{\"${current_c_item}\": ${sum}}`\n        );\n    } else {\n        products =\n            get_cookie_cart();\n    }\n\n    button.setAttribute(\"disabled\",\n        \"\");\n    button.innerText =\n        \"Проверяем данные...\";\n\n    const _d_service =\n        get_data_service(\n            current_c_item);\n    create_payment((\n            callback_data) => {\n            if (callback_data) {\n                button.removeAttribute(\"disabled\");\n                button.innerText = \"Оплатить\";\n                if (callback_data.zalupa_pay) {\n                    zalupa_pay_finish_modal();\n                } else {\n                    payment_url_global = callback_data.url;\n                    button.setAttribute(\n                        \"onClick\",\n                        \"payment_action_bt()\"\n                    );\n                }\n            } else {\n                notify(\n                    \"Ошибка, не удалось сформировать чек для оплаты\"\n                );\n                donateResetPaymentState\n                (type,\n                    repeat =\n                        true);\n            }\n        }, customer, products,\n        _d_service.server_id,\n        email,\n        coupon);\n}\n\nconst zalupa_pay_finish_modal = () => {\n    const container = document.getElementById(\"only-ok-payment\");\n\n    container.innerHTML = `\n    <div style=\"\n        background: rgb(28 28 28 / 15%);\n        padding: 1.15em;\n        border-radius: 0.72em;\n        backdrop-filter: blur(1.35em);\n        -webkit-backdrop-filter: blur(1.35em);\n    \">\n            <p style=\"\n                font-weight: 800;\n                margin-bottom: 0;\n            \">Спасибо что воспользовались ZalupaPay!</p>                \n    </div>\n    `;\n\n    enable_modal_result_sc();\n    checkTelegramAuthData(function (_) {}, false, false, true);\n    document.querySelector(\".modal-title\").innerText = \"\";\n    document.querySelector(\".modal-content\").classList.add(\"emoji-pay-back\");\n}\n\nconst enable_modal_result_sc = () => {\n    switch_modal_containers(\"success\");\n    modal_open_();\n    donateResetPaymentState();\n};\n\nconst payment_action_bt = () => {\n    window.open(payment_url_global,\n        \"_blank\");\n\n    const cart_dom = document\n        .getElementById(\n            \"donate-cart-list-success\"\n        );\n    const succ_text = document\n        .getElementById(\n            \"success-pay-text-js\");\n    const cont_ok = document\n        .getElementById(\n            \"only-ok-payment\");\n    const title = document\n        .querySelector(\n            \".modal-title\");\n\n    const build_modal_wind =\n        () => {\n            cart_dom.innerHTML = \"\";\n            title.innerText = \"\";\n            succ_text.innerText =\n                \"Давай, плати. Шеф ждёт...\";\n            cont_ok.style.display =\n                \"\";\n            document\n                .querySelector(\n                    \"img.payment-sucess-vova\"\n                )\n                .setAttribute(\"src\",\n                    \"assets/images/vova-gay.webp\"\n                );\n        };\n\n    const flush_inputs_donate =\n        () => {\n            const inputs = [\n                \"donate_sum\",\n                \"donate_customer_c\",\n                \"donate_email_c\",\n                \"coupon-input-c\",\n            ];\n            for (let i = 0; i <\n            inputs\n                .length; i++) {\n                document\n                    .getElementById(\n                        inputs[i])\n                    .value = \"\";\n            }\n        };\n\n    enable_modal_result_sc();\n    flush_inputs_donate();\n    build_modal_wind();\n}\n\nconst donate_check_services_cart =\n    () => {\n        const services_cookie = Object\n            .keys(\n                get_cookie_cart());\n        const services_origin =\n            donate_services_array;\n        const services = [];\n\n        for (let i = 0; i <\n        services_origin\n            .length; i++) {\n            services.push(\n                services_origin[i]\n                    .id);\n        }\n\n        for (let i = 0; i <\n        services_cookie\n            .length; i++) {\n            if (!services.includes(\n                parseInt(\n                    services_cookie[\n                        i]))) {\n                const cart = JSON.parse(\n                    Cookies.get(\n                        cart_cookie)\n                );\n                delete cart[parseInt(\n                    services_cookie[\n                        i])];\n                Cookies.set(cart_cookie,\n                    JSON.stringify(\n                        cart)\n                );\n                console.log(\n                    `Remove ${services_cookie[i]} from cart`\n                );\n            }\n        }\n    }\n\nconst initDonate = () => {\n    let els = {};\n\n    try {\n        els = JSON.parse(Cookies\n            .get(\n                cart_cookie));\n    } catch (_) {\n    }\n\n    donate_cart_button(els);\n    donate_enable_coupon(true);\n}\n\nconst donateCartCall = (coupon = null,\n                        nickname_update = true) => {\n    const cart = get_cookie_cart();\n    const cart_keys = Object.keys(\n        cart);\n    const cart_dom = document\n        .getElementById(\n            \"donate-cart-list\");\n    const selectors_payment = [\n        document\n            .getElementById(\n                \"donate_customer\"),\n        document.getElementById(\n            \"donate_email\"),\n        document.getElementById(\n            \"coupon-input\"),\n    ];\n    switch_modal_containers(\n        \"donate_finish\");\n    modal_open_();\n    cart_dom.innerHTML = \"\";\n    let sum_price = 0;\n\n    for (let i = 0; i <\n    selectors_payment\n        .length; i++) {\n        selectors_payment[i]\n            .addEventListener(\n                \"input\",\n                (_) => {\n                    donateResetPaymentState\n                    ();\n                });\n    }\n\n    for (let i = 0; i < cart_keys\n        .length; i++) {\n        const item =\n            donate_get_service_by_id(\n                cart_keys[i]);\n        const price = item.price *\n            cart[\n                item.id];\n        sum_price += price;\n        cart_dom.innerHTML =\n            cart_dom\n                .innerHTML + `\n            <li class=\"list-group-item d-flex justify-content-between lh-sm\">\n                <div>\n                    <h6 class=\"my-0 text-start\">\n                        <span class=\"text-primary fw-semibold\">\n                            x${item.number}</span> \n                        ${item.name}\n                    </h6>\n                    <small class=\"text-muted text-start cart-desc-td\">${item.description}</small>\n                </div>\n                <span class=\"text-muted text-end\" style=\"width: 30%\">\n                    ${price} ${getNoun(price, \"рубль\", \"рубля\", \"рублей\")}\n                    <br/>x${cart[item.id]}</span>\n            </li>\n        `;\n    }\n\n    const coupon_container =\n        () => {\n            cart_dom.innerHTML =\n                cart_dom.innerHTML + `<li class=\"list-group-item d-flex justify-content-between bg-light\">\n                <div class=\"text-primary\">\n                    <h6 class=\"my-0 text-start\">Купон</h6>\n                    <small class=\"text-start\" style=\"float: left\">${coupon}</small>\n                </div>\n            </li>`;\n        };\n\n    const sum_container = () => {\n        cart_dom.innerHTML =\n            cart_dom.innerHTML + `<li class=\"list-group-item d-flex justify-content-between\">\n                <span>Сумма</span>\n                <strong>${sum_price} ${getNoun(sum_price, \"рубль\", \"рубля\", \"рублей\")}</strong>\n            </li>`;\n    };\n\n    if (coupon) {\n        coupon_container();\n    }\n\n    sum_container();\n\n    if (nickname_update) {\n        shuffle(glob_players);\n        document\n            .querySelector(\n                \"input#donate_customer\"\n            )\n            .setAttribute(\n                \"placeholder\",\n                glob_players[0]);\n    }\n}\n\nconst donateCoinsPay = (type = 1) => {\n    const button = document\n        .getElementById(\n            \"payment-button-donate_c\"\n        );\n    let sum = document\n        .getElementById(\n            \"donate_sum\");\n\n    if (!sum.value && !/^[\\d]+$/\n        .test(\n            sum.value)) {\n        sum = 0;\n    } else {\n        sum = sum.value;\n    }\n\n    button.setAttribute(\"onClick\",\n        `generatePaymentLink(${type}, ${(type === 2) ? 1 : sum})`\n    );\n}\n\nconst donateModalCall = (type_item,\n                         item_id, nickname_update = true\n) => {\n    current_item_type = type_item;\n\n    const sum = document\n        .getElementById(\n            \"donate_sum\");\n    const customer_field = document\n        .getElementById(\n            \"donate_customer_c\");\n    const sum_container = document\n        .getElementById(\n            \"sum-tokens-container\");\n    const email_container_classL =\n        document.getElementById(\n            \"customer-email-tokens-container\"\n        )\n            .classList;\n    const modal_payment_text =\n        document\n            .getElementById(\n                \"donate-text-span\");\n    const selector_method_pay =\n        document.getElementById(\"donate-pay-method\");\n    let payment_text_form;\n    const selectors_payment = [\n        document\n            .getElementById(\n                \"donate_sum\"),\n        document\n            .getElementById(\n                \"donate_customer_c\"\n            ),\n        document.getElementById(\n            \"donate_email_c\"),\n        document.getElementById(\n            \"coupon-input-c\"),\n    ];\n    const title = document\n        .querySelector(\n            \".modal-title\");\n    let item_name;\n\n    const update_title = (\n        descriptor) => {\n        title.innerText = title\n            .innerText.replace(\n                /\\([\\s\\S]*?\\)/)\n            .trim();\n        title.innerText =\n            `${title.innerText} (${descriptor})`;\n    }\n\n    current_c_item = item_id;\n    current_c_item_name = get_data_service(item_id).name;\n\n    selector_method_pay.value = 1;\n    donatePayMethodSelector();\n\n    if (type_item === 1 || type_item === 3) {\n        selector_method_pay.setAttribute(\"disabled\", \"\");\n        sum_container.style\n            .display =\n            \"\";\n        email_container_classL\n            .remove(\n                \"col-sm-6\");\n        email_container_classL.add(\n            \"col-12\");\n        const donate_sum_title = document.getElementById(\"donate-sum-title\");\n        if (type_item === 1) {\n            payment_text_form = `\n                Воспользовавшись этой формой, вы можете поддержать проект финансово.\n                За поддержку вы получите вознаграждение – за каждый рубль по одному игровому токену.\n            `;\n            item_name = \"Токены\";\n            donate_sum_title.innerText = \"Сумма\";\n            // except\n            sum.addEventListener(\n                \"input\",\n                (_) => {\n                    donateCoinsPay\n                    ();\n                });\n        } else if (type_item === 3) {\n            payment_text_form = `\n                Добавляет +1 слот в клан. Система автоматически определяет ваш клан по никнейму, \n                поэтому будьте внимательны перед оплатой. Проверьте в каком клане вы состоите.\n            `;\n            item_name = \"Слоты\";\n            donate_sum_title.innerText = \"Количество\";\n            customer_field\n                .addEventListener(\n                    \"input\",\n                    (_) => {\n                        donateCoinsPay(\n                            type_item\n                        );\n                    });\n        }\n    } else if (type_item === 2) {\n        selector_method_pay.removeAttribute(\"disabled\");\n        sum_container.style\n            .display =\n            \"none\";\n        email_container_classL\n            .remove(\n                \"col-12\");\n        email_container_classL.add(\n            \"col-sm-6\");\n        desc_get = get_data_service(current_c_item).description;\n        if (!desc_get) {\n            desc_get = \"\"\n        }\n\n        payment_text_form = `\n            Форма оплаты пожертвования для игрового проекта Zalupa.Online\n            <br/>\n            <span class=\"text-primary\">\n                ${desc_get}\n            </span>\n        `;\n        item_name = current_c_item_name;\n        customer_field\n            .addEventListener(\n                \"input\",\n                (_) => {\n                    donateCoinsPay(\n                        type_item\n                    );\n                });\n    }\n    modal_payment_text.innerHTML =\n        payment_text_form\n            .replaceAll(\n                \"\\n\", \"\");\n\n    for (let i = 0; i < selectors_payment.length; i++) {\n        selectors_payment[i]\n            .addEventListener(\n                \"input\",\n                (_) => {\n                    donateResetPaymentState\n                    (type_item);\n                });\n    }\n\n    switch_modal_containers(\n        \"service_coins\");\n    modal_open_();\n\n    if (nickname_update) {\n        const randomNick = false;\n        const fldSelect = document.querySelector(\"input#donate_customer_c\");\n        if (randomNick) {\n            shuffle(glob_players);\n            fldSelect\n                .setAttribute(\n                    \"placeholder\",\n                    glob_players[0]\n                );\n        } else {\n            fldSelect\n                .setAttribute(\n                    \"placeholder\",\n                    glob_auth_player_data.NICKNAME\n                );\n            fldSelect.value = glob_auth_player_data.NICKNAME;\n            fldSelect\n                .setAttribute(\"disabled\", \"\");\n        }\n    }\n\n    donateResetPaymentState(\n        type_item,\n        false, true);\n    update_title(item_name);\n}\n\nconst linksSet = (selector_,\n                  fisrt_el_mrg = false) => {\n    const sl = document\n        .getElementById(\n            selector_);\n    let mrg =\n        \"margin-left: 0 !important\";\n\n    for (let i = 0; i < links_lt\n        .length; i++) {\n        if (!fisrt_el_mrg || i) {\n            mrg = \"\";\n        }\n\n        sl.innerHTML = sl\n            .innerHTML + `<a href=\"${links_lt[i].link}\" \n                target=\"_blank\" style=\"${mrg}\"\n                class=\"btn btn-icon btn-secondary btn-${links_lt[i].name} mx-2\">\n                    <i class=\"bx bxl-${links_lt[i].name}\"></i>\n            </a>`;\n    }\n}\n\nconst initCrypto = () => {\n    if (!freeze_crypto) {\n        freeze_crypto = true;\n        crypto_token = \"\";\n        getCrypto((token_) => {\n            crypto_token =\n                token_;\n            freeze_crypto =\n                false;\n        });\n    }\n}\n\nconst initLanding = () => {\n    if (development_hosts.includes(\n            window.location.hostname\n        ) &&\n        lock_of) {\n        document.getElementById(\n            \"landing_description_gb\"\n        )\n            .innerText =\n            \"Этот сайт - preview-версия!\";\n        document.getElementById(\n            \"donate-test-mode-enb\"\n        )\n            .innerText =\n            \"Этот блок работает в демонстративном режиме и не является функциональным.\";\n    }\n\n    linksSet(\"landing-links-tp\",\n        true);\n    linksSet(\n        \"links-block-footer-v\");\n}\n\nconst finishLoad = () => {\n    document.querySelector(\"main\")\n        .setAttribute(\"style\", \"\");\n    document.querySelector(\"footer\")\n        .setAttribute(\"style\", \"\");\n    const heart =\n        `<i class=\"emoji\" style=\"background-image:url(\\'assets/images/emoji/red-heart.png\\');`+\n        `font-size: .7rem;bottom:-1px\"><b>❤️</b></i>`;\n    document.getElementById(\n        \"footer-text-blc\")\n        .innerHTML =\n        `Создал KovalYRS с ${heart}, специально для ZALUPA.ONLINE`;\n    if (grecaptcha) {\n        document.getElementById(\n            \"re-badge-text\")\n            .innerText =\n            \"This site uses Google ReCaptcha technology\";\n    }\n}\n\nconst observerSystemTheme = () => {\n    const mode_list = [\"dark\", \"light\"];\n    const theme_switch = document\n        .querySelector(\n            '[data-bs-toggle=\"mode\"]'\n        )\n        .querySelector(\n            \".form-check-input\");\n\n    const updateTheme = (mode) => {\n        if (mode === \"dark\") {\n            root.classList.add(\"dark-mode\");\n            theme_switch.checked = true;\n        } else {\n            root.classList\n                .remove(\n                    \"dark-mode\"\n                );\n            theme_switch.checked = false;\n        }\n    };\n\n    for (let i = 0; i < mode_list\n        .length; i++) {\n        const observer = window\n            .matchMedia(\n                `(prefers-color-scheme: ${mode_list[i]})`\n            );\n        observer.addEventListener(\n            \"change\", (e) => e\n                    .matches &&\n                updateTheme(\n                    mode_list[i]));\n    }\n}\n\nconst callSucessPayModal = (payment_id = 0) => {\n    let glob_func_payment_data;\n    const item_nm_payment_result = false;\n\n    const cart_dom = document\n        .getElementById(\n            \"donate-cart-list-success\"\n        );\n    const succ_text = document\n        .getElementById(\n            \"success-pay-text-js\");\n    const cont_ok = document\n        .getElementById(\n            \"only-ok-payment\");\n    const title = document\n        .querySelector(\n            \".modal-title\");\n\n    donateSwitchContainer(true);\n\n    const item_type_ = (product_name) => {\n        const t = (product_name).toLowerCase();\n\n        if (t.includes(\"токен\")) {\n            return 1;\n        } else {\n            return 2;\n        }\n    }\n\n    const update_pm_desc = () => {\n        const img_product =\n            glob_func_payment_data\n                .product.image;\n        const name_product =\n            glob_func_payment_data\n                .product.name;\n\n        if (img_product &&\n            img_product.length\n        ) {\n            document.querySelector(\n                    \".payment-sucess-vova\").src = img_product;\n            const\n                name_selector = document.querySelector(\n                            \".item-name-payment-result\");\n            if (item_nm_payment_result) {\n                name_selector.innerText = name_product;\n            } else {\n                name_selector.style.marginBottom = \"4vh\";\n            }\n        }\n    }\n\n    const buildPayment = (\n        payment) => {\n        if (payment.status &&\n            payment_id == parseInt(payment.id)) {\n            glob_func_payment_data = payment;\n            succ_text.innerText =\n                \"Оплата прошла успешно, Шеф доволен, спасибо тебе.\";\n            cont_ok.style.display = \"\";\n\n            const private_gift_button = document.createElement(\"button\");\n            private_gift_button.id = \"private_gift_button_modal\";\n            private_gift_button.setAttribute(\"class\", \"btn btn-primary shadow-primary btn-lg mb-2 btn-shadow-hide\");\n            private_gift_button.innerText = \"button::init\";\n\n            const item_type =\n                item_type_(payment.product.name);\n\n            let system_template = `\n                <li class=\"list-group-item d-flex justify-content-between lh-sm\">\n                    <div>\n                        <h6 class=\"my-0 text-start\">\n                            Система\n                        </h6>\n                    </div>\n                    <span>${payment.payment_system}</span>\n                </li>\n            `;\n\n            let sum_template = `\n                <li class=\"list-group-item d-flex justify-content-between\">\n                    <span>Сумма зачисления</span>\n                    <strong class=\"bottom-line-set bottom-line-set-zlp color-set-zlp\">${payment.enrolled} ${getNoun(payment.enrolled, \"рубль\", \"рубля\", \"рублей\")}</strong>\n                </li>\n            `;\n\n            if (\n                coins_sell_mode) {\n                if (item_type === 1) {\n                    sum_template = `\n                        <li class=\"list-group-item d-flex justify-content-between\">\n                            <span>Сумма</span>\n                            <strong class=\"bottom-line-set bottom-line-set-zlp color-set-zlp\">${payment.enrolled} ${getNoun(payment.enrolled, \"токен\", \"токена\", \"токенов\")}</strong>\n                        </li>\n                    `;\n                } else if (item_type === 2) {\n                    sum_template = `\n                        <li class=\"list-group-item d-flex justify-content-between\">\n                            <span>Сумма</span>\n                            <strong class=\"bottom-line-set bottom-line-set-zlp color-set-zlp\">${payment.product.price} ${getNoun(payment.enrolled, \"рубль\", \"рубля\", \"рублей\")}</strong>\n                        </li>\n                    `;\n                    document.querySelector(\"div.modal-footer\").prepend(private_gift_button);\n                }\n            }\n\n            if (!payment.enrolled || payment.enrolled < 1) {\n                sum_template =\n                    \"\";\n            }\n            if (!payment.email.length || payment.email.match(\"undefined\")) {\n                payment.email = \"Ну указано\";\n            }\n            if (!payment.payment_system ||\n                payment.payment_system.match(\"undefined\")) {\n                system_template = \"\";\n            }\n            if (!payment.created_at || !payment.created_at.length) {\n                payment.created_at = \"Неизвестно\";\n            } else {\n                const parsed_time = new Date(payment.created_at);\n                payment.created_at =\n                    `${parsed_time.toLocaleDateString()} ${parsed_time.toLocaleTimeString()}`;\n            }\n\n            let template_invite_link = \"\";\n            if (payment.private_invite) {\n                template_invite_link = `\n                    <li class=\"list-group-item d-flex justify-content-between lh-sm mb-2 mb-lg-3 mt-4 mt-lg-5\">\n                        <a href=\"${payment.private_invite}\" id=\"private-chat-button\" target=\"_blank\" style=\"margin:auto\"\n                                   class=\"btn btn-primary shadow-primary btn-lg btn-shadow-hide\">\n                                Приглашение в приватный чат <i class=\"ms-1 bx bxl-telegram\"></i></a>\n                    </li>\n                `;\n            }\n\n            cart_dom.innerHTML = `\n                <li class=\"list-group-item d-flex justify-content-between lh-sm\">\n                    <div>\n                        <h6 class=\"my-0 text-start\">\n                            Никнейм\n                        </h6>\n                    </div>\n                    <span>${payment.customer}</span>\n                </li>\n                <li class=\"list-group-item d-flex justify-content-between lh-sm\">\n                    <div>\n                        <h6 class=\"my-0 text-start\">\n                            Почта\n                        </h6>\n                    </div>\n                    <span>${payment.email}</span>\n                </li>\n                ${system_template}\n                <li class=\"list-group-item d-flex justify-content-between lh-sm\">\n                    <div>\n                        <h6 class=\"my-0 text-start\">\n                            Время\n                        </h6>\n                    </div>\n                    <span>${payment.created_at}</span>\n                </li>\n                ${sum_template}\n                ${template_invite_link}\n            `;\n        } else {\n            succ_text.innerText =\n                \"Чек неоплачен, Шеф недоволен.\";\n            document\n                .querySelector(\n                    \"img.payment-sucess-vova\"\n                )\n                .setAttribute(\n                    \"src\",\n                    \"assets/images/vova-fail.webp\"\n                );\n        }\n    };\n\n    const enable_modal = (\n        payment) => {\n        buildPayment(payment);\n        switch_modal_containers(\n            \"success\");\n        modal_open_();\n\n        // updaters\n        update_pm_desc();\n    };\n\n    checkPayment((payment) => {\n        if (typeof payment\n                .status !==\n            \"undefined\") {\n            enable_modal(\n                payment);\n            title\n                .innerText =\n                `Чек #${payment.id}`;\n        } else {\n            notify(\n                \"Ошибка, чек не найден или EasyDonate вернул недействительный ответ\"\n            );\n        }\n    }, payment_id);\n}\n\nconst successPay = () => {\n    const url = new URL(window\n        .location\n        .href)\n        .searchParams;\n    const payment_id = url.get(\n        \"pg_order_id\");\n\n    if (payment_id) {\n        callSucessPayModal(\n            payment_id);\n    }\n}\nconst displayPromotion = () => {\n    const selector = document.querySelector(\"div.promotion-header\");\n    const main = document.querySelector(\"main\");\n\n    requestCall((promotion) => {\n            if (promotion.active) {\n                const text = promotion.text;\n\n                selector.style.minHeight = \"40px\";\n                selector.style.height = \"100%\";\n                selector.setAttribute(\n                    \"onclick\",\n                    `clipboardFunc(\"input.promotionInput\", \"Промокод <span class=\\\\\"text-primary\\\\\" style=\\\\\"font-weight:800\\\\\">${promotion.var}</span> скопирован в буфер обмена.\")`\n                );\n                selector.innerHTML = `\n                <p class=\"text-center\" style=\"color:#fff!important;line-height:200%\">${text}</p>\n                <input class=\"promotionInput\" value=\"${promotion.var}\" style=\"display:none\">\n            `;\n\n                const s_text = document.querySelector(\"div.promotion-header>p\").style;\n                s_text.marginBottom = \"0\";\n                s_text.paddingRight = \"1.25rem\";\n                s_text.paddingLeft = \"1.25rem\";\n                s_text.paddingTop = \".18rem\";\n\n                // main.style.paddingTop = \"50px\";\n            }\n        },\n        \"assets/data/promotion.json\",\n        \"GET\", true\n    );\n}\nconst adaptiveDisplayLand = () => {\n    const updater = () => {\n        const header_height = document.querySelector(\"header\").offsetHeight;\n        // const d_h = header_height / 2;\n        const container = document.getElementById(\"head-container\");\n\n        const vova_pc_version = document.querySelector(\"div.vova-bg-landing\");\n        const vova_pc_version_mask = document.querySelector(\"div.vova-bg-landing-mask\");\n\n        if (first_init_head_adapt === 0 && first_init_head_adapt_vova === 0) {\n            first_init_head_adapt = container.offsetHeight;\n            first_init_head_adapt_vova = vova_pc_version.offsetHeight;\n        }\n\n        container.style.height = `${first_init_head_adapt - header_height}px`;\n        vova_pc_version.style.height = `${first_init_head_adapt_vova - header_height}px`;\n        vova_pc_version_mask.style.height = `${first_init_head_adapt_vova - header_height}px`;\n        container.style.marginTop = `${header_height}px`;\n    }\n\n    updater();\n    setInterval(updater, 100);\n}\nconst clipboardFunc = (field_selector, notify_text) => {\n    const copyText = document.querySelector(field_selector);\n\n    copyText.select();\n    copyText.setSelectionRange(0, 99999);\n\n    navigator.clipboard.writeText(copyText.value);\n\n    notify(notify_text)\n    return copyText.value;\n}\nconst spClownLoad = () => {\n    const buttons = document.getElementById(\"zlp_land_buttons\");\n    const button_template = `\n        <button onclick=\"spClownShow()\" \n                class=\"col btn btn-primary shadow-primary btn-lg me-sm-3 me-xl-4 mb-3 btn-shadow-hide\">\n            Я люблю СП\n        </button>\n    `;\n\n    getImageLightness(\"assets/images/Clown-Face.gif\", undefined, false);\n    buttons.innerHTML = buttons.innerHTML + button_template;\n}\n\nconst spClownShow = () => {\n    lock_sticker_switch = true;\n    setTimeout(function () {\n        lock_sticker_switch = false\n    }, 3500);\n\n    setSticker(0, 0, \"assets/images/emoji/clown-face.png\");\n    notify(\"На хуй отсюда иди тогда\");\n}\n\nconst donateContainerHash = () => {\n    observerContainerHash([\"donate\",\n            \"donate_block\"\n        ],\n        () => {\n            donate_displayed =\n                true;\n            donateSwitchContainer\n            (\n                donate_displayed\n            );\n        });\n}\n\nconst rulesModalOpen = () => {\n    let content = \"\";\n    get_rules_private_server((\n        rules) => {\n        for (let i = 0; i <\n        rules\n            .length; i++) {\n            content += `\n                    <li class=\"list-group-item d-flex justify-content-between lh-sm\">\n                        <div>\n                            <h6 class=\"my-0 text-start\">\n                                ${i + 1}\n                            </h6>\n                        </div>\n                        <span class=\"ps-2 pe-2 text-start\">${rules[i].text}</span>\n                    </li>\n                `;\n        }\n        switch_modal_containers\n        (\n            \"info\", {\n                title: \"Правила приватного сервера\",\n                content: `\n                <ul class=\"list-group mb-4 mb-lg-5\">\n                    ${content}\n                </ul>\n            `\n            });\n        modal_open_();\n    });\n}\n\nconst rulesPrivateContainerHash =\n    () => {\n        observerContainerHash([\n                \"private_rules\"\n            ],\n            () => {\n                rulesModalOpen();\n            });\n    }\n\nconst openAdminContact = () => {\n    checkTelegramAuthData((\n        data) => {\n        if (data || feedback_tg_auth_skip) {\n            if (!glob_players.length) {\n                glob_players = [\"Player\"];\n            }\n            shuffle(glob_players);\n            switch_modal_containers\n            (\"info\", {\n                title: \"Обратная связь\",\n                content: `\n                        <p class=\"mb-2 mb-lg-3 mb-xl-4 text-start\">\n                            Это форма для предложений и жалоб, опишите пожалуйста кратко и \n                            ясно свою идею или предложение без воды.\n                        </p>\n                        <div class=\"row mb-3\">\n                            <div id=\"customer-tokens-container\" class=\"col-md-6\">\n                                <label for=\"feedback_nickname_init\" class=\"form-label\">Никнейм</label>\n                                <input type=\"text\" class=\"form-control\" id=\"feedback_nickname_init\" placeholder=\"${glob_players[0]}\" value=\"\" required=\"\">\n                            </div>\n                            <div id=\"customer-tokens-container\" class=\"col-md-6\">\n                                <label for=\"feedback_reason_init\" class=\"form-label\">Причина</label>\n                                <select name=\"feedback_reason_init\" class=\"form-control\" id=\"feedback_reason_init\" value=\"game_question\" required=\"\">\n                                    <option value=\"tech_problem\">Технические проблемы</option>\n                                    <option value=\"game_question\">Вопрос по игре</option>\n                                    <option value=\"player_report\">Жалоба на игрока</option>\n                                    <option value=\"offer\">Предложение</option>\n                                </select>\n                            </div>\n                        </div>\n                        <div id=\"contant-input-container\">\n                            <label for=\"admin-message\">0/0</label>\n                            <textarea id=\"admin-message\" name=\"admin-message\" class=\"form-control\" maxlength=\"0\">\n                            </textarea>\n                        </div>\n                        <button onclick=\"sendFeedbackAction()\" class=\"w-100 btn btn-primary btn-lg btn-shadow-hide mt-3 mt-lg-4\" id=\"send-feedback-button\" type=\"button\">\n                            Отправить\n                        </button>\n                    `\n            });\n            const max_len =\n                3000;\n            const textarea =\n                document\n                    .getElementById(\n                        \"admin-message\"\n                    );\n            const label =\n                document\n                    .querySelector(\n                        'label[for=\"admin-message\"]'\n                    );\n            const space = \" \";\n            if (textarea.value.includes(space.repeat(3))) {\n                textarea.value = textarea.value.trim();\n            }\n            textarea.maxLength = max_len;\n            const update_len_counter =\n                    () => {\n                        label.innerText =\n                            `${textarea.value.length}/${max_len}`;\n                    }\n            update_len_counter();\n            addEventListener\n            (\n                \"keydown\",\n                (\n                    _\n                ) =>\n                    update_len_counter()\n            );\n            addEventListener\n            (\n                \"keyup\",\n                (\n                    _\n                ) =>\n                    update_len_counter()\n            );\n            modal_open_(\n                onclick_lock =\n                    true);\n        } else {\n            console.log(\n                \"Error check Telegram auth\"\n            );\n            openTelegramAuthModal();\n            notify(\n                \"Вам необходимо авторизоватся для этой функции\"\n            );\n        }\n    });\n}\nconst initSOptimizeGA = () => {\n    window.dataLayer = window.dataLayer || [];\n\n    function gtag() {\n        dataLayer.push(arguments);\n    }\n\n    gtag('js', new Date());\n\n    gtag('config', 'G-VGRQSK1J7M');\n}\nconst adminsContactContainerHash =\n    () => {\n        observerContainerHash([\n            \"contact\",\n            \"support\", \"bug\",\n            \"report\"\n        ], () => {\n            openAdminContact();\n        });\n    }\n\nconst observerContainerHash = (\n    hash_array, action) => {\n    const updater = () => {\n        if (hash_array.includes(\n            linkHash())) {\n            action();\n        }\n    };\n\n    updater();\n    addEventListener(\n        'hashchange', (_) =>\n            updater());\n}\n\nconst openTelegramAuthModal = (skip_check = false) => {\n    checkTelegramAuthData(function (tg_success) {\n        if (!tg_success) {\n            console.log(\n                \"Telegram auth preparing...\"\n            );\n            // modal_close_();\n            const script_telegram_widget =\n                document.createElement(\n                    'script');\n\n            script_telegram_widget.src =\n                \"https://telegram.org/js/telegram-widget.js?21\";\n            script_telegram_widget\n                .setAttribute(\n                    \"async\", \"\");\n            script_telegram_widget\n                .setAttribute(\n                    \"data-telegram-login\",\n                    telegram_bot_username);\n            script_telegram_widget\n                .setAttribute(\n                    \"data-size\", \"large\");\n            script_telegram_widget\n                .setAttribute(\n                    \"data-radius\", \"8\");\n            script_telegram_widget\n                .setAttribute(\n                    \"data-onauth\",\n                    \"onTelegramAuth(user)\");\n            script_telegram_widget\n                .setAttribute(\"data-request-access\", \"write\");\n\n            script_telegram_widget.onload =\n                () => {\n                    switch_modal_containers(\n                        \"info\", {\n                            title: \"\",\n                            content: \"\"\n                        });\n                    modal_open_();\n                }\n\n            const content = document\n                .getElementById(\n                    \"info-content-modal\");\n            const container = document\n                .createElement(\"div\");\n            const text = document\n                .createElement(\n                    \"p\");\n\n            content.innerHTML = \"\";\n            content.appendChild(container);\n            content.appendChild(text);\n            text.innerHTML = `\n                Для некоторых функций на этом сайте необходимо авторизироваться. \n                Мы не получим никаких конфиденциальных данных о вас, например, \n                ваш номер или локацию, это нужно только для того, чтобы Telegram \n                подтвердил, что вы являетесь владельцем своего аккаунта. Также \n                не забудьте связать свой аккаунт Telegram с игровым аккаунтом \n                в <a href=\"${telegram_social_bot}\" target=\"_blank\" class=\"text-primary\">нашем боте</a>.\n            `;\n\n            text.setAttribute(\"class\",\n                \"text-start px-3 pt-1 pt-lg-2\"\n            );\n            container.id =\n                \"telegram-auth-container\";\n            container.appendChild(\n                script_telegram_widget);\n        }\n    }, skip_check);\n}\n\nconst openLoginHint = () => {\n    if (!allow_display_login_hint) {\n        return;\n    }\n\n    const content = document\n        .getElementById(\n            \"info-content-modal\");\n    const container = document\n        .createElement(\"div\");\n    const text = document\n        .createElement(\n            \"p\");\n\n    content.innerHTML = \"\";\n    content.appendChild(container);\n    content.appendChild(text);\n    text.innerHTML = `\n                Похоже что ты не прочитал текст в первом окне авторизации,\n                повторим процедуру. Чтобы завершить авторизацию на сайте - тебе нужно \n                связать свой Telegram с своим игровым аккаунтом в&nbsp;\n                <a href=\"${telegram_social_bot}\" target=\"_blank\" class=\"text-primary\">нашем боте</a>.\n            `;\n\n    text.setAttribute(\"class\",\n        \"text-start px-3 pt-1 pt-lg-2\"\n    );\n    container.id =\n        \"telegram-auth-hint\";\n\n    notify(\n        \"Прочитай внимательно инструкцию!\"\n    );\n\n    switch_modal_containers(\n        \"info\", {\n            title: \"Помощь авторизации\",\n            content: \"\"\n        });\n    modal_open_();\n}\n\nconst initJarallax = () => {\n    jarallax(document\n        .querySelectorAll(\n            '.jarallax'), {\n        speed: .15,\n        type: \"scale-opacity\"\n    });\n}\n\nconst initTooltip = () => {\n    const tooltipTriggerList = []\n        .slice\n        .call(document\n            .querySelectorAll(\n                '[data-bs-toggle=\"tooltip\"]'\n            ));\n    const tooltipList =\n        tooltipTriggerList\n            .map((\n                tooltipTriggerEl\n            ) => {\n                tooltip_instance =\n                    new bootstrap\n                        .Tooltip(\n                            tooltipTriggerEl, {\n                                template: `\n                                <div class=\"tooltip\" role=\"tooltip\">\n                                    <div class=\"tooltip-inner\"></div>\n                                </div>\n                            `,\n                            });\n            });\n\n    if (tooltip_instance) {\n        setInterval(() => {\n            tooltip_instance\n                .update();\n        }, 1000);\n    }\n}\n\nconst initSmoothScrollObserver = () => {\n    const scrollerObject =\n        new SmoothScroll(\"section\");\n\n    const callScroller = () => {\n        const identifier =\n            linkHash()\n                .toLowerCase();\n\n        if (!(identifier &&\n            identifier\n                .length\n        ) || ([\n            \"private_rules\"\n        ].includes(identifier))) {\n            return;\n        }\n\n        try {\n            scrollerObject.animateScroll(\n                document.querySelector(`section[id=\"${identifier}\"]`\n                ), null, {offset: 50});\n        } catch (_) {\n            return;\n        }\n    }\n\n    callScroller();\n    window.onhashchange =\n        callScroller;\n}\n\nconst privateServerModuleInit = () => {\n    const desc = document.getElementById(\"private-server-hub-description\");\n\n    desc.innerHTML = `\n        Проект Zalupa.Online за период своего существования от единого сервера\n        Анархии перерос в проект с несколькими режимами, один из таких – приватный\n        сервер с ванильным выживанием. Особенность этого сервера, что туда попадают\n        только те, кто поддержал сервер финансово. Также единственный режим, где вы\n        можете быть на уровне с администрацией, ведь здесь можно играть только с\n        правами обычного игрока, никаких привилегий. Также не забудь\n        <a class=\"text-gradient-primary\" href=\"https://www.notion.so/zaluparules/zalupa-online-1e6269506d084d6ba9549cbb7d40e3a4\">\n            прочитать правила</a>.\n    `;\n}\n\nconst tonyComeBack = () => {\n    const selector = document.getElementById(\"AppleTony_comeback_days\");\n\n    const update_days = (days_count) => {\n        selector.innerText = `${days_count} ${getNoun(\n            days_count, \"день\", \"дня\", \"дней\"\n        )}`;\n    }\n\n    const date1 = new Date();\n    const date2 = new Date(\"11/30/2023\");\n\n    const differenceInTime = date2.getTime() - date1.getTime();\n    const differenceInDays = parseInt(differenceInTime / (1000 * 3600 * 24));\n\n    update_days(differenceInDays);\n    setInterval(function () {\n        update_days(differenceInDays)\n    }, 9999);\n}\n\nconst autoAuthTelegramObserver = () => {\n    if (telegram_auth_enabled) {\n        document.getElementById(\"telegram-auth-avatar\")\n            .style.display = \"\";\n    }\n    checkTelegramAuthData((\n        success) => {\n        console.debug(\n            `Telegram auth check status : ${success}`\n        );\n        if (success) {\n            const\n                button_contact_land =\n                    document\n                        .getElementById(\n                            \"contact-button-land\"\n                        );\n            const\n                button_auth =\n                    document\n                        .querySelector(\n                            \".avatar-container\"\n                        );\n            const\n                telegram_auth_avatar =\n                    document\n                        .getElementById(\n                            \"telegram-auth-avatar\"\n                        );\n\n            button_auth\n                .removeAttribute(\n                    \"onclick\"\n                );\n            if (feedback_module_enabled) {\n                button_contact_land\n                    .style\n                    .display =\n                    \"\";\n            }\n            telegram_auth_avatar\n                .style\n                .display =\n                \"\";\n            setAvatar(getTelegramAuth());\n        }\n    });\n    setInterval(displayTokens, 300);\n}\n\nconst initCore = () => {\n    initHost();\n    initCrypto();\n    getIPClient(function () {});\n    initLanding();\n    observerSystemTheme();\n    buildPlayersSwiper();\n    buildDonateHistorySwiper();\n    appendPostsNews();\n    initComments();\n    appendServices();\n    updateCartCount();\n    gameServerUpdater();\n    initDonate();\n    initEventsList();\n    initJarallax();\n    finishLoad();\n    successPay();\n    ytVideoSetter();\n    setRandomStickerLand();\n\n    donateContainerHash();\n    rulesPrivateContainerHash();\n    adminsContactContainerHash();\n\n    privateServerModuleInit();\n\n    autoAuthTelegramObserver();\n\n    tonyComeBack();\n    displayPromotion();\n    adaptiveDisplayLand();\n\n    setLauncherLinks();\n    donate_bg_preload();\n\n    const elem = document\n        .getElementById(\n            \"dark-perm-set-bv\");\n    elem.parentNode.removeChild(\n        elem);\n\n    window.onload = () => {\n        if (!debug_lock_init) {\n            const preloader =\n                document\n                    .querySelector(\n                        \".page-loading\"\n                    );\n            const wait = 1500;\n            const move_wait =\n                100;\n            setTimeout(\n                () => {\n                    preloader\n                        .classList\n                        .remove(\n                            \"active\"\n                        );\n                    if (!\n                        donate_displayed\n                    ) {\n                        document\n                            .body\n                            .style\n                            .overflowY =\n                            \"\";\n                    }\n                    window\n                        .scrollTo({\n                            top: 0,\n                        });\n                }, wait);\n            setTimeout(\n                () => {\n                    preloader\n                        .remove();\n\n                    // after tasks\n                    initTooltip\n                    ();\n                    initSmoothScrollObserver\n                    ();\n                }, wait +\n                move_wait);\n            setInterval(() => {\n                checkTelegramAuthData(function (_) {}, false, false, true);\n            }, 10*1000);\n        }\n    };\n};\n\nscript_core.onload = () => {\n    initCore();\n};"],"mappings":"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"}