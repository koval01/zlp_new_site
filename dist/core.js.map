{"version":3,"file":"core.js","names":["_this","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","_unsupportedIterableToArray","length","i","F","s","n","done","value","e","_e","f","TypeError","normalCompletion","didErr","err","call","step","next","_e2","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","minLen","_arrayLikeToArray","Object","prototype","toString","slice","constructor","name","from","test","iter","len","arr2","site_domains","prod","domain_site","dev","development_hosts","cart_cookie","channels","links_lt","link","launcher_platforms","mac","linux","windows","gitOwner","gitLauncherRepo","lock_of","coins_sell_mode","selector_card_skin_displayed","donate_services_array","notify_hidden","glob_players","glob_events_status","allow_display_login_hint","timer_notify","swiper_comments","payment_url_global","checked_coupon","failed_coupon","crypto_token","tooltip_instance","events_page_state","donate_displayed","modal_displayed","freeze_crypto","freeze_monitoring","lock_sticker_switch","gameServerUpdater_setter","work_domain_v","products_by_serverid","glob_auth_player_data","current_c_item","current_c_item_name","telegram_cookie_token","first_init_head_adapt","first_init_head_adapt_vova","current_item_type","client_ip","avatar_loaded","telegram_glob_session","auth_data","response","telegram_social_bot","debug_lock_init","telegram_auth_enabled","feedback_module_enabled","feedback_tg_auth_skip","tokens_system_enabled","initHost","keys","window","location","hostname","linkHash","hash","substring","prepare_img_link","img_link","replace","replaceAll","time_correction","date","userTimezoneOffset","getTimezoneOffset","Date","getTime","time_in_moscow_get","arguments","undefined","toLocaleString","timeZone","getOffset","timezone","timeZoneName","match","console","error","concat","formatDate","now","diff","sec","Math","floor","getNoun","min","hour","d","getDate","getMonth","getFullYear","getHours","getMinutes","map","component","join","utf8_to_b64","str","btoa","unescape","encodeURIComponent","b64_to_utf8","decodeURIComponent","escape","atob","randDiaps","max","random","getPlatform","navigator","platform","indexOf","isChrome","userAgent","vendor","downloadLauncher","getGitLauncherReleases","links_","debug","notify","split","generateRandomHex","size","getAvatarColorIDforTG","user_id","result","base","parseInt","getHash","substr","reduce","item","parts","re_check","callback","grecaptcha","ready","execute","re_token","action","then","token_update","shuffle","array","currentIndex","randomIndex","_ref","alternateSort","list","minIndex","minVal","j","temp","getImageLightness","imageSrc","calculate","img","document","createElement","src","crossOrigin","style","display","body","appendChild","colorSum","onload","canvas","width","height","ctx","getContext","drawImage","imageData","getImageData","_","data","r","g","b","avg","x","brightness","remove","is_apple_platform","validateEmail","email","String","toLowerCase","url_builder_","base_url","submit_data_","url","URL","searchParams","set","href","countProperties","obj","number","one","two","five","abs","getCrypto","requestCall","success","token","backend_host","get_events_","events","get_yt_video_","video_id","skip","get_news_","source","messages","get_rules_private_server","appendPostsNews","iframe","loading_done","setTimeout","sl","getElementById","container_news","parentNode","removeChild","template","c","innerHTML","addEventListener","frame","url_ob","checked","createSwiper","Swiper","spaceBetween","loop","observer","observeParents","preventClicks","preventClicksPropagation","autoplay","delay","pagination","el","clickable","navigation","prevEl","nextEl","text_modify_enable","text_size_static","add_news_in_array","posts","adaptive_news_text","array_","reverse","_loop","text","text_els","datetime","datetime_utc","cover","toLocaleDateString","toLocaleTimeString","minute","selector_bg","backgroundImage","selector_text","classList","add","fontSize","text_len","innerText","text_split","font_size","fix_float_fs","float","correction_float","correction_font","max_val","parseFloat","padding","calculate_text_position","identifier_sl","switch_val","getComputedStyle","getPropertyValue","maxHeight","position","paddingBottom","paddingRight","event","style_","toFixed","background","closeButtonDonateAdaptive","minHeight","donateSwitchContainer","container","querySelector","style_sticker","style_main","opacity","update_zIndex","variable","zIndex","button","setAttribute","checkTelegramAuthData","tg_success","removeAttribute","overflowY","scrollTo","top","behavior","paddingTop","openTelegramAuthModal","get_game_server_data","_data_error","ok","string_","initCrypto","monitoring_game_server_update","online","clearInterval","selector","gameServerUpdater","setInterval","initEventsList","row_container","loader_","switch_button_","row_class","events_block_load","sort","a","keyA","date_start","keyB","st_date","end_date","date_end","time_in_moscow","badge","template_","title","get_donate_services","services","create_payment","customer","products","server_id","coupon","payment","donatePayMethodSelector","pay_method","success_url","tg_auth_data","getTelegramAuth","generateGiftLink","payment_id","check_coupon","code","testImage","tester","Image","reInitTelegramAuth","loadPlayerAvatar","avatar","def_selector","url_generator","back","exec_","avatar_selector","avatar_style","_unused","raw_link","includes","raw","skip_cache","openLoginHint","player_data","player","skin","NICKNAME","avatar_init","getIPClient","ip","cloudflareTraceJSON","dict","_iterator","_step","k","p","cloudflareTrace","id","target_commitish","author","login","draft","assets","links","_i","_Object$keys","_iterator2","_step2","browser_download_url","setLauncherLinks","button_template","d_links","_i2","_keys","checkFeedbackStatus","sendFeedback","sendFeedbackAction","textarea","button_lock","lock","check_data","send_data","checkPayment","tokens_send","getPaymentHistory","getPlayersSkins","players","enabled","skins","appendServices","size_classes","get_product_type","type","donate_check_services_cart","click_data","price","count","description","service_id","push","_name","padding_desc","desc_template","item_butt_template","click_template","JSON","stringify","button_title","description_other","image","checkPrivateServerBuy","elem","ids","log","switchEventsPages","button_name","news_page","events_page","news_button","events_button","redirect_","ytVideoSetter","only_iframe","local_load","load_iframe","params","get_link","muted","controls","set_video","video","x720","_i4","_Array$from","getElementsByClassName","getAttribute","marginBottom","check_modal_","close_r","modal_close_","getElementsByTagName","cont","marginTop","modal","modal_open_","onclick_lock","onclick","target","switch_modal_containers","mode","info_params","span","info","service","service_coins","finish_donate","_array","_mode","content","discount_calculate","discount","get_cookie_cart","cookie_cart","parse","Cookies","get","updateCartCount","groupAlreadyInCart","user_cart","cart","choice","balance","displayTokens","v2","Number","isInteger","base_selector","balance_value","container_number","balance_number","card_holder","balance_value_card","balance_choice","cardSelector","template_tokens","select_card_skin","path","sendTokensModalOpen","comment_show_action","close","comment_text","comment_show","on","checkFunction","stop_key","_iterator3","_step3","PRIVATE_SERVER","selector_button","initComments","playersGet","searchPlayer","comment","fontWeight","transition","correction_height","clientHeight","overflow","buildPlayersSwiper","slidesPerView","breakpoints","badges_get","badges_paste","players_array","_iterator4","_step4","player_in","selectSkin","Nick","Value","_loop2","getBadges","badges","badge_local","getClan","player_badges_","player_clan","head","desc","buildDonateHistorySwiper","updateDonateTime","selectors","querySelectorAll","select","time_","updated_at","product","donate_bg_preload","bg_ls","setSticker","stickers_count","custom_path","setRandomStickerLand","pageYOffset","updateStickerPosition","innerWidth","left","donate_element_click","product_data","exclude_types","text_template","items_count_donate","count_hint","add_to_cart","switch_","_update_count","product_in_cart","hasOwnProperty","group_error","count_state","only_dig","_calculate_price","_price","currenct_in_cart","template_counter_i","isNaN","sign","donate_get_service_by_id","donateResetPaymentState","repeat","coupon_reset","coupon_sl","inputs","vl","trim","update_inputs","donate_cart","cart_parsed","product_count_in_cart","max_item_count","local_prm","els_","initDonate","donate_cart_button","els","selector_","_loop3","donateFlushCart","setAvatar","user","photoTG","photo_url","avatarSelector","first_name","last_name","toUpperCase","checkAuthAndDisplayDonate","onTelegramAuth","autoAuthTelegramObserver","debugWriteTelegramAuth","cookie_field","couponCheck","coins","selector_c","input","coupon_notfd","check_coupon_valid","input_lock","donateCartCall","donate_enable_coupon","get_data_service","generatePaymentLink","sum","max_sum","_d_service","callback_data","zalupa_pay","zalupa_pay_finish_modal","enable_modal_result_sc","payment_action_bt","open","cart_dom","succ_text","cont_ok","build_modal_wind","flush_inputs_donate","services_cookie","services_origin","nickname_update","cart_keys","selectors_payment","sum_price","coupon_container","sum_container","donateCoinsPay","donateModalCall","type_item","item_id","customer_field","email_container_classL","modal_payment_text","selector_method_pay","payment_text_form","item_name","update_title","descriptor","donate_sum_title","desc_get","randomNick","fldSelect","linksSet","fisrt_el_mrg","mrg","token_","initLanding","finishLoad","heart","observerSystemTheme","mode_list","theme_switch","updateTheme","root","_loop4","matchMedia","matches","callSucessPayModal","glob_func_payment_data","item_nm_payment_result","item_type_","product_name","t","update_pm_desc","img_product","name_product","name_selector","buildPayment","status","private_gift_button","item_type","system_template","payment_system","sum_template","enrolled","prepend","created_at","parsed_time","template_invite_link","private_invite","enable_modal","successPay","displayPromotion","main","promotion","active","s_text","paddingLeft","adaptiveDisplayLand","updater","header_height","offsetHeight","vova_pc_version","vova_pc_version_mask","clipboardFunc","field_selector","notify_text","copyText","setSelectionRange","clipboard","writeText","spClownLoad","buttons","spClownShow","donateContainerHash","observerContainerHash","rulesModalOpen","rules","rulesPrivateContainerHash","openAdminContact","max_len","label","space","maxLength","update_len_counter","adminsContactContainerHash","hash_array","skip_check","script_telegram_widget","telegram_bot_username","initJarallax","jarallax","speed","initTooltip","tooltipTriggerList","tooltipList","tooltipTriggerEl","bootstrap","Tooltip","update","initSmoothScrollObserver","scrollerObject","SmoothScroll","callScroller","identifier","animateScroll","offset","onhashchange","privateServerModuleInit","tonyComeBack","update_days","days_count","date1","date2","differenceInTime","differenceInDays","button_contact_land","button_auth","telegram_auth_avatar","initCore","preloader","wait","move_wait","script_core"],"sources":["../assets/js/core.js"],"sourcesContent":["/**\n * @suppress {uselessCode}\n */\n\n\"use strict\";\nconst site_domains = {\n    prod: domain_site,\n    dev: development_hosts[0],\n    test: development_hosts[1],\n};\nconst cart_cookie = \"cart_box\";\nconst channels = 2;\nconst links_lt = [\n    {\n        name: \"twitch\",\n        link: \"https://www.twitch.tv/bratishkinoff\"\n    },\n    {\n        name: \"youtube\",\n        link: \"https://www.youtube.com/channel/UC_-kIftWIXsTrVXZy0lJdXQ\"\n    },\n    {\n        name: \"telegram\",\n        link: \"https://t.me/zalupaonline\"\n    },\n    {\n        name: \"discord\",\n        link: \"https://discord.com/invite/89squad\"\n    },\n    {\n        name: \"tiktok\",\n        link: \"https://www.tiktok.com/@nebratishkin\"\n    }\n];\nconst launcher_platforms = {\n    mac: \"dmg\",\n    linux: \"deb\",\n    windows: \"msi\"\n}\nconst gitOwner = \"Zalupa-Online\";\nconst gitLauncherRepo = \"launcher-releases\";\nconst lock_of = true;\nconst coins_sell_mode = true;\n\nvar selector_card_skin_displayed = \"\";\nvar donate_services_array = [];\nvar notify_hidden = true;\nvar glob_players = [];\nvar glob_events_status = false;\nvar allow_display_login_hint = true;\nvar timer_notify;\nvar swiper_comments;\nvar payment_url_global;\nvar checked_coupon = \"\";\nvar failed_coupon = \"\";\nvar crypto_token = \"\";\nvar tooltip_instance;\nvar events_page_state = \"news\";\nvar donate_displayed = false;\nvar modal_displayed = false;\nvar freeze_crypto = false;\nvar freeze_monitoring = false;\nvar lock_sticker_switch = false;\nvar gameServerUpdater_setter;\nvar work_domain_v = \"zalupa.online\";\nvar products_by_serverid = [];\nvar glob_auth_player_data = [];\nvar current_c_item = 0;\nvar current_c_item_name = \"\";\nvar telegram_cookie_token = \"telegram_auth\";\nvar first_init_head_adapt = 0;\nvar first_init_head_adapt_vova = 0;\nvar current_item_type = 0;\nvar client_ip = \"\";\nvar avatar_loaded = false;\nvar telegram_glob_session = {\n    auth_data: null, response: null\n};\n\nconst telegram_social_bot = \"https://t.me/ZalupaScBot\";\nconst debug_lock_init = false;\nconst telegram_auth_enabled = true;\nconst feedback_module_enabled = false;\nconst feedback_tg_auth_skip = true;\nconst tokens_system_enabled = true;\n\n\nconst initHost = () => {\n    const keys = Object.keys(site_domains);\n    for (let i = 0; i < keys.length; i++) {\n        if (site_domains[keys[i]] === window.location.hostname) {\n            work_domain_v = site_domains[keys[i]];\n        }\n    }\n}\nconst linkHash = () => {\n    return window.location.hash.substring(1);\n}\nconst prepare_img_link = (img_link) => {\n    return img_link.replace(\"https://\", \"//\").replaceAll(/\\//g, \"\\\\/\");\n}\nconst time_correction = (date) => {\n    const userTimezoneOffset = -date.getTimezoneOffset() * 60000;\n    return new Date(date.getTime() - userTimezoneOffset);\n}\nconst time_in_moscow_get = (date = null) => {\n    if (!date) {\n        date = new Date();\n    }\n    return new Date(date.toLocaleString(\"en-US\", {\n        timeZone: \"Europe/Moscow\",\n    }));\n}\nconst getOffset = (date, timezone) => {\n    try {\n        -new Date(date).toLocaleString([], {\n            timeZone: timezone,\n            timeZoneName: 'shortOffset'\n        }).match(/(?:GMT|UTC).+/)[0] * 60;\n    } catch (e) {\n        console.error(`getOffset : ${e}`);\n        return 0;\n    }\n}\nconst formatDate = (date, now = null) => {\n    let diff = new Date() - date;\n    if (now) {\n        diff = now - date;\n    }\n\n    if (diff < 1000) {\n        return 'прямо сейчас';\n    }\n\n    let sec = Math.floor(diff / 1000);\n\n    if (sec < 60) {\n        return sec + ` ${getNoun(sec, \"секунду\", \"секунды\", \"секунд\")} назад`;\n    }\n\n    let min = Math.floor(diff / (1000 * 60));\n    if (min < 60) {\n        return min + ` ${getNoun(min, \"минуту\", \"минуты\", \"минут\")} назад`;\n    }\n\n    let hour = Math.floor(diff / (1000 * 60 * 60));\n    if (hour < 24) {\n        return hour + ` ${getNoun(hour, \"час\", \"часа\", \"часов\")} назад`;\n    }\n\n    let d = date;\n    d = [\n        '0' + d.getDate(),\n        '0' + (d.getMonth() + 1),\n        '' + d.getFullYear(),\n        '0' + d.getHours(),\n        '0' + d.getMinutes()\n    ].map(component => component.slice(-2));\n\n    return d.slice(0, 3).join('.') + ' ' + d.slice(3).join(':');\n}\nconst utf8_to_b64 = (str) => {\n    return window.btoa(unescape(encodeURIComponent(str)));\n}\nconst b64_to_utf8 = (str) => {\n    return decodeURIComponent(escape(window.atob(str)));\n}\nconst randDiaps = (max = 10) => {\n    return Math.floor(Math.random() * max) + 1;\n}\nconst getPlatform = () => {\n    if (navigator.platform.indexOf(\"Mac\") === 0 || navigator.platform === \"iPhone\") {\n        return \"mac\";\n    }\n    if (navigator.platform.indexOf(\"Linux\") === 0) {\n        return \"linux\";\n    }\n    return \"windows\";\n}\nconst isChrome = () => {\n    return /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor);\n}\nconst downloadLauncher = () => {\n    getGitLauncherReleases(function(links_) {\n        const link = links_[getPlatform()];\n\n        window.location = link;\n        console.debug(`Init downloading file from url : ${link}`);\n\n        if (!isChrome()) {\n            notify(`Сейчас тебе скачаем файл <span class=\"text-gradient-primary\">${\n                link.split(\"/\").slice(-1)[0]\n            }</span>`);\n        }\n    });\n}\nconst generateRandomHex = size => [...Array(size)].map(\n    () => Math.floor(Math.random() * 16).toString(16)\n).join('');\nconst getAvatarColorIDforTG = (user_id) => {\n    var result = 0;\n    var base = 1;\n    while (user_id > 0) {\n        result += (user_id % 7) * base;\n        base *= 10;\n        user_id = Math.floor(user_id / 7);\n    }\n    return parseInt(result.toString().slice(-1));\n}\nconst getHash = (link) => {\n    const hash = window.location.hash.substr(1);\n    return Object.keys(hash.split(\"&\").reduce((result, item) => {\n        const parts = item.split(\"=\");\n        result[parts[0]] = parts[1];\n        return result;\n    }, {}))[0];\n}\nconst re_check = (callback) => {\n    grecaptcha.ready(() => {\n        grecaptcha.execute(re_token, {\n            action: \"submit\",\n        }).then((token_update) => {\n            callback(token_update);\n        });\n    });\n}\nconst shuffle = (array) => {\n    let currentIndex = array.length,\n        randomIndex;\n    while (currentIndex !== 0) {\n        randomIndex = Math.floor(Math.random() * currentIndex);\n        currentIndex--;\n        [array[currentIndex], array[randomIndex]] = [array[randomIndex], array[currentIndex],];\n    }\n    return array;\n}\nconst alternateSort = (list) => {\n    let minIndex = 0;\n    let minVal = 0;\n    for (let i = 0; i < list.length; i++) {\n        minIndex = i;\n        minVal = list[i];\n        for (let j = i + 1; j < list.length; j++) {\n            if (list[j] < minVal) {\n                minVal = list[j];\n                minIndex = j;\n            }\n        }\n        if (minVal < list[i]) {\n            const temp = list[i];\n            list[i] = list[minIndex];\n            list[minIndex] = temp;\n        }\n    }\n}\nconst getImageLightness = (imageSrc, callback, calculate = true) => {\n    const img = document.createElement(\"img\");\n    img.src = imageSrc;\n    img.crossOrigin = \"Anonymous\";\n    img.style.display = \"none\";\n    document.body.appendChild(img);\n    let colorSum = 0;\n    if (calculate) {\n        img.onload = () => {\n            const canvas = document.createElement(\"canvas\");\n            canvas.width = this.width;\n            canvas.height = this.height;\n            const ctx = canvas.getContext(\"2d\");\n            try {\n                ctx.drawImage(this, 0, 0);\n                const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n            } catch (_) {\n                callback(null);\n                return;\n            }\n            const data = imageData.data;\n            let r, g, b, avg;\n            for (let x = 0, len = data.length; x < len; x += 4) {\n                r = data[x];\n                g = data[x + 1];\n                b = data[x + 2];\n                avg = Math.floor((r + g + b) / 3);\n                colorSum += avg;\n            }\n            const brightness = Math.floor(colorSum / (this.width * this.height));\n            callback(brightness);\n            img.remove();\n        };\n    }\n}\nconst is_apple_platform = () => {\n    const mac = /(Mac|iPhone|iPod|iPad)/i.test(navigator.platform);\n    if (mac) {\n        return true;\n    }\n}\nconst validateEmail = (email) => {\n    return String(email).toLowerCase().match(/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/);\n}\nconst url_builder_ = (base_url, submit_data_) => {\n    const url = new URL(base_url);\n    for (let i = 0; i < submit_data_.length; i++) {\n        url.searchParams.set(submit_data_[i].name, submit_data_[i].value);\n    }\n    return url.href;\n}\nconst countProperties = (obj) => {\n    return Object.keys(obj).length;\n}\nconst getNoun = (number, one = \"игрок\", two = \"игрока\", five = \"игроков\") => {\n    let n = Math.abs(number);\n    n %= 100;\n    if (n >= 5 && n <= 20) {\n        return five\n    }\n    n %= 10;\n    if (n === 1) {\n        return one\n    }\n    if (n >= 2 && n <= 4) {\n        return two\n    }\n    return five;\n}\nconst getCrypto = (callback) => {\n    re_check((token_update) => {\n        requestCall((r) => {\n            if (r.success) {\n                callback(r.token);\n            } else {\n                callback(\"\");\n            }\n        }, `${backend_host}/crypto`, \"POST\", true, {\n            token: token_update,\n        });\n    });\n}\nconst get_events_ = (callback) => {\n    re_check((token_update) => {\n        requestCall((r) => {\n            callback(r.events);\n        }, `${backend_host}/events`, \"POST\", true, {\n            token: token_update,\n        });\n    });\n}\nconst get_yt_video_ = (callback, video_id, skip = false) => {\n    if (!skip) {\n        re_check((token_update) => {\n            requestCall(\n                (r) => {\n                    callback(r.body);\n                }, `${backend_host}/youtube_get`, \"POST\", true, {\n                    token: token_update,\n                    video_id: video_id,\n                });\n        });\n    } else {\n        callback(null);\n    }\n}\nconst get_news_ = (callback, source) => {\n    re_check((token_update) => {\n        requestCall((r) => {\n            callback(r.messages);\n        }, `${backend_host}/channel_parse?choice=${source}`, \"POST\", true, {\n            token: token_update,\n        });\n    });\n}\nconst get_rules_private_server = (callback) => {\n    requestCall((r) => {\n        callback(r);\n    }, \"assets/data/private_server_rules.json\", \"GET\", true);\n}\nconst appendPostsNews = (iframe=true) => {\n    const loading_done = () => {\n        setTimeout(\n            () => {\n                const sl = document.getElementById(\"telegram_block_load\");\n                const container_news = document.getElementById(\"news_zlp_buttons\");\n                try {\n                    sl.parentNode.removeChild(sl);\n                    container_news.style.display = \"\";\n                } catch (_) {}\n            }, 150);\n    };\n    if (iframe) {\n        const template = `\n        <div class=\"shadow-vertical-overlay vertical-top-shadow\" style=\"width:100vw!important\"></div>\n        <div class=\"shadow-vertical-overlay vertical-bottom-shadow\" style=\"width:100vw!important\"></div>\n        <iframe \n            style=\"min-height:450px;width:100vw\" \n            id=\"tg-iframe-view\"\n            src=\"https://telegram-worker.zalupa.online/zalupaonline\" \n            onload=\"try{document.getElementById('telegram_block_load').remove()} catch {}\">\n        </iframe>`;\n        const c = document.getElementById(\"news-c-container\");\n        c.innerHTML = template + c.innerHTML;\n        loading_done();\n\n        document.getElementById(\"theme-mode\").addEventListener('change', function() {\n            const frame = document.getElementById(\"tg-iframe-view\");\n            const url_ob = new URL(frame.src);\n\n            if (this.checked) {\n                url_ob.hash = \"#dark\";\n            } else {\n                url_ob.hash = \"#light\";\n            }\n            frame.src = url_ob.href;\n        });\n    } else {\n        const createSwiper = () => {\n            new Swiper(\"#news_swipe_container\", {\n                spaceBetween: 12,\n                loop: true,\n                observer: true,\n                observeParents: true,\n                preventClicks: false,\n                preventClicksPropagation: false,\n                autoplay: {\n                    delay: 1000 * 10,\n                },\n                pagination: {\n                    el: \"#news_swiper_pagination\",\n                    clickable: true,\n                },\n                navigation: {\n                    prevEl: \"#prev_news\",\n                    nextEl: \"#next_news\",\n                },\n            });\n        };\n        const text_modify_enable = true;\n        const text_size_static = true;\n        const add_news_in_array = (posts) => {\n            const adaptive_news_text = true;\n            const array_ = document.getElementById(\"news_swipe_array\");\n            posts = posts.reverse();\n            for (let i = 0; i < posts.length; i++) {\n                const text = posts[i].text;\n                const text_els = text.split(\" \");\n                const datetime = new Date(posts[i].datetime_utc);\n                if (!posts[i].cover) {\n                    posts[i].cover = \"assets/images/spawn.webp\";\n                }\n                array_.innerHTML = array_.innerHTML + `\n                    <div class=\"swiper-slide h-auto px-2\" style=\"max-height: 40vh !important;display: ${\n                    text_els.length >= 5 ? 'block' : 'none'\n                }\">\n                        <figure class=\"card h-100 position-relative border-0 news-figure\" id=\"news_figure_${i}\">\n                            <div class=\"background-news\" id=\"background-news-${i}\">\n                                <div class=\"background-news-overlay\" id=\"news-overlay-${i}\">\n                                    <div class=\"background-news-overlay-dark-mode\">\n                                        <div \n                                        style=\"z-index:6;top:35.1%;height:65%\"\n                                        class=\"shadow-vertical-overlay shadow-vertical-overlay-news vertical-bottom-shadow\"\n                                        ></div>\n                                        <blockquote class=\"card-body mt-2 mb-3 news-text-container\">\n                                            <p class=\"fs-md mb-0 news-text h6\" id=\"news_text_${i}\" style=\"font-family:sans-serif\">\n                                                    ${text}</p>\n                                            <div class=\"news-bottom-container\" style=\"z-index:8\">\n                                                <a class=\"btn btn-primary shadow-primary btn-lg news-button-view\"\n                                                   href=\"${posts[i].link}\" target=\"_blank\">\n                                                        Подробнее</a>\n                                            </div>\n                                        </blockquote>\n                                    </div>\n                                </div> \n                            </div>\n                        </figure>\n                        <span class=\"news-date-text\">\n                            ${datetime.toLocaleDateString()} \n                            ${datetime.toLocaleTimeString(\"ru-RU\", {\n                    hour: \"2-digit\", minute: \"2-digit\",\n                })}\n                        </span>\n                    </div>\n                `;\n                const selector_bg = document.getElementById(`background-news-${i}`);\n                selector_bg.style.backgroundImage = `url(${posts[i].cover})`;\n                if (text_modify_enable) {\n                    const selector_text = document.getElementById(`news_text_${i}`);\n                    selector_text.style.width = \"100%\";\n                    selector_text.classList.add(\"text-light\");\n                    if (text_size_static) {\n                        selector_text.style.fontSize = 'calc(1.35vw + .75vh)';\n                    } else {\n                        const text_len = selector_text.innerText.length;\n                        const text_split = selector_text.innerText.split(\" \");\n                        const font_size = ((text_len - -8) * .4) / 100;\n                        const fix_float_fs = (\n                            float, font_size, correction_float = .55,\n                            correction_font = .26, max_val = .94\n                        ) => {\n                            float = float < correction_float ? correction_float * (\n                                font_size / correction_font\n                            ) : float\n                            return max_val ? (float < max_val ? float : max_val) : float\n                        }\n                        selector_text.style.fontSize = `calc(${\n                            fix_float_fs(parseFloat(1.96 - font_size), font_size)\n                        }vw + ${\n                            fix_float_fs(parseFloat(2.16 - font_size), font_size)\n                        }vh + ${\n                            fix_float_fs(parseFloat(2 - font_size), font_size)\n                        }vmin)`;\n                        selector_text.style.padding = `${\n                            fix_float_fs(parseFloat(\n                                1.45 - font_size\n                            ), font_size, .22, 1.05)\n                        }rem`;\n                        const calculate_text_position = () => {\n                            if (!adaptive_news_text) {\n                                return;\n                            }\n                            // local init var\n                            const identifier_sl = `news_text_${i}`;\n                            const switch_val = 10;\n                            const selector_text = document.getElementById(identifier_sl);\n                            const font_size = parseFloat(\n                                window.getComputedStyle(selector_text, null)\n                                    .getPropertyValue('font-size')\n                                    .replace(\"px\", \"\")\n                            );\n                            selector_text.style.maxHeight = \"32vh\";\n                            if (font_size > switch_val) {\n                                selector_text.style.position = \"absolute\";\n                                selector_text.style.display = \"inline-block\";\n                                selector_text.style.paddingBottom = \"5rem\";\n                                selector_text.style.paddingRight = \"3rem\";\n                            } else {\n                                selector_text.style.position = \"\";\n                                selector_text.style.display = \"\";\n                                selector_text.style.paddingBottom = \"\";\n                                selector_text.style.paddingRight = \"\";\n                            }\n                        }\n                        addEventListener('resize', (event) => calculate_text_position());\n                        // setInterval(calculate_text_position, 50);\n                    }\n                }\n                getImageLightness(posts[i].cover, (brightness) => {\n                    const style_ = `#000000${\n                        (((parseFloat(brightness) / 255.0) * 100.0)\n                            .toFixed() + 64)\n                            .toString(16)\n                            .slice(0, 2)\n                    }`;\n                    document.getElementById(`news-overlay-${i}`).style.background = style_;\n                });\n            }\n            if (posts) {\n                createSwiper();\n                loading_done();\n            }\n        };\n        get_news_((posts) => {\n            add_news_in_array(posts);\n        }, 1);\n    }\n}\nconst closeButtonDonateAdaptive = () => {\n    if (!is_apple_platform()) {\n        document.getElementById(\"exit-button-container-donate\").style.minHeight = \"100%\";\n    }\n}\nconst donateSwitchContainer = (display) => {\n    const container = document.querySelector(\".donate-global-container\");\n    const style_sticker = document.getElementById(\"super-klassniy-sticker-0\").style;\n    const style_main = document.querySelector(\"main\").style;\n    style_sticker.opacity = 0;\n    const update_zIndex = (variable) => {\n        setTimeout(() => {\n            container.style.zIndex = variable;\n        }, 850);\n    };\n    if (!donate_displayed || display) {\n        const button = document.getElementById(\"donateButtonLandingTop\");\n        button.setAttribute(\"disabled\", \"\");\n        notify(\"Переходим к донату...\");\n\n        closeButtonDonateAdaptive();\n\n        checkTelegramAuthData(function (tg_success) {\n            button.removeAttribute(\"disabled\");\n            if (tg_success) {\n                document.body.style.overflowY = \"hidden\";\n                window.scrollTo({\n                    top: 0,\n                    behavior: \"smooth\",\n                });\n                container.style.minHeight = \"\";\n                update_zIndex(\"\");\n                donate_displayed = true;\n                location.hash = \"#donate\";\n                style_main.paddingTop = \"50px\";\n            } else {\n                openTelegramAuthModal(true);\n            }\n        });\n    } else {\n        container.style.minHeight = \"0\";\n        container.style.zIndex = \"-1\";\n        document.body.style.overflowY = \"\";\n        donate_displayed = false;\n        location.hash = \"#\";\n        style_main.paddingTop = \"0\";\n    }\n}\nconst get_game_server_data = (callback) => {\n    const _data_error = (ok = false) => {\n        let string_ = \"\";\n        if (ok) {\n            string_ = \"\";\n        } else {\n            string_ = \"Не удается обновить информацию о сервере...\";\n        }\n        document.getElementById(\"error_get_server_status\").innerText = string_;\n    };\n    console.debug(`crypto_token.length: ${crypto_token.length}`);\n    if (crypto_token) {\n        requestCall((r) => {\n            setTimeout(\n                () => {\n                    freeze_monitoring = false;\n                }, 800);\n            if (r.success) {\n                callback(r.body);\n            } else {\n                crypto_token = \"\";\n            }\n        }, `${backend_host}/server`, \"POST\", true, {\n            crypto_token: crypto_token\n        });\n    } else {\n        initCrypto();\n        freeze_monitoring = false;\n    }\n}\nconst monitoring_game_server_update = () => {\n    if (!freeze_monitoring) {\n        freeze_monitoring = true;\n        get_game_server_data((data) => {\n            if (data.online) {\n                if (typeof gameServerUpdater_setter !== \"undefined\") {\n                    clearInterval(gameServerUpdater_setter);\n                }\n                const selector = document.getElementById(\"server_online_status\");\n                selector.classList.remove(\"loading-dots\");\n                selector.innerHTML = `Сейчас играет <span class=\"text-primary fw-semibold\">${data.online}</span>\n            <i class=\"emoji male-emoji\" style=\"margin-left: -.35rem!important;background-image:url('assets/images/emoji/male.png')\"><b>♂</b></i>\n            ${getNoun(data.online)}\n            <i class=\"emoji male-emoji\" style=\"background-image:url('assets/images/emoji/male.png')\"><b>♂</b></i>\n            `;\n            }\n        });\n    }\n}\nconst gameServerUpdater = () => {\n    monitoring_game_server_update();\n    gameServerUpdater_setter = setInterval(monitoring_game_server_update, 650);\n    setInterval(monitoring_game_server_update, 6000);\n}\nconst initEventsList = () => {\n    const row_container = document.getElementById(\"events-row-container\");\n    const loader_ = document.getElementById(\"events_block_load\");\n    const switch_button_ = document.getElementById(\"events-c-button\");\n    const row_class = [\"row-cols-md-2\", \"row-cols-lg-2\", \"row-cols-xl-3\"];\n\n    get_events_((data) => {\n        switch_button_.removeAttribute(\"disabled\");\n        if (data && data.length) {\n            glob_events_status = true;\n            events_block_load.remove();\n            data.sort((a, b) => {\n                const keyA = new Date(a.date_start),\n                    keyB = new Date(b.date_start);\n                if (keyA < keyB) return -1;\n                if (keyA > keyB) return 1;\n                return 0;\n            });\n            for (let i = 0; i < data.length; i++) {\n                if (3 > i > 0) {\n                    row_container.classList.add(row_class[i]);\n                }\n                const st_date = time_correction(new Date(data[i].date_start));\n                const end_date = time_correction(new Date(data[i].date_end));\n                const time_in_moscow = time_in_moscow_get();\n                let badge = \"\";\n                if (st_date > time_in_moscow) {\n                    badge = \"Скоро\";\n                } else if (time_in_moscow > end_date) {\n                    badge = \"Завершено\";\n                }\n                const template_ = `\n                    <div class=\"col\">\n                        <div class=\"object-block-col\">\n                            <h1>${data[i].title}</h1>\n                            <h4 class=\"text-primary\" style=\"margin-top: -1.2rem\">${badge}</h4>\n                            <h6 style=\"margin-top: -1rem\">С <span class=\"text-primary\">\n                                ${st_date.toLocaleDateString(\"ru-RU\")} ${\n                                    (\"0\" + st_date.getHours()).slice(-2)}:${\n                                        (\"0\" + st_date.getMinutes()).slice(-2)}\n                                </span> по <span class=\"text-primary\">\n                                ${end_date.toLocaleDateString(\"ru-RU\")} ${\n                                    (\"0\" + end_date.getHours()).slice(-2)}:${\n                                        (\"0\" + end_date.getMinutes()).slice(-2)}\n                                </span></h6>\n                            <p>${data[i].text}</p>\n                        </div>\n                    </div>\n                `;\n                row_container.innerHTML = row_container.innerHTML + template_;\n            }\n        }\n    });\n}\nconst get_donate_services = (callback) => {\n    re_check((token_update) => {\n        requestCall((r) => {\n            callback(r.services);\n        }, `${backend_host}/donate/services`, \"POST\", true, {\n            token: token_update,\n        });\n    });\n}\nconst create_payment = (callback, customer, products, server_id, email = \"\", coupon = \"\") => {\n    re_check((token_update) => {\n        requestCall((r) => {\n            callback(r.payment);\n        }, `${backend_host}/donate/payment/create`, \"POST\", true, {\n            customer: customer,\n            products: products,\n            email: email,\n            coupon: ((donatePayMethodSelector() !== 2) ? coupon : null),\n            token: token_update,\n            server_id: server_id,\n            pay_method: donatePayMethodSelector(),\n            success_url: `https://${work_domain_v}`,\n            tg_auth_data: getTelegramAuth(true)\n        });\n    });\n}\nconst generateGiftLink = (callback, payment_id) => {\n    getCrypto((crypto_token) => {\n        callback(`${backend_host}/gift/private_server?` + `payment_id=${payment_id}&` + `crypto_token=${\n            encodeURIComponent(crypto_token)}&` + `sign=${generateRandomHex(24)}`);\n    })\n}\nconst check_coupon = (callback, coupon) => {\n    re_check((token_update) => {\n        requestCall((r) => {\n            if (r.coupon && r.success) {\n                callback(r.coupon);\n            } else {\n                callback(null);\n            }\n        }, `${backend_host}/donate/coupon`, \"POST\", true, {\n            code: coupon,\n            token: token_update,\n            pay_method: donatePayMethodSelector()\n        });\n    });\n}\nconst testImage = (url) => {\n    const tester = new Image();\n    // tester.addEventListener('load', TSimageFound);\n    tester.addEventListener('error', reInitTelegramAuth);\n    tester.src = url;\n}\nconst loadPlayerAvatar = (avatar, def_selector=\"telegram-auth-avatar\", url_generator=false, back=false) => {\n    const exec_ = () => {\n        let avatar_selector = null;\n        let avatar_style = null;\n\n        if (!url_generator) {\n            try {\n                avatar_selector = document.getElementById(def_selector);\n                avatar_selector.style;\n            } catch {}\n\n            console.debug(`Load avatar : ${avatar}`);\n            document.getElementById(\"tg-user-avatar-text\").innerText = \"\";\n        }\n\n        for (let i = 0; i < 10; i++) {\n            if (!crypto_token && back) {\n                initCrypto();\n            } else {\n                let raw_link = \"\";\n                if (back) {\n                    raw_link = `${\n                        backend_host\n                    }/profile/avatar/?texture_hash=${\n                        avatar\n                    }&crypto_token=${\n                        encodeURIComponent(crypto_token)\n                    }&tg_auth=${\n                        encodeURIComponent(getTelegramAuth(true))\n                    }`;\n                } else {\n                    raw_link = `//communication.zalupa.online/tiles/faces/32x32/${avatar}.png`;\n                }\n\n                const link = prepare_img_link(raw_link);\n\n                testImage(raw_link);\n\n                if (!url_generator) {\n                    avatar_selector.setAttribute(\n                        \"style\", `background-image: url(\"${link}\");border-radius:.${\n                            def_selector.includes(\"card-avatar\") ? 35 : 15}rem;`\n                    );\n                } else {\n                    return link;\n                }\n\n                return;\n            }\n        }\n    }\n\n    exec_();\n}\nconst reInitTelegramAuth = () => {\n    checkTelegramAuthData(function (_) {\n    });\n}\nconst checkTelegramAuthData = (callback, skip = false, raw = false, skip_cache = false) => {\n    const auth_data = getTelegramAuth(true);\n    if (auth_data) {\n        if (telegram_glob_session.auth_data === auth_data && !skip_cache) {\n            callback(telegram_glob_session.response.success);\n            return;\n        }\n        console.debug(`skip pos : ${skip}`);\n        if (!skip) {\n            re_check((token_update) => {\n                requestCall((r) => {\n                    if (r) {\n                        console.debug(r);\n                        if (!r.success) {\n                            // location.href = telegram_social_bot;\n                            // console.log(\"Redirect to \" + telegram_social_bot);\n                            openLoginHint();\n                            callback(false);\n                        } else {\n                            const avatar = document.getElementById(\"telegram-auth-avatar\");\n                            /*\n                                data-bs-toggle=\"tooltip\" data-bs-placement=\"bottom\"\n                                title=\"TITLE_TEXT\"\n                            */\n                            glob_auth_player_data = r.player_data;\n                            console.debug(r);\n                            // const orderedData = getTelegramAuth();\n                            if (r.player_data) {\n                                const player = r.player_data;\n                                const skin = player.NICKNAME;\n                                const avatar_init = () => {\n                                    if (\n                                        !avatar.style.backgroundImage || avatar.style.backgroundImage.length < 1\n                                    ) {\n                                        loadPlayerAvatar(skin);\n                                        loadPlayerAvatar(skin, \"card-avatar-object\");\n                                        avatar_loaded = true;\n                                    }\n                                }\n\n                                avatar_init();\n                                avatar.setAttribute(\"data-bs-toggle\", \"tooltip\");\n                                avatar.setAttribute(\"data-bs-placement\", \"bottom\");\n                                avatar.setAttribute(\"title\", player[\"NICKNAME\"]);\n\n                                setInterval(function () {\n                                    avatar_init();\n                                }, 300);\n\n                                allow_display_login_hint = false;\n                            }\n                            telegram_glob_session = {\n                                auth_data: auth_data,\n                                response: r\n                            };\n                            callback(raw ? r : r.success);\n                        }\n                    } else {\n                        callback(false);\n                    }\n                }, `${backend_host}/telegram/auth/check`, \"POST\", true, {\n                    token: token_update,\n                    tg_auth_data: auth_data\n                });\n            });\n        } else {\n            callback(true);\n        }\n    } else {\n        callback(false);\n    }\n}\nconst getIPClient = (callback) => {\n    // getIPClient(function () {});\n    requestCall(\n        (r) => {\n            if (r && r.success) {\n                client_ip = r.ip;\n                callback(r.ip);\n            } else {\n                callback(null);\n            }\n        }, `${backend_host}/ip`, \"GET\", true);\n}\nconst cloudflareTraceJSON = (text) => {\n    const keys = text.split(\"\\n\");\n    let dict = {};\n    for (const k of keys) {\n        p = k.split(\"=\");\n        dict[p[0]] = p[1];\n    }\n    console.debug(dict);\n    return dict;\n}\nconst cloudflareTrace = (callback) => {\n    requestCall(\n        (r) => {\n            if (r) {\n                callback(cloudflareTraceJSON(r));\n            } else {\n                callback(null);\n            }\n        }, `https://cloudflare.com/cdn-cgi/trace`, \"GET\", false);\n}\nconst getGitLauncherReleases = (callback) => {\n    requestCall(\n        (r) => {\n            if (\n                r && r.id && r.target_commitish === \"main\" &&\n                r.author.login === \"hevav\" &&\n                !r.draft && r.assets.length\n            ) {\n                let links = {};\n                for (let p of Object.keys(launcher_platforms)) {\n                    for (let a of r.assets) {\n                        if (a.name.split(\".\").slice(-1)[0] === launcher_platforms[p]) {\n                            links[p] = a.browser_download_url;\n                        }\n                    }\n                }\n                callback(links);\n            } else {\n                callback([]);\n            }\n        }, `https://api.github.com/repos/${gitOwner}/${gitLauncherRepo}/releases/latest`,\n        \"GET\", true\n    );\n}\nconst setLauncherLinks = () => {\n    const button_template = (link, name) => {return `\n        <a href=\"${link}\" style=\"text-transform:capitalize\"\n           class=\"btn btn-primary shadow-primary mt-3 m-1\" download=\"\">\n        ${name.toLowerCase()}</a>\n    `};\n    const selector = document.getElementById(\"zalupa-launcher-links\");\n\n    getGitLauncherReleases(function (d_links) {\n        const keys = Object.keys(d_links);\n        for (let k of keys) {\n            selector.innerHTML = selector.innerHTML + button_template(d_links[k], k);\n        }\n    });\n}\nconst checkFeedbackStatus = (callback) => {\n    const auth_data = getTelegramAuth(true);\n    if (auth_data) {\n        re_check((token_update) => {\n            requestCall(\n                (r) => {\n                    if (r) {\n                        callback(r.success);\n                    } else {\n                        callback(false);\n                    }\n                }, `${backend_host}/feedback/check`, \"POST\", true, {\n                    token: token_update,\n                    tg_auth_data: auth_data\n                });\n        });\n    }\n}\nconst sendFeedback = (callback, text) => {\n    const auth_data = getTelegramAuth(true);\n    if (auth_data) {\n        re_check((token_update) => {\n            requestCall(\n                (r) => {\n                    if (r) {\n                        callback(r.success);\n                    } else {\n                        callback(false);\n                    }\n                }, `${backend_host}/feedback/send`, \"POST\", true, {\n                    text: text,\n                    token: token_update,\n                    tg_auth_data: auth_data\n                });\n        });\n    }\n}\nconst sendFeedbackAction = () => {\n    const button = document.getElementById(\"send-feedback-button\");\n    const textarea = document.getElementById(\"admin-message\");\n    const text = textarea.value;\n    if (text.length < 20) {\n        notify(\"Сообщение очень короткое!\");\n        return;\n    }\n    const button_lock = (lock = true) => {\n        if (lock) {\n            button.setAttribute(\"disabled\", \"\");\n        } else {\n            button.removeAttribute(\"disabled\");\n        }\n        button.innerText = lock ? \"Ожидайте...\" : \"Отправить\";\n    }\n    button_lock();\n    checkFeedbackStatus((check_data) => {\n        if (check_data) {\n            sendFeedback(\n                (send_data) => {\n                    if (send_data) {\n                        notify(\"Сообщение отправлено админам.\");\n                    } else {\n                        notify(\"Ошибка на стороне сервера, попробуйте позже.\");\n                    }\n                    button_lock(false);\n                }, text);\n        } else {\n            button_lock(false);\n            notify(\"Не удалось пройти проверку, попробуйте позже.\");\n        }\n    });\n}\nconst checkPayment = (callback, payment_id) => {\n    re_check((token_update) => {\n        requestCall((r) => {\n            callback(r.payment);\n        }, `${backend_host}/donate/payment_get`, \"POST\", true, {\n            payment_id: parseInt(payment_id),\n            token: token_update,\n            tokens_send: coins_sell_mode,\n        });\n    });\n}\nconst getPaymentHistory = (callback) => {\n    re_check((token_update) => {\n        requestCall((r) => {\n            try {\n                callback(r.payment);\n            } catch (_) {\n                callback(null);\n                return;\n            }\n        }, `${backend_host}/donate/payment_history`, \"POST\", true, {\n            token: token_update\n        });\n    });\n}\nconst getPlayersSkins = (callback, players, enabled=false) => {\n    if (!enabled) {\n        callback(null);\n        return;\n    }\n    re_check((token_update) => {\n        requestCall((r) => {\n            callback(r.skins);\n        },\n            `${backend_host}/profile/skins/get`,\n            \"POST\", true, {\n            token: token_update,\n            players: players\n        });\n    });\n}\nconst appendServices = () => {\n    get_donate_services((services) => {\n        donate_services_array = services;\n        const size_classes = [\"row-cols-sm-2\", \"row-cols-md-3\", \"row-cols-lg-4\"];\n        const sl = document.getElementById(\"donate_items_list\");\n        const get_product_type = (name, type) => {\n            name = name.toLowerCase();\n            type = type.toLowerCase();\n            /*\n                1 - токены\n                2 - проходка\n                3 - слоты\n            */\n            if (name.includes(\"токен\") && type === \"currency\") {\n                return 1;\n            } else if (name.includes(\"слот\") && type === \"currency\") {\n                return 3;\n            } else if (name.includes(\"проходка\") && type === \"other\") {\n                return 2;\n            }\n        }\n        if (!services.length) {\n            sl.innerHTML = '<span class=\"text-center\">Не удалось получить список товаров.</span>';\n        } else {\n            donate_check_services_cart();\n            for (let i = 0; i < services.length; i++) {\n                const click_data = {\n                    name: services[i].name,\n                    price: services[i].price,\n                    count: services[i].number,\n                    description: services[i].description,\n                    type: services[i].type,\n                    service_id: services[i].id,\n                    server_id: services[i].server_id,\n                };\n                products_by_serverid.push(services[i]);\n                let _name = \"\";\n                // const _desc = \"\";\n                let padding_desc = \"p-3\";\n                let desc_template = `\n                    <p class=\"mb-0\">\n                        ${services[i].price} \n                        ${getNoun(services[i].price, \"рубль\", \"рубля\", \"рублей\")} \n                        = \n                        ${services[i].number} \n                        ${getNoun(services[i].number, \"единица\", \"единицы\", \"единиц\")}\n                    </p>\n                    <p class=\"fs-sm mb-0\">${services[i].description}</p>\n                `;\n                let item_butt_template = '';\n                if (i && size_classes.length >= i) {\n                    sl.classList.add(size_classes[i - 1]);\n                }\n                let click_template = `onClick=\"donate_element_click(${JSON.stringify(click_data)})\"`;\n                if (!coins_sell_mode) {\n                    _name = services[i].name;\n                } else {\n                    let button_title = \"Приобрести\";\n                    let description_other = \"Товар без описания.\";\n                    if (services[i].description) {\n                        description_other = services[i].description\n                    }\n                    if (services[i].name.toLowerCase().includes(\"токен\")) {\n                        _name = `${services[i].price} ${\n                            getNoun(services[i].price, \"рубль\", \"рубля\", \"рублей\")\n                        } = <span class=\"text-primary\">${services[i].number} ${\n                            getNoun(services[i].number, \"токен\", \"токена\", \"токенов\")\n                        }</span>`;\n                        padding_desc = \"p-0\";\n                        desc_template = `\n                        <p class=\"mb-0 token-description-dnt\">\n                            Игровая валюта, которую можно получить как в игре, так и за поддержку проекта.\n                        </p>`;\n                        click_template = \"\";\n                    } else if (services[i].name.toLowerCase().includes(\"слот\")) {\n                        _name = `${services[i].price} ${\n                            getNoun(services[i].price, \"рубль\", \"рубля\", \"рублей\")\n                        } = <span class=\"text-primary\">${services[i].number} ${\n                            getNoun(services[i].number, \"слот\", \"слота\", \"слотов\")\n                        }</span>`;\n                        padding_desc = \"p-0\";\n                        desc_template = `\n                        <p class=\"mb-0 token-description-dnt\">\n                            ${description_other}\n                        </p>`;\n                        click_template = \"\";\n                    } else if (services[i].type = \"other\") {\n                        _name = `\n                        <span class=\"text-primary\">${services[i].name}</span>,\n                        ${services[i].price} ${\n                            getNoun(services[i].price, \"рубль\", \"рубля\", \"рублей\")\n                        }`;\n                        padding_desc = \"p-0\";\n                        desc_template = `\n                        <p class=\"mb-0 token-description-dnt\">\n                            ${description_other}\n                        </p>`;\n                        click_template = \"\";\n                    }\n                    item_butt_template = `\n                        <button class=\"btn btn-primary shadow-primary btn-shadow-hide btn-lg min-w-zl donate-item-butt-bottom\" \n                            onclick=\"donateModalCall(\n                                ${get_product_type(click_data.name, click_data.type)}, ${click_data.service_id}\n                            )\">\n                            ${button_title}\n                        </button>`;\n                }\n                services[i].image = prepare_img_link(services[i].image);\n                sl.innerHTML = sl.innerHTML + `\n                    <div class=\"col\" id=\"donate_item_${services[i].id}\">\n                        <div class=\"card border-0 bg-transparent\" ${click_template}>\n                          <div class=\"position-relative container-item-donate-n\">\n                            <div class=\"parent-image-shadow donate_item_hover\" \n                                id=\"donate_item_hover_${services[i].id}\">\n                                <div class=\"imageContainer item-levitaion-dec\">\n                                    <div \n                                    class=\"foregroundImg\" \n                                    style=\"background-image: url(${services[i].image})\"\n                                    ></div>\n                                    <div \n                                    class=\"backgroundImg\" \n                                    style=\"background-image: url(${services[i].image})\"\n                                    ></div>                               \n                                 </div>\n                            </div>\n                            <div class=\"card-img-overlay d-flex flex-column align-items-center \n                                        justify-content-center rounded-3\" \n                                 style=\"margin: auto\">\n                            </div>\n                          </div>\n                          <div class=\"card-body text-center ${padding_desc}\">\n                                <h3 class=\"fs-lg fw-semibold pt-1 mb-2\">${_name}</h3>\n                                ${desc_template}\n                                ${item_butt_template}\n                          </div>\n                        </div>\n                    </div>\n                `;\n            }\n            checkPrivateServerBuy();\n            setTimeout(\n                () => {\n                    const elem = document.getElementById(\"donate_block_load\");\n                    const ids = [\n                        \"donate_items_list\", \"donate-header-container\",\n                        \"donate-test-mode-enb\", \"donate-cart-container\"\n                    ];\n                    try {\n                        elem.parentNode.removeChild(elem);\n                    } catch (_) {\n                    }\n                    for (let i = 0; i < ids.length; i++) {\n                        try {\n                            document.getElementById(ids[i]).style.display = \"\";\n                        } catch (e) {\n                            console.log(`Donate block loader error. Details: ${e}`);\n                        }\n                    }\n                }, 100);\n        }\n    });\n}\nconst switchEventsPages = (button_name) => {\n    const news_page = document.getElementById(\"news-c-container\");\n    const events_page = document.getElementById(\"events-c-container\");\n    const news_button = document.getElementById(\"news-c-button\");\n    const events_button = document.getElementById(\"events-c-button\");\n    if (button_name !== events_page_state) {\n        if (button_name === \"events\") {\n            if (glob_events_status) {\n                news_page.style.display = \"none\";\n                events_page.style.display = \"block\";\n                news_button.removeAttribute(\"disabled\");\n                events_button.setAttribute(\"disabled\", \"\");\n                events_page.style.top = \"0\";\n                news_page.style.top = \"-2rem\";\n                events_page_state = \"events\";\n            } else {\n                notify(\"Сейчас ивентов нет...\")\n            }\n        } else if (button_name === \"news\") {\n            news_page.style.display = \"block\";\n            events_page.style.display = \"none\";\n            news_button.setAttribute(\"disabled\", \"\");\n            events_button.removeAttribute(\"disabled\");\n            events_page.style.top = \"-2rem\";\n            news_page.style.top = \"0\";\n            events_page_state = \"news\";\n        }\n    }\n}\nconst redirect_ = (url) => {\n    return window.location.replace(url);\n}\nconst ytVideoSetter = (skip = false, only_iframe = false, local_load = true) => {\n    const load_iframe = (el, video_id, params) => {\n        el.innerHTML = `\n            <iframe src=\"https://www.youtube.com/embed/${video_id}\" title=\"YouTube video player\"\n                frameborder=\"0\" class=\"video-container-yt\" id=\"ytframe_${video_id}\"\n                allow=\"accelerometer; ${\n                    params.autoplay != null ? \"autoplay\" : \"\"\n                }; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n                allowfullscreen=\"\" loading=\"lazy\"></iframe>\n        `;\n    }\n    const get_link = (el, video_id, url, params) => {\n        el.innerHTML = `\n            <video class=\"video-container\" preload=\"none\" id=\"ytframe_${video_id}\" \n                    poster=\"/assets/images/videos/${video_id}.webp\" \n                  ${\n                    params.autoplay != null ? 'autoplay=\"\"' : \"\"\n                } ${\n                    params.muted != null ? 'muted=\"\"' : \"\"\n                } ${\n                    params.loop != null ? 'loop=\"\"' : \"\"\n                } ${\n                    params.controls != null ? 'controls=\"\"' : \"\"\n                } style=\"object-fit: contain\">\n                <source src=\"${url}\" type=\"video/mp4\">\n            </video>\n        `;\n    }\n    const set_video = (el, video_id, params) => {\n        if (local_load) {\n            get_link(el, video_id, `//files.zalupa.online/videos/${video_id}.mp4`, params);\n        } else {\n            if (only_iframe) {\n                load_iframe(el, video_id, params);\n            } else {\n                const video = get_yt_video_(\n                    (data) => {\n                        if (data && data.video.x720.url && !skip) {\n                            get_link(el, params, data.video.x720.url);\n                        } else {\n                            load_iframe(el, video_id, params);\n                        }\n                    }, video_id, skip);\n            }\n        }\n    };\n    for (let el of Array.from(document.getElementsByClassName(\"ytVideoSetter\"))) {\n        const video_id = el.getAttribute(\"video_id\");\n        if (video_id && video_id.length && video_id.length < 20) {\n            set_video(el, video_id, {\n                autoplay: el.getAttribute(\"autoplay\"),\n                muted: el.getAttribute(\"muted\"),\n                loop: el.getAttribute(\"loop\"),\n                controls: el.getAttribute(\"controls\"),\n            });\n            if (el.getAttribute(\"bottomzero\")) {\n                document.getElementById(`ytframe_${video_id}`).style.marginBottom = \"0\";\n            }\n        }\n    }\n}\nconst check_modal_ = () => {\n    const close_r = () => {\n        if (!modal_displayed) {\n            modal_close_();\n        }\n    }\n    setInterval(close_r, 250);\n}\nconst modal_close_ = () => {\n    if (modal_displayed) {\n        document.body.classList.remove(\"modal-open\");\n        document.getElementById(\"scroll_butt_container\").style.display = \"\";\n        document.getElementsByTagName(\"html\")[0].style.overflowY = \"\";\n        const cont = document.querySelector(\".modal-content\");\n        cont.classList.remove(\"emoji-pay-back\");\n        cont.style.marginTop = \"2em\";\n        const modal = document.getElementById(\"donate_item_modal\");\n        modal.style.opacity = 0;\n        setTimeout(() => {\n            modal.style.display = \"none\";\n        }, 350);\n        modal_displayed = false;\n    }\n}\nconst modal_open_ = (onclick_lock = false) => {\n    modal_displayed = true;\n    document.body.classList.add(\"modal-open\");\n    document.getElementById(\"scroll_butt_container\").style.display = \"none\";\n    document.getElementsByTagName(\"html\")[0].style.overflowY = \"hidden\";\n    try {\n        document.getElementById(\"private_gift_button_modal\").remove()\n    } catch (_) {\n    }\n    const modal = document.getElementById(\"donate_item_modal\");\n    modal.style.display = \"block\";\n    setTimeout(() => {\n        modal.style.opacity = 1;\n        document.querySelector(\".modal-content\").style.marginTop = 0;\n    }, 50);\n    if (!onclick_lock) {\n        window.onclick = (event) => {\n            if (event.target === modal) {\n                modal_close_();\n            }\n        }\n    }\n}\nconst switch_modal_containers = (mode = \"service\", info_params = {}) => {\n    const span = document.getElementsByClassName(\"close_b\")[0];\n    const info = document.getElementById(\"modal-info-container-c\");\n    const service = document.getElementById(\"modal-donate-container-c\");\n    const service_coins = document.getElementById(\"modal-donate-finish-container-b\");\n    const success = document.getElementById(\"modal-donate-success-container\");\n    const finish_donate = document.getElementById(\"modal-donate-finish-container-c\");\n    const title = document.querySelector(\".modal-title\");\n    const _array = [{\n        name: \"service\",\n        selector: service,\n        title: \"Товар\",\n    },\n        {\n            name: \"service_coins\",\n            selector: service_coins,\n            title: \"Оплата пожертвования\",\n        },\n        {\n            name: \"info\",\n            selector: info,\n            title: \"Сообщение\",\n        },\n        {\n            name: \"success\",\n            selector: success,\n            title: \"Чек\",\n        },\n        {\n            name: \"donate_finish\",\n            selector: finish_donate,\n            title: \"Корзина\",\n        },\n    ];\n    for (let i = 0; i < _array.length; i++) {\n        let _mode = \"none\";\n        if (mode === _array[i].name) {\n            _mode = \"block\";\n            title.innerText = _array[i].title;\n        }\n        _array[i].selector.style.display = _mode;\n    }\n    if (mode === \"info\") {\n        title.innerText = info_params.title;\n        if (info_params.content.length) {\n            document.getElementById(\"info-content-modal\").innerHTML = info_params.content;\n        }\n    }\n    span.onclick = () => {\n        modal_close_();\n    };\n}\nconst discount_calculate = (price, discount) => {\n    discount = discount / 100;\n    return (price * discount).toFixed();\n}\nconst get_cookie_cart = () => {\n    let cookie_cart = {};\n    try {\n        cookie_cart = JSON.parse(Cookies.get(cart_cookie));\n    } catch (_) {\n    }\n    return cookie_cart;\n}\nconst updateCartCount = () => {\n    document.getElementById(\"count_cart_items_dn\").innerText =\n        countProperties(get_cookie_cart());\n}\nconst groupAlreadyInCart = (user_cart) => {\n    const cart = Object.keys(user_cart);\n    for (let i = 0; i < donate_services_array.length; i++) {\n        if (donate_services_array[i].type === \"group\") {\n            if (cart.includes(donate_services_array[i].id.toString())) {\n                return true;\n            }\n        }\n    }\n    return false;\n}\n\nconst donatePayMethodSelector = () => {\n    const choice = parseInt(document.getElementById(\"donate-pay-method\").value);\n    const balance = document.getElementById(\"tokens-balance-choice-dnt-container\");\n\n    if (choice == 2) {\n        balance.style.marginTop = \"1em\";\n        balance.style.opacity = 1;\n        document.getElementById(\"donate-coins-payment\").innerHTML = \"\";\n\n        checked_coupon = \"\";\n        failed_coupon = \"\";\n    } else {\n        balance.style.marginTop = \"-1.8em\";\n        balance.style.opacity = 0;\n    }\n    return choice;\n}\n\nconst displayTokens = (v2=true) => {\n    const balance = glob_auth_player_data[\"BALANCE\"];\n\n    if (!tokens_system_enabled) {\n        return;\n    }\n    document.querySelector(\".zalupa-card-container\").style.display = \"\";\n\n    if (Number.isInteger(balance)) {\n        if (!v2) {\n            const base_selector = document.querySelector(\".balance-container\");\n            const balance_value = document.querySelector(\".balance-value\");\n\n            base_selector.style.display = \"\";\n            balance_value.innerText = balance;\n        } else {\n            const container_number = document.getElementById(\"numberZalupaCard\");\n\n            if (!document.querySelector(\".ZalupaCardInput\")) {\n                container_number.innerHTML = container_number.innerHTML + `\n                    <input class=\"ZalupaCardInput\" style=\"display:none\" value=\"${glob_auth_player_data[\"UUID\"]}\">\n                `;\n            }\n\n            const balance_number = document.querySelector(\".number-card-zalupa\");\n            const card_holder = document.querySelector(\".card-holder-zalupa\");\n            const balance_value_card = document.querySelector(\".balance-value-card\");\n            const balance_choice = document.getElementById(\"tokens-balance-choice-dnt\");\n            const cardSelector = \"input.ZalupaCardInput\";\n\n            const template_tokens = `<span class=\"text-primary\">${balance}</span> ${\n                getNoun(balance, \"токен\", \"токена\", \"токенов\")}`;\n\n            balance_choice.innerHTML = `У тебя ${template_tokens}`;\n\n            balance_number.setAttribute(\n                \"onclick\",\n                `clipboardFunc(\n                    \"${cardSelector}\", \n                    \"Номер твоей <span class=\\\\\"text-primary\\\\\" style=\\\\\"font-weight:800\\\\\">ZalupaCard</span> скопирован в буфер обмена.\"\n                )`\n            );\n\n            document.querySelector(cardSelector).value = glob_auth_player_data[\"UUID\"];\n            balance_number.innerText = glob_auth_player_data[\"UUID\"];\n            card_holder.innerText = glob_auth_player_data[\"NICKNAME\"];\n            balance_value_card.innerHTML = template_tokens;\n\n            document.getElementById(\"card-zalupa\").style.backgroundImage =\n                `url(\"${select_card_skin(balance)}\")`;\n        }\n    }\n}\nconst select_card_skin = (balance) => {\n    const skins = {\n        0: \"clay\",\n        50: \"red_mashroom\",\n        100: \"tube_coral\",\n        150: \"gray_glazed_terracotta\",\n        200: \"bee_nest\",\n        350: \"bamboo\",\n        500: \"gilded_blackstone\",\n        750: \"raw_gold\",\n        1000: \"nether_wart\",\n        1500: \"sculk_crystal\",\n        2000: \"rainforced_deepslate\",\n        3000: \"tinted_glass\",\n        4000: \"chiseled_quartz\",\n        5000: \"tnt\",\n        6500: \"warped_stem\",\n        8000: \"respawn_anchor\",\n        10000: \"dark_prismarine\",\n        12000: \"nether\",\n        15000: \"netherite\"\n    };\n    let keys = Object.keys(skins);\n    keys = keys.reverse();\n    const path = \"./assets/images/card_skins\";\n    for (let i = 0; i < keys.length; i++) {\n        const selector = skins[keys[i]];\n        if (balance >= parseInt(keys[i])) {\n            if (selector_card_skin_displayed !== selector) {\n                console.debug(selector);\n                selector_card_skin_displayed = selector;\n            }\n            return prepare_img_link(`${path}/${selector}.png`);\n        }\n    }\n    return prepare_img_link(`${path}/clay.png`);\n}\nconst sendTokensModalOpen = () => {\n    notify(\"Э брат, не завезли пока. Кнопочку не трож\");\n}\nconst comment_show_action = (id, close = false) => {\n    const comment_text = document.getElementById(`comment_text_${id}`);\n    const comment_show = document.getElementById(`comment_show_${id}`);\n    swiper_comments.on(\"slideChange\", () => {\n        comment_show_action(id, true);\n    });\n    if (close || comment_text.getAttribute(\"fullShowComment\") === \"1\") {\n        comment_text.style.height = \"100px\";\n        comment_text.setAttribute(\"fullShowComment\", \"0\");\n        comment_show.innerText = \"Раскрыть\";\n    } else {\n        comment_text.style.height = \"100%\";\n        comment_text.setAttribute(\"fullShowComment\", \"1\");\n        comment_show.innerText = \"Скрыть\";\n    }\n}\nconst checkPrivateServerBuy = () => {\n    const checkFunction = () => {\n        const stop_key = \"Проходка\";\n\n        for (let item of donate_services_array) {\n            // console.debug(`checkPrivateServerBuy : item = ${item.name} / id = ${item.id}`);\n            if (item.name === stop_key && glob_auth_player_data.PRIVATE_SERVER) {\n                const selector_button = document.querySelector(\n                    `#donate_item_${item.id}>div>div.card-body>button`);\n\n                selector_button.innerText = \"Куплено\";\n                selector_button.setAttribute(\"disabled\", \"\");\n                selector_button.removeAttribute(\"onclick\");\n                // открывать чек об оплате (если есть)\n            }\n        }\n    }\n\n    checkFunction();\n    setInterval(checkFunction, 600);\n}\nconst initComments = () => {\n    const array_ = document.getElementById(\"comment_swipe_array\");\n    const createSwiper = () => {\n        swiper_comments = new Swiper(\"#comment_swipe_container\", {\n            spaceBetween: 12,\n            loop: true,\n            observer: true,\n            observeParents: true,\n            preventClicks: false,\n            preventClicksPropagation: false,\n            autoplay: {\n                delay: 3000,\n            },\n            pagination: {\n                el: \".swiper-pagination\",\n                clickable: true,\n            },\n            navigation: {\n                prevEl: \"#prev_comment\",\n                nextEl: \"#next_comment\",\n            },\n        });\n    };\n    const playersGet = (callback) => {\n        requestCall((r) => {\n            callback(r);\n        }, \"assets/data/players.json\", \"GET\", true);\n    };\n    const searchPlayer = (players, name) => {\n        for (let i = 0; i < players.length; i++) {\n            if (players[i].name === name) {\n                return players[i];\n            }\n        }\n    };\n    requestCall((r) => {\n            const comment = r;\n            shuffle(comment);\n            playersGet((players) => {\n                for (let i = 0; i < comment.length; i++) {\n                    const player = searchPlayer(players, comment[i].name);\n                    array_.innerHTML = array_.innerHTML + `\n                        <div class=\"swiper-slide h-auto px-2\">\n                            <figure class=\"card h-100 position-relative border-0 shadow-sm py-3 p-0 p-xxl-4 my-0\">\n                                <span class=\"btn btn-primary btn-lg shadow-primary pe-none position-absolute top-0 start-0 translate-middle-y ms-4 ms-xxl-5 zlp-comment-icon\">\n                                  <i class=\"bx bxs-quote-left\"></i>\n                                  Залупный комментарий\n                                </span>\n                                <blockquote id=\"comment_block_${i}\" class=\"card-body mt-2 mb-2\" \n                                            style=\"transition: .8s height\">\n                                    <p id=\"comment_text_${i}\" class=\"fs-md mb-0\">\n                                            «${comment[i].text}»</p>\n                                    <span id=\"comment_show_${i}\" onclick=\"comment_show_action(${i})\" \n                                          class=\"pt-1 comment-show-button\">\n                                            Раскрыть</span>\n                                </blockquote>\n                                <figcaption class=\"card-footer d-flex align-items-center border-0 pt-0 mt-n2 mt-lg-0\">\n                                    <div>\n                                        <b class=\"fw-semibold lh-base mb-0\">${comment[i].name}</b>\n                                    </div>\n                                </figcaption>\n                            </figure>\n                        </div>\n                    `;\n\n                    const\n                        comment_text =\n                            document\n                                .getElementById(\n                                    `comment_text_${i}`\n                                );\n                    const\n                        comment_show =\n                            document\n                                .getElementById(\n                                    `comment_show_${i}`\n                                );\n\n                    comment_show\n                        .style\n                        .fontWeight =\n                        \"400\";\n                    comment_text\n                        .style\n                        .transition =\n                        \"height .8s cubic-bezier(1, -.3, 0, 1.21) 0s\";\n                    comment_text\n                        .setAttribute(\n                            \"fullShowComment\",\n                            \"0\"\n                        );\n                    const\n                        correction_height =\n                            12;\n\n                    if (comment_text\n                            .clientHeight >\n                        100 +\n                        correction_height\n                    ) {\n                        comment_text\n                            .style\n                            .height =\n                            \"100px\";\n                        comment_text\n                            .style\n                            .overflow =\n                            \"hidden\";\n                    } else {\n                        comment_show\n                            .style\n                            .display =\n                            \"none\";\n                    }\n                }\n            });\n\n            createSwiper();\n        },\n        \"assets/data/comments.json\",\n        \"GET\", true);\n}\n\nconst buildPlayersSwiper = () => {\n    const array_ = document\n        .getElementById(\n            \"players-swiper-array\");\n\n    const createSwiper = () => {\n        try {\n            document.getElementById(\"players_block_load\").remove();\n        } catch (_) {\n        }\n        new Swiper(\n            \"#players_swipe_container\", {\n                slidesPerView: 1,\n                spaceBetween: 24,\n                autoplay: {\n                    delay: 2000,\n                },\n                loop: true,\n                observer: true,\n                observeParents: true,\n                preventClicks: false,\n                pagination: {\n                    el: \".swiper-pagination\",\n                    clickable: true,\n                },\n                breakpoints: {\n                    600: {\n                        slidesPerView: 2,\n                    },\n                    920: {\n                        slidesPerView: 3,\n                    },\n                    1200: {\n                        slidesPerView: 4,\n                    },\n                    1600: {\n                        slidesPerView: 5,\n                    },\n                    2000: {\n                        slidesPerView: 6,\n                    }\n                },\n            });\n    };\n\n    const badges_get = (\n        callback) => {\n        requestCall((r) => {\n                callback(r);\n            },\n            \"assets/data/badges.json\",\n            \"GET\", true);\n    };\n\n    // try {\n    //     // preload\n    //     loadPlayerAvatar(generateRandomHex(32), \"\", true);\n    // } catch {}\n\n    badges_get((badges_paste) => {\n        requestCall((r) => {\n                const player = r;\n                shuffle(player);\n\n                let players_array = [];\n                for (let player_in of player) {\n                    players_array.push(player_in.name);\n                }\n\n                const selectSkin = (player, skins) => {\n                    if (skins.length < players_array.length) {\n                        for (let i = 0; i < (players_array.length - skins.length); i++) {\n                            skins.push({Nick: \"\", Value: \"\"});\n                        }\n                    }\n                    for (let i = 0; i < skins.length; i++) {\n                        if (player.toLowerCase() === skins[i].Nick.toLowerCase()) {\n                            return skins[i].Value;\n                        }\n                    }\n                    return \"11228873ae0acb8c1abb9f2ed92b7ef29b7e03a534e4d67ad7435ee759e4cf54\";\n                }\n\n                getPlayersSkins(function (skins) {\n                    // console.log(skins);\n                    for (let i = 0; i < player.length; i++) {\n                        const\n                            getBadges = () => {\n                                    let result = \"\";\n                                    player[i].badges.sort();\n                                    for (let s = 0; s < player[i].badges.length; s++) {\n                                        const badge_local = player[i].badges[s];\n                                        if (\n                                            badge_local && badge_local.length &&\n                                            badge_local !== \"verified\" &&\n                                            !badge_local.includes(\"clan-\"))\n                                        {\n                                            result = result + `\n                                        <div class=\"player_badge\" \n                                            style=\"background-image: url(./assets/images/emoji/${badges_paste[badge_local].item}.png)\"\n                                            data-bs-toggle=\"tooltip\" data-bs-placement=\"bottom\" \n                                            title=\"${badges_paste[badge_local].title}\">\n                                        </div>\n                                    `;\n                                        }\n                                    }\n                                    return result;\n                                }\n\n                        const getClan = () => {\n                            for (let s = 0; s < player[i].badges.length; s++) {\n                                if (player[i].badges[s].includes(\"clan-\")) {\n                                    return player[i].badges[s].replace(\"clan-\", \"\");\n                                }\n                            }\n                        }\n\n                        glob_players.push(player[i].name);\n\n                        // const player_badges_ = getBadges();\n                        // const player_clan = getClan();\n                        const player_badges_ = \"\";\n                        const player_clan = \"\";\n\n                        player[i].head = prepare_img_link(player[i].head);\n                        //loadPlayerAvatar(selectSkin(player[i].name, skins), \"\", true)\n\n                        array_.innerHTML = array_.innerHTML + `\n                        <div class=\"swiper-slide text-center\">\n                            <span class=\"d-block py-5\">\n                                <div class=\"player_head_container\">\n                                    <div \n                                        class=\"player-head d-block mx-auto\" \n                                        style=\"background-image: url(${player[i].head});border-radius:.75em\"\n                                    ></div>\n                                </div>\n                                <div class=\"card-body p-3\">\n                                    <h3 class=\"fs-lg fw-semibold pt-1 mb-2\">\n                                        ${player[i].name}\n                                    </h3>\n                                    <p class=\"fs-sm mb-0\" style=\"text-align:center\">${player[i].desc}</p>\n                                </div>\n                            </span>\n                        </div>\n                    `;\n                    // ${player_clan ? `<div\n                    //                     class=\"player_clan_badge\"\n                    //                     data-bs-toggle=\"tooltip\" data-bs-placement=\"top\"\n                    //                     title=\"${player_clan}\"\n                    // ></div>` : \"\"}\n\n                    // ${player[i].badges.includes(\"verified\") ? `\n                    //     <i class=\"verified-icon\"\n                    //     data-bs-toggle=\"tooltip\" data-bs-placement=\"top\"\n                    //     title=\"Подтвержденный\"> ✔</i>\n                    // ` : \"\"}\n                    }\n\n                    createSwiper();\n                }, players_array, false);\n            },\n            \"assets/data/players.json\",\n            \"GET\", true);\n    });\n}\n\nconst buildDonateHistorySwiper = () => {\n    const array_ = document\n        .getElementById(\n            \"payments-history-swiper-array\");\n\n    const createSwiper = () => {\n        new Swiper(\n            \"#payments_history_container\", {\n                slidesPerView: 1,\n                spaceBetween: 24,\n                autoplay: {\n                    delay: 1500,\n                },\n                loop: true,\n                observer: true,\n                observeParents: true,\n                preventClicks: false,\n                pagination: {\n                    el: \".payments-history-pagination\",\n                    clickable: true,\n                },\n                breakpoints: {\n                    320: {\n                        slidesPerView: 2,\n                    },\n                    600: {\n                        slidesPerView: 3,\n                    },\n                    920: {\n                        slidesPerView: 4,\n                    },\n                    1200: {\n                        slidesPerView: 5,\n                    },\n                    1600: {\n                        slidesPerView: 6,\n                    },\n                    1900: {\n                        slidesPerView: 7,\n                    },\n                    2100: {\n                        slidesPerView: 8,\n                    },\n                    2500: {\n                        slidesPerView: 9,\n                    },\n                },\n            });\n    };\n\n    const updateDonateTime = () => {\n        const selectors = document.querySelectorAll(\"#item-donate-history-desc>time\");\n        for (let i = 0; i < selectors.length; i++) {\n            const select = selectors[i];\n            const time_ = select.getAttribute(\"datetime\");\n\n            select.innerHTML = formatDate(new Date(time_), time_in_moscow_get());\n        }\n    }\n\n    getPaymentHistory(function (data) {\n        if (!data || !data.length) {\n            return;\n        }\n        for (let i = 0; i < data.length; i++) {\n            const date = new Date(data[i].updated_at);\n            data[i].product.image = prepare_img_link(data[i].product.image);\n            array_\n                .innerHTML =\n                array_\n                    .innerHTML + `\n                    <div class=\"swiper-slide text-center\">\n                        <span class=\"d-block py-3\">\n                            <div class=\"player_head_container\">\n                                <div \n                                    class=\"player-head d-block mx-auto\" \n                                    style=\"background-image: url(${data[i].product.image});height:65px!important\"\n                                ></div>\n                            </div>\n                            <div class=\"card-body p-3\">\n                                <h5 class=\"h5 fs-6 fw-semibold pt-1 mb-2\">\n                                    ${data[i].product.name}\n                                </h5>\n                                <p class=\"fs-sm mb-0\" id=\"item-donate-history-desc\">\n                                    <span class=\"text-gradient-primary fw-bold\">${data[i].customer}</span>\n                                    <br/>\n                                    <time datetime=\"${\n                    date.toString()\n                }\"></time>\n                                </p>\n                            </div>\n                        </span>\n                    </div>\n                `;\n        }\n        document.getElementById(\"last_donate_block_load\").remove();\n        createSwiper();\n        setInterval(updateDonateTime, 1000);\n    });\n}\n\nconst donate_bg_preload = () => {\n    const bg_ls = [\"emoji-background-donate-light\", \"emoji-background-donate\"];\n    for (let i = 0; i <= bg_ls; i++) {\n        getImageLightness(`assets/images/${i}.png`, undefined, false);\n    }\n}\n\nconst setSticker = (stickers_count = 0, id = 0, custom_path = null) => {\n    let path = `assets/images/stickers/sticker${randDiaps(stickers_count)}.webp`;\n    if (custom_path) {\n        path = custom_path;\n    } else if (lock_sticker_switch) {\n        return;\n    }\n    const link = prepare_img_link(path);\n    document.getElementById(`super-klassniy-sticker-${id}`).style.backgroundImage = `url(${link})`;\n}\nconst setRandomStickerLand = () => {\n    const stickers_count = 32;\n    const selector = document.getElementById(\"super-klassniy-sticker-0\");\n\n    for (let i = 0; i <= stickers_count; i++) {\n        getImageLightness(`assets/images/stickers/sticker${i}.webp`, undefined, false);\n    }\n\n    setInterval(function () {\n        if (window.pageYOffset > 1600 || donate_displayed) {\n            selector.style.opacity = 0;\n        } else if (!donate_displayed && window.pageYOffset <= 1600) {\n            setTimeout(function () {\n                selector.style.opacity = .4;\n            }, 800);\n        } else {\n            selector.style.opacity = .4;\n        }\n    }, 30);\n\n    const updateStickerPosition = () => {\n        if (window.innerWidth >= 992) {\n            selector.style.top = `${randDiaps(85)}%`;\n            selector.style.left = `${randDiaps(85)}%`;\n        } else {\n            selector.style.top = `${randDiaps(100)}%`;\n            selector.style.left = `${randDiaps(75)}%`;\n        }\n    }\n\n    setSticker(stickers_count);\n    setInterval(setSticker, 6000, stickers_count);\n\n    updateStickerPosition();\n    setInterval(updateStickerPosition, 3000);\n}\nconst donate_element_click = (\n    product_data) => {\n    switch_modal_containers(\n        \"service\");\n    const exclude_types = [\"group\"];\n    const desc = document\n        .getElementById(\n            \"donate_item_select_text\"\n        );\n    const text_template = `Товар <span class=\"text-primary fw-semibold\">${product_data.name}</span>,\n            цена ${product_data.count} ${getNoun(product_data.count, \"единицы\", \"единиц\", \"единиц\")}\n        <span class=\"text-primary fw-semibold\">\n            ${product_data.price}\n            ${getNoun(product_data.price, \"рубль\", \"рубля\", \"рублей\")}\n        </span>.\n    `;\n    const items_count_donate =\n        document\n            .getElementById(\n                \"items_count_donate\");\n    const count_hint = document\n        .getElementById(\n            \"donate_count_text_hint\"\n        );\n    const add_to_cart = document\n        .getElementById(\n            \"donate_button_add_to_cart\"\n        );\n    const cookie_cart =\n        get_cookie_cart();\n    let switch_ = false;\n\n    const _update_count = () => {\n        add_to_cart\n            .setAttribute(\n                \"onClick\",\n                `donate_cart(${product_data.service_id}, ${items_count_donate.value})`\n            );\n    };\n\n    items_count_donate.value = 1;\n\n    _update_count();\n\n    const product_in_cart =\n        cookie_cart\n            .hasOwnProperty(product_data\n                .service_id\n                .toString());\n\n    if ((exclude_types.includes(\n                product_data.type\n            ) ||\n            product_data.type ===\n            \"group\") &&\n        groupAlreadyInCart(\n            cookie_cart)\n    ) {\n        switch_modal_containers(\n            \"info\");\n        switch_ = true;\n        let group_error = \"\";\n\n        if (product_data.type ===\n            \"group\") {\n            group_error =\n                \"Вы уже выбрали привилегию. Удалите её из корзины, если хотите выбрать другую.\";\n        } else if (\n            product_in_cart) {\n            group_error = `Ошибка, вы можете добавить товар \n                <span class=\"text-primary fw-semibold\">${product_data.name}</span> \n                только один раз.`;\n        } else {\n            group_error =\n                \"Мы не знаем почему, но эта ошибка вызвана по неизвестным причинам.\";\n        }\n\n        document.getElementById(\n            \"donate_info_block_text\"\n        )\n            .innerHTML =\n            group_error;\n    }\n\n    let count_state = \"block\";\n\n    if (exclude_types.includes(\n        product_data.type)) {\n        count_state = \"none\";\n    }\n\n    items_count_donate.style\n        .display =\n        count_state;\n    count_hint.style.display =\n        count_state;\n\n    const only_dig = () => {\n        const value =\n            items_count_donate\n                .value;\n        items_count_donate\n            .value =\n            value.replace(\n                /\\D+/g,\n                \"\");\n    };\n\n    const _calculate_price =\n        () => {\n            only_dig();\n\n            if (!exclude_types\n                .includes(\n                    product_data\n                        .type\n                )) {\n                let _price =\n                    parseInt(\n                        items_count_donate\n                            .value) *\n                    product_data\n                        .price;\n\n                const\n                    currenct_in_cart =\n                        cookie_cart[\n                            product_data\n                                .service_id\n                            ];\n                let template_counter_i =\n                    \"\";\n\n                if (isNaN(_price) ||\n                    1 >\n                    Math.sign(\n                        _price)) {\n                    _price = 0;\n                }\n\n                if (\n                    currenct_in_cart) {\n                    template_counter_i\n                        = `\n                    Уже в корзине - \n                        <span class=\"text-primary fw-semibold\">\n                            ${currenct_in_cart}\n                        </span>\n                `;\n                }\n\n                desc.innerHTML = `${text_template}\n                    <br/>\n                    Стоимость - \n                        <span class=\"text-primary fw-semibold\">\n                            ${_price} \n                            ${getNoun(_price, \"рубль\", \"рубля\", \"рублей\")}\n                        </span>\n                    <br/>\n                    ${template_counter_i}\n                `;\n\n                _update_count();\n            }\n        };\n\n    desc.innerHTML = text_template;\n\n    _calculate_price();\n\n    items_count_donate\n        .addEventListener(\n            \"input\",\n            (_) => {\n                _calculate_price();\n            });\n    modal_open_();\n}\n\nconst donate_get_service_by_id = (\n    id) => {\n    for (let i = 0; i <\n    donate_services_array\n        .length; i++) {\n        if (donate_services_array[i]\n            .id === parseInt(id)) {\n            return donate_services_array[\n                i];\n        }\n    }\n\n    return null;\n}\n\nconst donateResetPaymentState = (type =\n                                     1, repeat = false,\n                                 coupon_reset =\n                                     false) => {\n    const coupon_sl = document\n        .getElementById(\n            \"donate-coins-payment\");\n    const inputs = [\n        \"donate_sum\",\n        \"donate_customer_c\",\n        \"donate_email_c\",\n        \"coupon-input-c\",\n        \"donate-pay-method\"\n    ]\n    let sl = \"_c\";\n    let vl = document\n        .getElementById(\n            \"donate_sum\")\n        .value.trim();\n    if (!coins_sell_mode) {\n        sl = \"\";\n        vl = 0;\n    }\n    const button = document\n        .getElementById(\n            \"payment-button-donate\" +\n            sl\n        );\n    const update_inputs = () => {\n        for (let i = 0; i < inputs.length; i++) {\n            const sl = document.getElementById(inputs[i]);\n            if (inputs[i].includes(\"coupon\") && !coupon_reset) {\n                // pass\n            } else if (inputs[i].includes(\"method\")) {\n                sl.value = 1;\n            } else {\n                sl.value = \"\";\n            }\n        }\n    }\n    if (coupon_reset) {\n        coupon_sl.innerHTML = \"\";\n        update_inputs();\n        checked_coupon = \"\";\n        failed_coupon = \"\";\n    }\n    button.setAttribute(\"onClick\",\n        `generatePaymentLink(${type}, ${(type === 2) ? 1 : vl})`\n    );\n    button.removeAttribute(\n        \"disabled\");\n    button.innerText = repeat ?\n        \"Повторить\" : \"Дальше\";\n}\n\nconst donate_cart = (product, count,\n                     remove = false) => {\n    const cart = Cookies.get(\n        cart_cookie);\n    const cart_parsed =\n        get_cookie_cart();\n    let product_count_in_cart = 0;\n    const max_item_count = 30000;\n    const local_prm =\n        '<span style=\"color: #a4a6ff\">';\n\n    try {\n        const p = cart_parsed[\n            product];\n\n        if (Number.isInteger(p)) {\n            product_count_in_cart\n                = +p;\n        }\n    } catch (_) {\n    }\n\n    if (!Number.isInteger(\n        product) || !\n        Number.isInteger(count)) {\n        return;\n    } else if (1 > Math.sign(\n        count)) {\n        notify(\n            \"Количество не может быть равно нулю или меньше\"\n        );\n        return;\n    } else if (\n        product_count_in_cart +\n        count > max_item_count) {\n        notify(\n            `Максимальное количество - ${local_prm}${max_item_count}</span>`\n        );\n        return;\n    }\n\n    if (!cart) {\n        Cookies.set(cart_cookie,\n            JSON\n                .stringify({}));\n    }\n\n    const els_ = JSON.parse(Cookies\n        .get(\n            cart_cookie));\n    const product_data =\n        donate_get_service_by_id(\n            product);\n\n    if (remove) {\n        delete els_[product];\n        notify(\n            `Товар ${local_prm} ${product_data.name}</span> убран из корзины`\n        );\n    } else {\n        if (els_[product]) {\n            els_[product] = els_[\n                product] + count;\n            notify(`В корзину добавлено ${local_prm} ${count} \n                    </span>\n                    ${getNoun(count, \"единица\", \"единицы\", \"единиц\")} \n                    товара ${local_prm} ${product_data.name} \n                    </span>`);\n        } else {\n            els_[product] = count;\n            notify(\n                `Товар ${local_prm} ${product_data.name}</span> добавлен в корзину`\n            );\n        }\n    }\n\n    Cookies.set(cart_cookie, JSON\n        .stringify(els_));\n    modal_close_();\n    initDonate();\n    updateCartCount();\n    donateResetPaymentState();\n}\n\nconst donate_cart_button = (\n    els = {}) => {\n    const selector_ = document\n        .querySelectorAll(\n            \".donate-cart-button-cn\"\n        );\n\n    if (coins_sell_mode) {\n        return;\n    }\n\n    for (let i = 0; i < selector_.length; i++) {\n        const sl = selector_[i].style;\n\n        if (countProperties(els)) {\n            sl.display = \"flex\";\n            setTimeout(() => {\n                sl.opacity = 1;\n                sl.marginTop = \"15px\";\n                selector_[i].removeAttribute(\"disabled\");\n            }, 50);\n        } else {\n            selector_[i].setAttribute(\"disabled\", \"\");\n            sl.opacity = 0;\n            sl.marginTop = \"-50px\";\n            setTimeout(() => {\n                sl.display = \"none\";\n            }, 350);\n        }\n    }\n}\n\nconst donateFlushCart = () => {\n    Cookies.remove(cart_cookie);\n    donate_cart_button({});\n    notify(\"Корзина очищена\");\n}\n\nconst setAvatar = (user) => {\n    const photoTG = false;\n    const selector = document.getElementById(\n        \"telegram-auth-avatar\").style;\n    if (user.photo_url && photoTG) {\n        selector.backgroundImage = `url(${user.photo_url})`;\n    } else {\n        selector.background =\n            `linear-gradient(343deg, var(--telegram-bgcolor${\n                getAvatarColorIDforTG(user.id)\n            }-top) 0%, var(--telegram-bgcolor${\n                getAvatarColorIDforTG(user.id)\n            }-bottom) 100%)`;\n        const avatarSelector = document.getElementById(\"tg-user-avatar-text\");\n        try {\n            avatarSelector.innerText =\n                `${user.first_name.slice(0, 1)}${user.last_name ? user.last_name.slice(0, 1) : \"\"}`\n                    .toUpperCase();\n        } catch (_) {\n            avatarSelector.innerHTML = \"N/A\";\n        }\n    }\n}\n\nconst checkAuthAndDisplayDonate = () => {\n    checkTelegramAuthData(function (response) {\n        if (response.player_data.NICKNAME) {\n            donateSwitchContainer();\n        }\n    }, false, true);\n}\n\nconst onTelegramAuth = (user) => {\n    Cookies.set(\n        telegram_cookie_token,\n        utf8_to_b64(JSON\n            .stringify(\n                user)));\n    modal_close_();\n    notify(\n        `Вы успешно авторизовались как <span class=\"text-gradient-primary\">${\n            user.first_name} ${user.last_name ? user.last_name : \"\"}</span>`\n    );\n\n    autoAuthTelegramObserver();\n    // checkAuthAndDisplayDonate();\n}\n\nconst debugWriteTelegramAuth = (data) => {\n    Cookies.set(telegram_cookie_token, data);\n}\n\nconst getTelegramAuth = (raw =\n                             false) => {\n    const cookie_field = Cookies\n        .get(\n            telegram_cookie_token);\n    if (cookie_field) {\n        if (raw) {\n            return cookie_field;\n        } else if (cookie_field) {\n            return JSON.parse(\n                b64_to_utf8(\n                    cookie_field\n                ));\n        }\n    }\n}\n\nconst couponCheck = (coins = false) => {\n    let selector_c = \"\";\n    if (coins_sell_mode) {\n        selector_c = \"-c\";\n    }\n\n    const input = document\n        .getElementById(\n            \"coupon-input\" +\n            selector_c);\n    const button = document\n        .getElementById(\n            \"coupon-button\" +\n            selector_c\n        );\n    let code = \"\";\n\n    try {\n        code = input.value.trim()\n            .toUpperCase();\n    } catch (_) {\n    }\n\n    const coupon_notfd = () => {\n        notify(\n            `Купон <span class=\"text-primary fw-semibold\">${failed_coupon}</span> не найден`\n        );\n    };\n\n    const check_coupon_valid =\n        (products, product) => {\n            if (products) {\n                for (let i = 0; i <\n                products\n                    .length; i++\n                ) {\n                    if (products[i]\n                            .id ===\n                        current_c_item\n                    ) {\n                        return true;\n                    }\n                }\n            }\n            return false;\n        };\n\n    if (!code.length) {\n        notify(\n            \"Вы не указали купон\");\n        return;\n    } else if (code.length > 20) {\n        notify(\n            \"Купон слишком длинный\");\n        return;\n    } else if (!/^[A-z\\d_]+$/.test(\n        code)) {\n        notify(\n            \"Купон указан неверно\");\n        return;\n    } else if (checked_coupon ===\n        code) {\n        notify(\n            \"Этот купон уже используется\"\n        );\n        return;\n    } else if (failed_coupon ===\n        code) {\n        coupon_notfd();\n        return;\n    }\n\n    const input_lock = (lock =\n                            false) => {\n        if (lock) {\n            input.setAttribute(\n                \"disabled\",\n                \"\");\n            button.setAttribute(\n                \"disabled\",\n                \"\");\n            button.innerText =\n                \"Проверяем\";\n        } else {\n            input\n                .removeAttribute(\n                    \"disabled\");\n            button\n                .removeAttribute(\n                    \"disabled\");\n            button.innerText =\n                \"Проверить\";\n        }\n    };\n\n    input_lock(true);\n    if (donatePayMethodSelector() !== 2) {\n        check_coupon((r) => {\n            // console.log(`check_coupon = ${typeof r}`);\n            if (r) {\n                const call =\n                    () => {\n                        checked_coupon\n                            =\n                            code;\n                        notify(\n                            `Купон <span class=\"text-primary fw-semibold\">${code}</span> действительный`\n                        );\n                    };\n                if (!coins_sell_mode) {\n                    call();\n                    donateCartCall\n                    (\n                        code,\n                        false\n                    );\n                } else if (\n                    check_coupon_valid(\n                        r\n                            .products,\n                        current_c_item\n                    )) {\n                    call();\n                    const sl =\n                        document\n                            .getElementById(\n                                \"donate-coins-payment\"\n                            );\n                    sl.innerHTML = `<li class=\"list-group-item d-flex justify-content-between bg-light\">\n                        <div class=\"text-primary\">\n                            <h6 class=\"my-0 text-start\">Купон</h6>\n                            <small class=\"text-start\" style=\"float: left\">${code}</small>\n                        </div>\n                        <span class=\"text-muted text-end\" style=\"width: 30%\">\n                            ${r.discount}%</span>\n                    </li>`;\n                } else {\n                    notify(\n                        \"Этот купон недействительный\"\n                    );\n                }\n            } else {\n                failed_coupon =\n                    code;\n                coupon_notfd();\n            }\n\n            input_lock();\n        }, code);\n    } else {\n        notify(\"Купон недоступен для Zalupa Pay\");\n        input_lock();\n    }\n}\n\nconst donate_enable_coupon = (enabled =\n                                  true) => {\n    const input = document\n        .getElementById(\n            \"coupon-input\");\n    const button = document\n        .getElementById(\n            \"coupon-button\");\n\n    if (enabled) {\n        input.setAttribute(\n            \"placeholder\",\n            \"BRFF\");\n        button.setAttribute(\n            \"onClick\",\n            \"couponCheck()\");\n        input.removeAttribute(\n            \"disabled\");\n        button.removeAttribute(\n            \"disabled\");\n    } else {\n        input.setAttribute(\n            \"disabled\",\n            \"\");\n        input.setAttribute(\n            \"placeholder\",\n            \"Сейчас недоступно\");\n        button.setAttribute(\n            \"disabled\",\n            \"\");\n    }\n}\n\nconst get_data_service = (\n    service_id) => {\n    for (let i = 0; i <\n    products_by_serverid\n        .length; i++) {\n        if (parseInt(\n                products_by_serverid[\n                    i].id\n            ) ===\n            parseInt(\n                service_id)\n        ) {\n            return products_by_serverid[\n                i];\n        }\n    }\n}\n\nconst generatePaymentLink = (type = 1,\n                             sum = 0) => {\n    let selector_c = \"\";\n    if (coins_sell_mode) {\n        selector_c = \"_c\";\n    }\n    const button = document\n        .getElementById(\n            \"payment-button-donate\" +\n            selector_c);\n    let customer = document\n        .getElementById(\n            \"donate_customer\" +\n            selector_c)\n        .value.trim();\n    let email = document\n        .getElementById(\n            \"donate_email\" +\n            selector_c)\n        .value.trim();\n    let coupon = \"\";\n    customer = glob_auth_player_data.NICKNAME;\n    const max_sum = 30000;\n    const local_prm =\n        '<span style=\"color: #a4a6ff\">';\n\n    try {\n        coupon = checked_coupon\n            .trim();\n    } catch (_) {\n    }\n\n    if (type === 1) {\n        if (!Number.isInteger(\n            sum) || !\n            Number.isInteger(sum)) {\n            notify(\n                \"Ошибка проверки суммы\"\n            );\n            return;\n        } else if (1 > Math.sign(\n            sum)) {\n            notify(\n                \"Сумма не может равняться нулю или меньше\"\n            );\n            return;\n        } else if (sum > max_sum) {\n            notify(\n                `Максимальная сумма - ${local_prm}${max_sum}</span>`\n            );\n            return;\n        }\n    }\n\n    if (!customer.length) {\n        notify(\n            \"Введите пожалуйста ваш никнейм\"\n        );\n        return;\n    } else if (customer.length >\n        40) {\n        notify(\n            \"Ваш никнейм слишком длинный\"\n        );\n        return;\n    } else if (customer.length < 3) {\n        notify(\n            \"Ваш никнейм слишком короткий\"\n        );\n        return;\n    } else if (!/^[A-z\\d_]+$/.test(\n        customer)) {\n        notify(\n            \"Никнейм не соотвествует формату\"\n        );\n        return;\n    }\n\n    if (!email.length) {\n        notify(\n            \"Введите пожалуйста ваш email\"\n        );\n        return;\n    } else if (!validateEmail(\n        email)) {\n        notify(\n            \"Ошибка, адрес почты недействительный\"\n        );\n        return;\n    }\n\n    if (!coupon) {\n        coupon = \"\";\n    }\n    if (coins_sell_mode) {\n        products = JSON.parse(\n            `{\"${current_c_item}\": ${sum}}`\n        );\n    } else {\n        products =\n            get_cookie_cart();\n    }\n\n    button.setAttribute(\"disabled\",\n        \"\");\n    button.innerText =\n        \"Проверяем данные...\";\n\n    const _d_service =\n        get_data_service(\n            current_c_item);\n    create_payment((\n            callback_data) => {\n            if (callback_data) {\n                button.removeAttribute(\"disabled\");\n                button.innerText = \"Оплатить\";\n                if (callback_data.zalupa_pay) {\n                    zalupa_pay_finish_modal();\n                } else {\n                    payment_url_global = callback_data.url;\n                    button.setAttribute(\n                        \"onClick\",\n                        \"payment_action_bt()\"\n                    );\n                }\n            } else {\n                notify(\n                    \"Ошибка, не удалось сформировать чек для оплаты\"\n                );\n                donateResetPaymentState\n                (type,\n                    repeat =\n                        true);\n            }\n        }, customer, products,\n        _d_service.server_id,\n        email,\n        coupon);\n}\n\nconst zalupa_pay_finish_modal = () => {\n    const container = document.getElementById(\"only-ok-payment\");\n\n    container.innerHTML = `\n    <div style=\"\n        background: rgb(28 28 28 / 15%);\n        padding: 1.15em;\n        border-radius: 0.72em;\n        backdrop-filter: blur(1.35em);\n        -webkit-backdrop-filter: blur(1.35em);\n    \">\n            <p style=\"\n                font-weight: 800;\n                margin-bottom: 0;\n            \">Спасибо что воспользовались ZalupaPay!</p>                \n    </div>\n    `;\n\n    enable_modal_result_sc();\n    checkTelegramAuthData(function (_) {}, false, false, true);\n    document.querySelector(\".modal-title\").innerText = \"\";\n    document.querySelector(\".modal-content\").classList.add(\"emoji-pay-back\");\n}\n\nconst enable_modal_result_sc = () => {\n    switch_modal_containers(\"success\");\n    modal_open_();\n    donateResetPaymentState();\n};\n\nconst payment_action_bt = () => {\n    window.open(payment_url_global,\n        \"_blank\");\n\n    const cart_dom = document\n        .getElementById(\n            \"donate-cart-list-success\"\n        );\n    const succ_text = document\n        .getElementById(\n            \"success-pay-text-js\");\n    const cont_ok = document\n        .getElementById(\n            \"only-ok-payment\");\n    const title = document\n        .querySelector(\n            \".modal-title\");\n\n    const build_modal_wind =\n        () => {\n            cart_dom.innerHTML = \"\";\n            title.innerText = \"\";\n            succ_text.innerText =\n                \"Давай, плати. Шеф ждёт...\";\n            cont_ok.style.display =\n                \"\";\n            document\n                .querySelector(\n                    \"img.payment-sucess-vova\"\n                )\n                .setAttribute(\"src\",\n                    \"assets/images/vova-gay.webp\"\n                );\n        };\n\n    const flush_inputs_donate =\n        () => {\n            const inputs = [\n                \"donate_sum\",\n                \"donate_customer_c\",\n                \"donate_email_c\",\n                \"coupon-input-c\",\n            ];\n            for (let i = 0; i <\n            inputs\n                .length; i++) {\n                document\n                    .getElementById(\n                        inputs[i])\n                    .value = \"\";\n            }\n        };\n\n    enable_modal_result_sc();\n    flush_inputs_donate();\n    build_modal_wind();\n}\n\nconst donate_check_services_cart =\n    () => {\n        const services_cookie = Object\n            .keys(\n                get_cookie_cart());\n        const services_origin =\n            donate_services_array;\n        const services = [];\n\n        for (let i = 0; i <\n        services_origin\n            .length; i++) {\n            services.push(\n                services_origin[i]\n                    .id);\n        }\n\n        for (let i = 0; i <\n        services_cookie\n            .length; i++) {\n            if (!services.includes(\n                parseInt(\n                    services_cookie[\n                        i]))) {\n                const cart = JSON.parse(\n                    Cookies.get(\n                        cart_cookie)\n                );\n                delete cart[parseInt(\n                    services_cookie[\n                        i])];\n                Cookies.set(cart_cookie,\n                    JSON.stringify(\n                        cart)\n                );\n                console.log(\n                    `Remove ${services_cookie[i]} from cart`\n                );\n            }\n        }\n    }\n\nconst initDonate = () => {\n    let els = {};\n\n    try {\n        els = JSON.parse(Cookies\n            .get(\n                cart_cookie));\n    } catch (_) {\n    }\n\n    donate_cart_button(els);\n    donate_enable_coupon(true);\n}\n\nconst donateCartCall = (coupon = null,\n                        nickname_update = true) => {\n    const cart = get_cookie_cart();\n    const cart_keys = Object.keys(\n        cart);\n    const cart_dom = document\n        .getElementById(\n            \"donate-cart-list\");\n    const selectors_payment = [\n        document\n            .getElementById(\n                \"donate_customer\"),\n        document.getElementById(\n            \"donate_email\"),\n        document.getElementById(\n            \"coupon-input\"),\n    ];\n    switch_modal_containers(\n        \"donate_finish\");\n    modal_open_();\n    cart_dom.innerHTML = \"\";\n    let sum_price = 0;\n\n    for (let i = 0; i <\n    selectors_payment\n        .length; i++) {\n        selectors_payment[i]\n            .addEventListener(\n                \"input\",\n                (_) => {\n                    donateResetPaymentState\n                    ();\n                });\n    }\n\n    for (let i = 0; i < cart_keys\n        .length; i++) {\n        const item =\n            donate_get_service_by_id(\n                cart_keys[i]);\n        const price = item.price *\n            cart[\n                item.id];\n        sum_price += price;\n        cart_dom.innerHTML =\n            cart_dom\n                .innerHTML + `\n            <li class=\"list-group-item d-flex justify-content-between lh-sm\">\n                <div>\n                    <h6 class=\"my-0 text-start\">\n                        <span class=\"text-primary fw-semibold\">\n                            x${item.number}</span> \n                        ${item.name}\n                    </h6>\n                    <small class=\"text-muted text-start cart-desc-td\">${item.description}</small>\n                </div>\n                <span class=\"text-muted text-end\" style=\"width: 30%\">\n                    ${price} ${getNoun(price, \"рубль\", \"рубля\", \"рублей\")}\n                    <br/>x${cart[item.id]}</span>\n            </li>\n        `;\n    }\n\n    const coupon_container =\n        () => {\n            cart_dom.innerHTML =\n                cart_dom.innerHTML + `<li class=\"list-group-item d-flex justify-content-between bg-light\">\n                <div class=\"text-primary\">\n                    <h6 class=\"my-0 text-start\">Купон</h6>\n                    <small class=\"text-start\" style=\"float: left\">${coupon}</small>\n                </div>\n            </li>`;\n        };\n\n    const sum_container = () => {\n        cart_dom.innerHTML =\n            cart_dom.innerHTML + `<li class=\"list-group-item d-flex justify-content-between\">\n                <span>Сумма</span>\n                <strong>${sum_price} ${getNoun(sum_price, \"рубль\", \"рубля\", \"рублей\")}</strong>\n            </li>`;\n    };\n\n    if (coupon) {\n        coupon_container();\n    }\n\n    sum_container();\n\n    if (nickname_update) {\n        shuffle(glob_players);\n        document\n            .querySelector(\n                \"input#donate_customer\"\n            )\n            .setAttribute(\n                \"placeholder\",\n                glob_players[0]);\n    }\n}\n\nconst donateCoinsPay = (type = 1) => {\n    const button = document\n        .getElementById(\n            \"payment-button-donate_c\"\n        );\n    let sum = document\n        .getElementById(\n            \"donate_sum\");\n\n    if (!sum.value && !/^[\\d]+$/\n        .test(\n            sum.value)) {\n        sum = 0;\n    } else {\n        sum = sum.value;\n    }\n\n    button.setAttribute(\"onClick\",\n        `generatePaymentLink(${type}, ${(type === 2) ? 1 : sum})`\n    );\n}\n\nconst donateModalCall = (type_item,\n                         item_id, nickname_update = true\n) => {\n    current_item_type = type_item;\n\n    const sum = document\n        .getElementById(\n            \"donate_sum\");\n    const customer_field = document\n        .getElementById(\n            \"donate_customer_c\");\n    const sum_container = document\n        .getElementById(\n            \"sum-tokens-container\");\n    const email_container_classL =\n        document.getElementById(\n            \"customer-email-tokens-container\"\n        )\n            .classList;\n    const modal_payment_text =\n        document\n            .getElementById(\n                \"donate-text-span\");\n    const selector_method_pay =\n        document.getElementById(\"donate-pay-method\");\n    let payment_text_form;\n    const selectors_payment = [\n        document\n            .getElementById(\n                \"donate_sum\"),\n        document\n            .getElementById(\n                \"donate_customer_c\"\n            ),\n        document.getElementById(\n            \"donate_email_c\"),\n        document.getElementById(\n            \"coupon-input-c\"),\n    ];\n    const title = document\n        .querySelector(\n            \".modal-title\");\n    let item_name;\n\n    const update_title = (\n        descriptor) => {\n        title.innerText = title\n            .innerText.replace(\n                /\\([\\s\\S]*?\\)/)\n            .trim();\n        title.innerText =\n            `${title.innerText} (${descriptor})`;\n    }\n\n    current_c_item = item_id;\n    current_c_item_name = get_data_service(item_id).name;\n\n    selector_method_pay.value = 1;\n    donatePayMethodSelector();\n\n    if (type_item === 1 || type_item === 3) {\n        selector_method_pay.setAttribute(\"disabled\", \"\");\n        sum_container.style\n            .display =\n            \"\";\n        email_container_classL\n            .remove(\n                \"col-sm-6\");\n        email_container_classL.add(\n            \"col-12\");\n        const donate_sum_title = document.getElementById(\"donate-sum-title\");\n        if (type_item === 1) {\n            payment_text_form = `\n                Воспользовавшись этой формой, вы можете поддержать проект финансово.\n                За поддержку вы получите вознаграждение – за каждый рубль по одному игровому токену.\n            `;\n            item_name = \"Токены\";\n            donate_sum_title.innerText = \"Сумма\";\n            // except\n            sum.addEventListener(\n                \"input\",\n                (_) => {\n                    donateCoinsPay\n                    ();\n                });\n        } else if (type_item === 3) {\n            payment_text_form = `\n                Добавляет +1 слот в клан. Система автоматически определяет ваш клан по никнейму, \n                поэтому будьте внимательны перед оплатой. Проверьте в каком клане вы состоите.\n            `;\n            item_name = \"Слоты\";\n            donate_sum_title.innerText = \"Количество\";\n            customer_field\n                .addEventListener(\n                    \"input\",\n                    (_) => {\n                        donateCoinsPay(\n                            type_item\n                        );\n                    });\n        }\n    } else if (type_item === 2) {\n        selector_method_pay.removeAttribute(\"disabled\");\n        sum_container.style\n            .display =\n            \"none\";\n        email_container_classL\n            .remove(\n                \"col-12\");\n        email_container_classL.add(\n            \"col-sm-6\");\n        desc_get = get_data_service(current_c_item).description;\n        if (!desc_get) {\n            desc_get = \"\"\n        }\n\n        payment_text_form = `\n            Форма оплаты пожертвования для игрового проекта Zalupa.Online\n            <br/>\n            <span class=\"text-primary\">\n                ${desc_get}\n            </span>\n        `;\n        item_name = current_c_item_name;\n        customer_field\n            .addEventListener(\n                \"input\",\n                (_) => {\n                    donateCoinsPay(\n                        type_item\n                    );\n                });\n    }\n    modal_payment_text.innerHTML =\n        payment_text_form\n            .replaceAll(\n                \"\\n\", \"\");\n\n    for (let i = 0; i < selectors_payment.length; i++) {\n        selectors_payment[i]\n            .addEventListener(\n                \"input\",\n                (_) => {\n                    donateResetPaymentState\n                    (type_item);\n                });\n    }\n\n    switch_modal_containers(\n        \"service_coins\");\n    modal_open_();\n\n    if (nickname_update) {\n        const randomNick = false;\n        const fldSelect = document.querySelector(\"input#donate_customer_c\");\n        if (randomNick) {\n            shuffle(glob_players);\n            fldSelect\n                .setAttribute(\n                    \"placeholder\",\n                    glob_players[0]\n                );\n        } else {\n            fldSelect\n                .setAttribute(\n                    \"placeholder\",\n                    glob_auth_player_data.NICKNAME\n                );\n            fldSelect.value = glob_auth_player_data.NICKNAME;\n            fldSelect\n                .setAttribute(\"disabled\", \"\");\n        }\n    }\n\n    donateResetPaymentState(\n        type_item,\n        false, true);\n    update_title(item_name);\n}\n\nconst linksSet = (selector_,\n                  fisrt_el_mrg = false) => {\n    const sl = document\n        .getElementById(\n            selector_);\n    let mrg =\n        \"margin-left: 0 !important\";\n\n    for (let i = 0; i < links_lt\n        .length; i++) {\n        if (!fisrt_el_mrg || i) {\n            mrg = \"\";\n        }\n\n        sl.innerHTML = sl\n            .innerHTML + `<a href=\"${links_lt[i].link}\" \n                target=\"_blank\" style=\"${mrg}\"\n                class=\"btn btn-icon btn-secondary btn-${links_lt[i].name} mx-2\">\n                    <i class=\"bx bxl-${links_lt[i].name}\"></i>\n            </a>`;\n    }\n}\n\nconst initCrypto = () => {\n    if (!freeze_crypto) {\n        freeze_crypto = true;\n        crypto_token = \"\";\n        getCrypto((token_) => {\n            crypto_token =\n                token_;\n            setTimeout(function() {\n                freeze_crypto = false\n            }, 8000);\n        });\n    }\n}\n\nconst initLanding = () => {\n    if (development_hosts.includes(\n            window.location.hostname\n        ) &&\n        lock_of) {\n        document.getElementById(\n            \"landing_description_gb\"\n        )\n            .innerText =\n            \"Этот сайт - preview-версия!\";\n        document.getElementById(\n            \"donate-test-mode-enb\"\n        )\n            .innerText =\n            \"Этот блок работает в демонстративном режиме и не является функциональным.\";\n    }\n\n    linksSet(\"landing-links-tp\",\n        true);\n    linksSet(\n        \"links-block-footer-v\");\n}\n\nconst finishLoad = () => {\n    document.querySelector(\"main\")\n        .setAttribute(\"style\", \"\");\n    document.querySelector(\"footer\")\n        .setAttribute(\"style\", \"\");\n    const heart =\n        `<i class=\"emoji\" style=\"background-image:url(\\'assets/images/emoji/red-heart.png\\');`+\n        `font-size: .7rem;bottom:-1px\"><b>❤️</b></i>`;\n    document.getElementById(\n        \"footer-text-blc\")\n        .innerHTML =\n        `Создал KovalYRS с ${heart}, специально для ZALUPA.ONLINE`;\n    if (grecaptcha) {\n        document.getElementById(\n            \"re-badge-text\")\n            .innerText =\n            \"This site uses Google ReCaptcha technology\";\n    }\n}\n\nconst observerSystemTheme = () => {\n    const mode_list = [\"dark\", \"light\"];\n    const theme_switch = document\n        .querySelector(\n            '[data-bs-toggle=\"mode\"]'\n        )\n        .querySelector(\n            \".form-check-input\");\n\n    const updateTheme = (mode) => {\n        if (mode === \"dark\") {\n            root.classList.add(\"dark-mode\");\n            theme_switch.checked = true;\n        } else {\n            root.classList\n                .remove(\n                    \"dark-mode\"\n                );\n            theme_switch.checked = false;\n        }\n    };\n\n    for (let i = 0; i < mode_list\n        .length; i++) {\n        const observer = window\n            .matchMedia(\n                `(prefers-color-scheme: ${mode_list[i]})`\n            );\n        observer.addEventListener(\n            \"change\", (e) => e\n                    .matches &&\n                updateTheme(\n                    mode_list[i]));\n    }\n}\n\nconst callSucessPayModal = (payment_id = 0) => {\n    let glob_func_payment_data;\n    const item_nm_payment_result = false;\n\n    const cart_dom = document\n        .getElementById(\n            \"donate-cart-list-success\"\n        );\n    const succ_text = document\n        .getElementById(\n            \"success-pay-text-js\");\n    const cont_ok = document\n        .getElementById(\n            \"only-ok-payment\");\n    const title = document\n        .querySelector(\n            \".modal-title\");\n\n    donateSwitchContainer(true);\n\n    const item_type_ = (product_name) => {\n        const t = (product_name).toLowerCase();\n\n        if (t.includes(\"токен\")) {\n            return 1;\n        } else {\n            return 2;\n        }\n    }\n\n    const update_pm_desc = () => {\n        const img_product =\n            glob_func_payment_data\n                .product.image;\n        const name_product =\n            glob_func_payment_data\n                .product.name;\n\n        if (img_product &&\n            img_product.length\n        ) {\n            document.querySelector(\n                    \".payment-sucess-vova\").src = img_product;\n            const\n                name_selector = document.querySelector(\n                            \".item-name-payment-result\");\n            if (item_nm_payment_result) {\n                name_selector.innerText = name_product;\n            } else {\n                name_selector.style.marginBottom = \"4vh\";\n            }\n        }\n    }\n\n    const buildPayment = (\n        payment) => {\n        if (payment.status &&\n            payment_id == parseInt(payment.id)) {\n            glob_func_payment_data = payment;\n            succ_text.innerText =\n                \"Оплата прошла успешно, Шеф доволен, спасибо тебе.\";\n            cont_ok.style.display = \"\";\n\n            const private_gift_button = document.createElement(\"button\");\n            private_gift_button.id = \"private_gift_button_modal\";\n            private_gift_button.setAttribute(\"class\", \"btn btn-primary shadow-primary btn-lg mb-2 btn-shadow-hide\");\n            private_gift_button.innerText = \"button::init\";\n\n            const item_type =\n                item_type_(payment.product.name);\n\n            let system_template = `\n                <li class=\"list-group-item d-flex justify-content-between lh-sm\">\n                    <div>\n                        <h6 class=\"my-0 text-start\">\n                            Система\n                        </h6>\n                    </div>\n                    <span>${payment.payment_system}</span>\n                </li>\n            `;\n\n            let sum_template = `\n                <li class=\"list-group-item d-flex justify-content-between\">\n                    <span>Сумма зачисления</span>\n                    <strong class=\"bottom-line-set bottom-line-set-zlp color-set-zlp\">${payment.enrolled} ${getNoun(payment.enrolled, \"рубль\", \"рубля\", \"рублей\")}</strong>\n                </li>\n            `;\n\n            if (\n                coins_sell_mode) {\n                if (item_type === 1) {\n                    sum_template = `\n                        <li class=\"list-group-item d-flex justify-content-between\">\n                            <span>Сумма</span>\n                            <strong class=\"bottom-line-set bottom-line-set-zlp color-set-zlp\">${payment.enrolled} ${getNoun(payment.enrolled, \"токен\", \"токена\", \"токенов\")}</strong>\n                        </li>\n                    `;\n                } else if (item_type === 2) {\n                    sum_template = `\n                        <li class=\"list-group-item d-flex justify-content-between\">\n                            <span>Сумма</span>\n                            <strong class=\"bottom-line-set bottom-line-set-zlp color-set-zlp\">${payment.product.price} ${getNoun(payment.enrolled, \"рубль\", \"рубля\", \"рублей\")}</strong>\n                        </li>\n                    `;\n                    document.querySelector(\"div.modal-footer\").prepend(private_gift_button);\n                }\n            }\n\n            if (!payment.enrolled || payment.enrolled < 1) {\n                sum_template =\n                    \"\";\n            }\n            if (!payment.email.length || payment.email.match(\"undefined\")) {\n                payment.email = \"Ну указано\";\n            }\n            if (!payment.payment_system ||\n                payment.payment_system.match(\"undefined\")) {\n                system_template = \"\";\n            }\n            if (!payment.created_at || !payment.created_at.length) {\n                payment.created_at = \"Неизвестно\";\n            } else {\n                const parsed_time = new Date(payment.created_at);\n                payment.created_at =\n                    `${parsed_time.toLocaleDateString()} ${parsed_time.toLocaleTimeString()}`;\n            }\n\n            let template_invite_link = \"\";\n            if (payment.private_invite) {\n                template_invite_link = `\n                    <li class=\"list-group-item d-flex justify-content-between lh-sm mb-2 mb-lg-3 mt-4 mt-lg-5\">\n                        <a href=\"${payment.private_invite}\" id=\"private-chat-button\" target=\"_blank\" style=\"margin:auto\"\n                                   class=\"btn btn-primary shadow-primary btn-lg btn-shadow-hide\">\n                                Приглашение в приватный чат <i class=\"ms-1 bx bxl-telegram\"></i></a>\n                    </li>\n                `;\n            }\n\n            cart_dom.innerHTML = `\n                <li class=\"list-group-item d-flex justify-content-between lh-sm\">\n                    <div>\n                        <h6 class=\"my-0 text-start\">\n                            Никнейм\n                        </h6>\n                    </div>\n                    <span>${payment.customer}</span>\n                </li>\n                <li class=\"list-group-item d-flex justify-content-between lh-sm\">\n                    <div>\n                        <h6 class=\"my-0 text-start\">\n                            Почта\n                        </h6>\n                    </div>\n                    <span>${payment.email}</span>\n                </li>\n                ${system_template}\n                <li class=\"list-group-item d-flex justify-content-between lh-sm\">\n                    <div>\n                        <h6 class=\"my-0 text-start\">\n                            Время\n                        </h6>\n                    </div>\n                    <span>${payment.created_at}</span>\n                </li>\n                ${sum_template}\n                ${template_invite_link}\n            `;\n        } else {\n            succ_text.innerText =\n                \"Чек неоплачен, Шеф недоволен.\";\n            document\n                .querySelector(\n                    \"img.payment-sucess-vova\"\n                )\n                .setAttribute(\n                    \"src\",\n                    \"assets/images/vova-fail.webp\"\n                );\n        }\n    };\n\n    const enable_modal = (\n        payment) => {\n        buildPayment(payment);\n        switch_modal_containers(\n            \"success\");\n        modal_open_();\n\n        // updaters\n        update_pm_desc();\n    };\n\n    checkPayment((payment) => {\n        if (typeof payment\n                .status !==\n            \"undefined\") {\n            enable_modal(\n                payment);\n            title\n                .innerText =\n                `Чек #${payment.id}`;\n        } else {\n            notify(\n                \"Ошибка, чек не найден или EasyDonate вернул недействительный ответ\"\n            );\n        }\n    }, payment_id);\n}\n\nconst successPay = () => {\n    const url = new URL(window\n        .location\n        .href)\n        .searchParams;\n    const payment_id = url.get(\n        \"pg_order_id\");\n\n    if (payment_id) {\n        callSucessPayModal(\n            payment_id);\n    }\n}\nconst displayPromotion = () => {\n    const selector = document.querySelector(\"div.promotion-header\");\n    const main = document.querySelector(\"main\");\n\n    requestCall((promotion) => {\n            if (promotion.active) {\n                const text = promotion.text;\n\n                selector.style.minHeight = \"40px\";\n                selector.style.height = \"100%\";\n                selector.setAttribute(\n                    \"onclick\",\n                    `clipboardFunc(\"input.promotionInput\", \"Промокод <span class=\\\\\"text-primary\\\\\" style=\\\\\"font-weight:800\\\\\">${promotion.var}</span> скопирован в буфер обмена.\")`\n                );\n                selector.innerHTML = `\n                <p class=\"text-center\" style=\"color:#fff!important;line-height:200%\">${text}</p>\n                <input class=\"promotionInput\" value=\"${promotion.var}\" style=\"display:none\">\n            `;\n\n                const s_text = document.querySelector(\"div.promotion-header>p\").style;\n                s_text.marginBottom = \"0\";\n                s_text.paddingRight = \"1.25rem\";\n                s_text.paddingLeft = \"1.25rem\";\n                s_text.paddingTop = \".18rem\";\n\n                // main.style.paddingTop = \"50px\";\n            }\n        },\n        \"assets/data/promotion.json\",\n        \"GET\", true\n    );\n}\nconst adaptiveDisplayLand = () => {\n    const updater = () => {\n        const header_height = document.querySelector(\"header\").offsetHeight;\n        // const d_h = header_height / 2;\n        const container = document.getElementById(\"head-container\");\n\n        const vova_pc_version = document.querySelector(\"div.vova-bg-landing\");\n        const vova_pc_version_mask = document.querySelector(\"div.vova-bg-landing-mask\");\n\n        if (first_init_head_adapt === 0 && first_init_head_adapt_vova === 0) {\n            first_init_head_adapt = container.offsetHeight;\n            first_init_head_adapt_vova = vova_pc_version.offsetHeight;\n        }\n\n        container.style.height = `${first_init_head_adapt - header_height}px`;\n        vova_pc_version.style.height = `${first_init_head_adapt_vova - header_height}px`;\n        vova_pc_version_mask.style.height = `${first_init_head_adapt_vova - header_height}px`;\n        container.style.marginTop = `${header_height}px`;\n    }\n\n    updater();\n    setInterval(updater, 250);\n}\nconst clipboardFunc = (field_selector, notify_text) => {\n    const copyText = document.querySelector(field_selector);\n\n    copyText.select();\n    copyText.setSelectionRange(0, 99999);\n\n    navigator.clipboard.writeText(copyText.value);\n\n    notify(notify_text)\n    return copyText.value;\n}\nconst spClownLoad = () => {\n    const buttons = document.getElementById(\"zlp_land_buttons\");\n    const button_template = `\n        <button onclick=\"spClownShow()\" \n                class=\"col btn btn-primary shadow-primary btn-lg me-sm-3 me-xl-4 mb-3 btn-shadow-hide\">\n            Я люблю СП\n        </button>\n    `;\n\n    getImageLightness(\"assets/images/Clown-Face.gif\", undefined, false);\n    buttons.innerHTML = buttons.innerHTML + button_template;\n}\n\nconst spClownShow = () => {\n    lock_sticker_switch = true;\n    setTimeout(function () {\n        lock_sticker_switch = false\n    }, 3500);\n\n    setSticker(0, 0, \"assets/images/emoji/clown-face.png\");\n    notify(\"На хуй отсюда иди тогда\");\n}\n\nconst donateContainerHash = () => {\n    observerContainerHash([\"donate\",\n            \"donate_block\"\n        ],\n        () => {\n            donate_displayed =\n                true;\n            donateSwitchContainer\n            (\n                donate_displayed\n            );\n        });\n}\n\nconst rulesModalOpen = () => {\n    let content = \"\";\n    get_rules_private_server((\n        rules) => {\n        for (let i = 0; i <\n        rules\n            .length; i++) {\n            content += `\n                    <li class=\"list-group-item d-flex justify-content-between lh-sm\">\n                        <div>\n                            <h6 class=\"my-0 text-start\">\n                                ${i + 1}\n                            </h6>\n                        </div>\n                        <span class=\"ps-2 pe-2 text-start\">${rules[i].text}</span>\n                    </li>\n                `;\n        }\n        switch_modal_containers\n        (\n            \"info\", {\n                title: \"Правила приватного сервера\",\n                content: `\n                <ul class=\"list-group mb-4 mb-lg-5\">\n                    ${content}\n                </ul>\n            `\n            });\n        modal_open_();\n    });\n}\n\nconst rulesPrivateContainerHash =\n    () => {\n        observerContainerHash([\n                \"private_rules\"\n            ],\n            () => {\n                rulesModalOpen();\n            });\n    }\n\nconst openAdminContact = () => {\n    checkTelegramAuthData((\n        data) => {\n        if (data || feedback_tg_auth_skip) {\n            if (!glob_players.length) {\n                glob_players = [\"Player\"];\n            }\n            shuffle(glob_players);\n            switch_modal_containers\n            (\"info\", {\n                title: \"Обратная связь\",\n                content: `\n                        <p class=\"mb-2 mb-lg-3 mb-xl-4 text-start\">\n                            Это форма для предложений и жалоб, опишите пожалуйста кратко и \n                            ясно свою идею или предложение без воды.\n                        </p>\n                        <div class=\"row mb-3\">\n                            <div id=\"customer-tokens-container\" class=\"col-md-6\">\n                                <label for=\"feedback_nickname_init\" class=\"form-label\">Никнейм</label>\n                                <input type=\"text\" class=\"form-control\" id=\"feedback_nickname_init\" placeholder=\"${glob_players[0]}\" value=\"\" required=\"\">\n                            </div>\n                            <div id=\"customer-tokens-container\" class=\"col-md-6\">\n                                <label for=\"feedback_reason_init\" class=\"form-label\">Причина</label>\n                                <select name=\"feedback_reason_init\" class=\"form-control\" id=\"feedback_reason_init\" value=\"game_question\" required=\"\">\n                                    <option value=\"tech_problem\">Технические проблемы</option>\n                                    <option value=\"game_question\">Вопрос по игре</option>\n                                    <option value=\"player_report\">Жалоба на игрока</option>\n                                    <option value=\"offer\">Предложение</option>\n                                </select>\n                            </div>\n                        </div>\n                        <div id=\"contant-input-container\">\n                            <label for=\"admin-message\">0/0</label>\n                            <textarea id=\"admin-message\" name=\"admin-message\" class=\"form-control\" maxlength=\"0\">\n                            </textarea>\n                        </div>\n                        <button onclick=\"sendFeedbackAction()\" class=\"w-100 btn btn-primary btn-lg btn-shadow-hide mt-3 mt-lg-4\" id=\"send-feedback-button\" type=\"button\">\n                            Отправить\n                        </button>\n                    `\n            });\n            const max_len =\n                3000;\n            const textarea =\n                document\n                    .getElementById(\n                        \"admin-message\"\n                    );\n            const label =\n                document\n                    .querySelector(\n                        'label[for=\"admin-message\"]'\n                    );\n            const space = \" \";\n            if (textarea.value.includes(space.repeat(3))) {\n                textarea.value = textarea.value.trim();\n            }\n            textarea.maxLength = max_len;\n            const update_len_counter =\n                    () => {\n                        label.innerText =\n                            `${textarea.value.length}/${max_len}`;\n                    }\n            update_len_counter();\n            addEventListener\n            (\n                \"keydown\",\n                (\n                    _\n                ) =>\n                    update_len_counter()\n            );\n            addEventListener\n            (\n                \"keyup\",\n                (\n                    _\n                ) =>\n                    update_len_counter()\n            );\n            modal_open_(\n                onclick_lock =\n                    true);\n        } else {\n            console.log(\n                \"Error check Telegram auth\"\n            );\n            openTelegramAuthModal();\n            notify(\n                \"Вам необходимо авторизоватся для этой функции\"\n            );\n        }\n    });\n}\nconst adminsContactContainerHash =\n    () => {\n        observerContainerHash([\n            \"contact\",\n            \"support\", \"bug\",\n            \"report\"\n        ], () => {\n            openAdminContact();\n        });\n    }\n\nconst observerContainerHash = (\n    hash_array, action) => {\n    const updater = () => {\n        if (hash_array.includes(\n            linkHash())) {\n            action();\n        }\n    };\n\n    updater();\n    addEventListener(\n        'hashchange', (_) =>\n            updater());\n}\n\nconst openTelegramAuthModal = (skip_check = false) => {\n    checkTelegramAuthData(function (tg_success) {\n        if (!tg_success) {\n            console.log(\n                \"Telegram auth preparing...\"\n            );\n            // modal_close_();\n            const script_telegram_widget =\n                document.createElement(\n                    'script');\n\n            script_telegram_widget.src =\n                \"https://telegram.org/js/telegram-widget.js?21\";\n            script_telegram_widget\n                .setAttribute(\n                    \"async\", \"\");\n            script_telegram_widget\n                .setAttribute(\n                    \"data-telegram-login\",\n                    telegram_bot_username);\n            script_telegram_widget\n                .setAttribute(\n                    \"data-size\", \"large\");\n            script_telegram_widget\n                .setAttribute(\n                    \"data-radius\", \"8\");\n            script_telegram_widget\n                .setAttribute(\n                    \"data-onauth\",\n                    \"onTelegramAuth(user)\");\n            script_telegram_widget\n                .setAttribute(\"data-request-access\", \"write\");\n\n            script_telegram_widget.onload =\n                () => {\n                    switch_modal_containers(\n                        \"info\", {\n                            title: \"\",\n                            content: \"\"\n                        });\n                    modal_open_();\n                }\n\n            const content = document\n                .getElementById(\n                    \"info-content-modal\");\n            const container = document\n                .createElement(\"div\");\n            const text = document\n                .createElement(\n                    \"p\");\n\n            content.innerHTML = \"\";\n            content.appendChild(container);\n            content.appendChild(text);\n            text.innerHTML = `\n                Для некоторых функций на этом сайте необходимо авторизироваться. \n                Мы не получим никаких конфиденциальных данных о вас, например, \n                ваш номер или локацию, это нужно только для того, чтобы Telegram \n                подтвердил, что вы являетесь владельцем своего аккаунта. Также \n                не забудьте связать свой аккаунт Telegram с игровым аккаунтом \n                в <a href=\"${telegram_social_bot}\" target=\"_blank\" class=\"text-primary\">нашем боте</a>.\n            `;\n\n            text.setAttribute(\"class\",\n                \"text-start px-3 pt-1 pt-lg-2\"\n            );\n            container.id =\n                \"telegram-auth-container\";\n            container.appendChild(\n                script_telegram_widget);\n        }\n    }, skip_check);\n}\n\nconst openLoginHint = () => {\n    if (!allow_display_login_hint) {\n        return;\n    }\n\n    const content = document\n        .getElementById(\n            \"info-content-modal\");\n    const container = document\n        .createElement(\"div\");\n    const text = document\n        .createElement(\n            \"p\");\n\n    content.innerHTML = \"\";\n    content.appendChild(container);\n    content.appendChild(text);\n    text.innerHTML = `\n                Похоже что ты не прочитал текст в первом окне авторизации,\n                повторим процедуру. Чтобы завершить авторизацию на сайте - тебе нужно \n                связать свой Telegram с своим игровым аккаунтом в&nbsp;\n                <a href=\"${telegram_social_bot}\" target=\"_blank\" class=\"text-primary\">нашем боте</a>.\n            `;\n\n    text.setAttribute(\"class\",\n        \"text-start px-3 pt-1 pt-lg-2\"\n    );\n    container.id =\n        \"telegram-auth-hint\";\n\n    notify(\n        \"Прочитай внимательно инструкцию!\"\n    );\n\n    switch_modal_containers(\n        \"info\", {\n            title: \"Помощь авторизации\",\n            content: \"\"\n        });\n    modal_open_();\n}\n\nconst initJarallax = () => {\n    jarallax(document\n        .querySelectorAll(\n            '.jarallax'), {\n        speed: .15,\n        type: \"scale-opacity\"\n    });\n}\n\nconst initTooltip = () => {\n    const tooltipTriggerList = []\n        .slice\n        .call(document\n            .querySelectorAll(\n                '[data-bs-toggle=\"tooltip\"]'\n            ));\n    const tooltipList =\n        tooltipTriggerList\n            .map((\n                tooltipTriggerEl\n            ) => {\n                tooltip_instance =\n                    new bootstrap\n                        .Tooltip(\n                            tooltipTriggerEl, {\n                                template: `\n                                <div class=\"tooltip\" role=\"tooltip\">\n                                    <div class=\"tooltip-inner\"></div>\n                                </div>\n                            `,\n                            });\n            });\n\n    if (tooltip_instance) {\n        setInterval(() => {\n            tooltip_instance\n                .update();\n        }, 1200);\n    }\n}\n\nconst initSmoothScrollObserver = () => {\n    const scrollerObject =\n        new SmoothScroll(\"section\");\n\n    const callScroller = () => {\n        const identifier =\n            linkHash()\n                .toLowerCase();\n\n        if (!(identifier &&\n            identifier\n                .length\n        ) || ([\n            \"private_rules\"\n        ].includes(identifier))) {\n            return;\n        }\n\n        try {\n            scrollerObject.animateScroll(\n                document.querySelector(`section[id=\"${identifier}\"]`\n                ), null, {offset: 50});\n        } catch (_) {\n            return;\n        }\n    }\n\n    callScroller();\n    window.onhashchange =\n        callScroller;\n}\n\nconst privateServerModuleInit = () => {\n    const desc = document.getElementById(\"private-server-hub-description\");\n\n    desc.innerHTML = `\n        Проект Zalupa.Online за период своего существования от единого сервера\n        Анархии перерос в проект с несколькими режимами, один из таких – приватный\n        сервер с ванильным выживанием. Особенность этого сервера, что туда попадают\n        только те, кто поддержал сервер финансово. Также единственный режим, где вы\n        можете быть на уровне с администрацией, ведь здесь можно играть только с\n        правами обычного игрока, никаких привилегий. Также не забудь\n        <a class=\"text-gradient-primary\" href=\"https://www.notion.so/zaluparules/zalupa-online-1e6269506d084d6ba9549cbb7d40e3a4\">\n            прочитать правила</a>.\n    `;\n}\n\nconst tonyComeBack = () => {\n    const selector = document.getElementById(\"AppleTony_comeback_days\");\n\n    const update_days = (days_count) => {\n        selector.innerText = `${days_count} ${getNoun(\n            days_count, \"день\", \"дня\", \"дней\"\n        )}`;\n    }\n\n    const date1 = new Date();\n    const date2 = new Date(\"11/30/2023\");\n\n    const differenceInTime = date2.getTime() - date1.getTime();\n    const differenceInDays = parseInt(differenceInTime / (1000 * 3600 * 24));\n\n    update_days(differenceInDays);\n    setInterval(function () {\n        update_days(differenceInDays)\n    }, 9999);\n}\n\nconst autoAuthTelegramObserver = () => {\n    if (telegram_auth_enabled) {\n        document.getElementById(\"telegram-auth-avatar\")\n            .style.display = \"\";\n    }\n    checkTelegramAuthData((\n        success) => {\n        console.debug(\n            `Telegram auth check status : ${success}`\n        );\n        if (success) {\n            const\n                button_contact_land =\n                    document\n                        .getElementById(\n                            \"contact-button-land\"\n                        );\n            const\n                button_auth =\n                    document\n                        .querySelector(\n                            \".avatar-container\"\n                        );\n            const\n                telegram_auth_avatar =\n                    document\n                        .getElementById(\n                            \"telegram-auth-avatar\"\n                        );\n\n            button_auth\n                .removeAttribute(\n                    \"onclick\"\n                );\n            if (feedback_module_enabled) {\n                button_contact_land\n                    .style\n                    .display =\n                    \"\";\n            }\n            telegram_auth_avatar\n                .style\n                .display =\n                \"\";\n            setAvatar(getTelegramAuth());\n        }\n    });\n    setInterval(displayTokens, 1200);\n}\n\nconst initCore = () => {\n    initHost();\n    initCrypto();\n    initLanding();\n    observerSystemTheme();\n    buildPlayersSwiper();\n    buildDonateHistorySwiper();\n    appendPostsNews();\n    initComments();\n    appendServices();\n    updateCartCount();\n    gameServerUpdater();\n    initDonate();\n    initEventsList();\n    initJarallax();\n    finishLoad();\n    successPay();\n    ytVideoSetter();\n    setRandomStickerLand();\n\n    donateContainerHash();\n    rulesPrivateContainerHash();\n    adminsContactContainerHash();\n\n    privateServerModuleInit();\n\n    autoAuthTelegramObserver();\n\n    tonyComeBack();\n    displayPromotion();\n    adaptiveDisplayLand();\n\n    setLauncherLinks();\n    donate_bg_preload();\n\n    check_modal_();\n\n    const elem = document\n        .getElementById(\n            \"dark-perm-set-bv\");\n    elem.parentNode.removeChild(\n        elem);\n\n    window.onload = () => {\n        if (!debug_lock_init) {\n            const preloader =\n                document\n                    .querySelector(\n                        \".page-loading\"\n                    );\n            const wait = 1500;\n            const move_wait =\n                100;\n            setTimeout(\n                () => {\n                    preloader\n                        .classList\n                        .remove(\n                            \"active\"\n                        );\n                    if (!\n                        donate_displayed\n                    ) {\n                        document\n                            .body\n                            .style\n                            .overflowY =\n                            \"\";\n                    }\n                    window\n                        .scrollTo({\n                            top: 0,\n                        });\n                }, wait);\n            setTimeout(\n                () => {\n                    preloader\n                        .remove();\n\n                    // after tasks\n                    initTooltip\n                    ();\n                    initSmoothScrollObserver\n                    ();\n                }, wait +\n                move_wait);\n            setInterval(() => {\n                checkTelegramAuthData(function (_) {}, false, false, true);\n            }, 12*1000);\n        }\n    };\n};\n\nscript_core.onload = () => {\n    initCore();\n};"],"mappings":"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"}