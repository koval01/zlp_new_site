{"version":3,"file":"core.js","mappings":"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","names":["s","n","done","value","e","f","didErr","err","it","normalCompletion","site_domains","prod","domain_site","dev","development_hosts","test","cart_cookie","channels","links_lt","name","link","launcher_platforms","mac","linux","windows","lock_of","coins_sell_mode","donate_services_array","notify_hidden","glob_players","glob_events_status","timer_notify","swiper_comments","payment_url_global","checked_coupon","failed_coupon","crypto_token","tooltip_instance","events_page_state","donate_displayed","modal_displayed","freeze_crypto","freeze_monitoring","lock_sticker_switch","gameServerUpdater_setter","work_domain_v","products_by_serverid","glob_auth_player_data","current_c_item","current_c_item_name","telegram_cookie_token","first_init_head_adapt","first_init_head_adapt_vova","client_ip","telegram_glob_session","auth_data","response","telegram_social_bot","debug_lock_init","telegram_auth_enabled","feedback_module_enabled","feedback_tg_auth_skip","tokens_system_enabled","initHost","keys","Object","i","length","window","location","hostname","linkHash","hash","substring","prepare_img_link","img_link","replace","replaceAll","time_correction","date","userTimezoneOffset","getTimezoneOffset","Date","getTime","time_in_moscow_get","toLocaleString","timeZone","getOffset","timezone","timeZoneName","match","console","error","formatDate","now","diff","sec","Math","floor","getNoun","min","hour","d","getDate","getMonth","getFullYear","getHours","getMinutes","map","component","slice","join","utf8_to_b64","str","btoa","unescape","encodeURIComponent","b64_to_utf8","decodeURIComponent","escape","atob","randDiaps","max","random","getPlatform","navigator","platform","indexOf","downloadLauncher","debug","generateRandomHex","size","_toConsumableArray","Array","toString","getAvatarColorIDforTG","user_id","result","base","parseInt","getHash","substr","split","reduce","item","parts","re_check","callback","grecaptcha","ready","execute","re_token","action","then","token_update","shuffle","array","currentIndex","randomIndex","alternateSort","list","minIndex","minVal","j","temp","getImageLightness","imageSrc","calculate","img","document","createElement","src","crossOrigin","style","display","body","appendChild","colorSum","onload","canvas","width","_this","height","ctx","getContext","drawImage","imageData","getImageData","_","data","r","g","b","avg","x","len","brightness","remove","is_apple_platform","validateEmail","email","String","toLowerCase","url_builder_","base_url","submit_data_","url","URL","searchParams","set","href","countProperties","obj","number","one","two","five","abs","getCrypto","requestCall","success","token","backend_host","get_events_","events","get_yt_video_","video_id","skip","get_news_","source","messages","get_rules_private_server","appendPostsNews","createSwiper","Swiper","spaceBetween","loop","observer","observeParents","preventClicks","preventClicksPropagation","autoplay","delay","pagination","el","clickable","navigation","prevEl","nextEl","text_modify_enable","add_news_in_array","posts","adaptive_news_text","array_","getElementById","reverse","text","datetime","datetime_utc","cover","innerHTML","toLocaleDateString","toLocaleTimeString","minute","selector_bg","backgroundImage","selector_text","classList","add","text_len","innerText","text_split","font_size","fix_float_fs","float","correction_float","correction_font","max_val","fontSize","parseFloat","padding","calculate_text_position","identifier_sl","switch_val","getComputedStyle","getPropertyValue","maxHeight","position","textAlign","alignItems","paddingBottom","paddingRight","addEventListener","event","setInterval","style_","toFixed","background","_loop","loading_done","setTimeout","sl","container_news","parentNode","removeChild","closeButtonDonateAdaptive","minHeight","donateSwitchContainer","container","querySelector","style_sticker","style_main","opacity","update_zIndex","variable","zIndex","button","setAttribute","notify","checkTelegramAuthData","tg_success","removeAttribute","overflowY","scrollTo","top","behavior","paddingTop","openTelegramAuthModal","get_game_server_data","_data_error","ok","string_","initCrypto","monitoring_game_server_update","online","clearInterval","selector","gameServerUpdater","initEventsList","row_container","loader_","switch_button_","row_class","events_block_load","sort","a","keyA","date_start","keyB","st_date","end_date","date_end","time_in_moscow","badge","template_","title","get_donate_services","services","create_payment","customer","products","server_id","coupon","payment","success_url","tg_auth_data","getTelegramAuth","generateGiftLink","payment_id","check_coupon","code","testImage","tester","Image","reInitTelegramAuth","loadPlayerAvatar","avatar","avatar_selector","avatar_style","raw_link","raw","openLoginHint","player_data","player","skin","SKIN","getIPClient","ip","checkFeedbackStatus","sendFeedback","sendFeedbackAction","textarea","button_lock","lock","check_data","send_data","checkPayment","tokens_send","getPaymentHistory","getPlayersSkins","players","enabled","skins","appendServices","size_classes","get_product_type","type","includes","donate_check_services_cart","click_data","price","count","description","service_id","id","push","_name","padding_desc","desc_template","item_butt_template","click_template","JSON","stringify","button_title","description_other","image","checkPrivateServerBuy","elem","ids","log","switchEventsPages","button_name","news_page","events_page","news_button","events_button","redirect_","ytVideoSetter","only_iframe","load_iframe","params","set_video","video","x720","muted","controls","from","getElementsByClassName","getAttribute","marginBottom","modal_close_","getElementsByTagName","modal","modal_open_","onclick_lock","onclick","target","switch_modal_containers","mode","info_params","span","info","service","service_coins","finish_donate","_array","_mode","content","discount_calculate","discount","get_cookie_cart","cookie_cart","parse","Cookies","get","updateCartCount","groupAlreadyInCart","user_cart","cart","displayTokens","v2","balance","base_selector","balance_value","balance_number","card_holder","balance_value_card","select_card_skin","path","comment_show_action","close","comment_text","comment_show","on","checkFunction","stop_key","_step","PRIVATE_SERVER","selector_button","_iterator","initComments","playersGet","searchPlayer","comment","desc","fontWeight","transition","correction_height","clientHeight","overflow","buildPlayersSwiper","slidesPerView","breakpoints","badges_get","badges_paste","players_array","_step2","player_in","_iterator2","getBadges","badges","badge_local","getClan","player_badges_","player_clan","head","_loop2","buildDonateHistorySwiper","updateDonateTime","selectors","querySelectorAll","select","time_","updated_at","product","setSticker","stickers_count","custom_path","setRandomStickerLand","undefined","pageYOffset","updateStickerPosition","innerWidth","left","donate_element_click","product_data","exclude_types","text_template","items_count_donate","count_hint","add_to_cart","switch_","_update_count","product_in_cart","hasOwnProperty","group_error","count_state","only_dig","_calculate_price","_price","currenct_in_cart","template_counter_i","isNaN","sign","donate_get_service_by_id","donateResetPaymentState","repeat","coupon_reset","coupon_sl","inputs","vl","trim","update_inputs","donate_cart","cart_parsed","product_count_in_cart","max_item_count","local_prm","p","Number","isInteger","els_","initDonate","donate_cart_button","els","selector_","marginTop","_loop3","donateFlushCart","setAvatar","user","photoTG","photo_url","avatarSelector","first_name","last_name","toUpperCase","checkAuthAndDisplayDonate","NICKNAME","onTelegramAuth","autoAuthTelegramObserver","debugWriteTelegramAuth","cookie_field","couponCheck","coins","selector_c","input","coupon_notfd","check_coupon_valid","input_lock","call","donateCartCall","donate_enable_coupon","get_data_service","generatePaymentLink","sum","max_sum","_d_service","callback_data","payment_action_bt","open","cart_dom","succ_text","cont_ok","build_modal_wind","flush_inputs_donate","enable_modal","services_cookie","services_origin","nickname_update","cart_keys","selectors_payment","sum_price","coupon_container","sum_container","donateCoinsPay","donateModalCall","type_item","item_id","customer_field","email_container_classL","modal_payment_text","payment_text_form","item_name","update_title","descriptor","desc_get","randomNick","fldSelect","linksSet","fisrt_el_mrg","mrg","token_","initLanding","finishLoad","heart","buildSignCN","observerSystemTheme","mode_list","theme_switch","updateTheme","root","checked","matchMedia","matches","_loop4","callSucessPayModal","glob_func_payment_data","item_nm_payment_result","item_type_","product_name","t","update_pm_desc","img_product","name_product","name_selector","buildPayment","status","private_gift_button","item_type","system_template","payment_system","sum_template","enrolled","prepend","created_at","parsed_time","template_invite_link","private_invite","successPay","displayPromotion","main","promotion","active","s_text","paddingLeft","adaptiveDisplayLand","updater","header_height","offsetHeight","vova_pc_version","vova_pc_version_mask","clipboardFunc","field_selector","notify_text","copyText","setSelectionRange","clipboard","writeText","spClownLoad","buttons","button_template","spClownShow","donateContainerHash","observerContainerHash","rulesModalOpen","rules","rulesPrivateContainerHash","openAdminContact","max_len","label","space","maxLength","update_len_counter","initSOptimizeGA","dataLayer","gtag","arguments","adminsContactContainerHash","hash_array","skip_check","script_telegram_widget","telegram_bot_username","initJarallax","jarallax","speed","initTooltip","tooltipTriggerList","tooltipList","tooltipTriggerEl","bootstrap","Tooltip","template","update","initSmoothScrollObserver","scrollerObject","SmoothScroll","callScroller","identifier","animateScroll","offset","onhashchange","privateServerModuleInit","tonyComeBack","update_days","days_count","date1","date2","differenceInTime","differenceInDays","button_contact_land","button_auth","telegram_auth_avatar","initCore","preloader","wait","move_wait","script_core"],"sources":["../assets/js/core.js"],"sourcesContent":["/**\n * @suppress {uselessCode}\n */\n\n\"use strict\";\nconst site_domains = {\n    prod: domain_site,\n    dev: development_hosts[0],\n    test: development_hosts[1],\n};\nconst cart_cookie = \"cart_box\";\nconst channels = 2;\nconst links_lt = [{\n    name: \"twitch\",\n    link: \"https://www.twitch.tv/bratishkinoff\",\n},\n    {\n        name: \"youtube\",\n        link: \"https://www.youtube.com/channel/UC_-kIftWIXsTrVXZy0lJdXQ\",\n    },\n    {\n        name: \"telegram\",\n        link: \"https://t.me/zalupaonline\",\n    },\n    {\n        name: \"discord\",\n        link: \"https://discord.gg/qEqbVbMeEx\",\n    },\n    {\n        name: \"tiktok\",\n        link: \"https://www.tiktok.com/@nebratishkin\"\n    }\n];\nconst launcher_platforms = {\n    mac: \"https://github.com/Zalupa-Online/launcher-releases/releases/download/1.0.5/ZalupaLauncher_1.0.5_x64.dmg\",\n    linux: \"https://github.com/Zalupa-Online/launcher-releases/releases/download/1.0.5/zalupa-launcher_1.0.5_amd64.deb\",\n    windows: \"https://github.com/Zalupa-Online/launcher-releases/releases/download/1.0.5/ZalupaLauncher_1.0.5_x64_en-US.msi\"\n}\nconst lock_of = true;\nconst coins_sell_mode = true;\nvar donate_services_array = [];\nvar notify_hidden = true;\nvar glob_players = [];\nvar glob_events_status = false;\nvar timer_notify;\nvar swiper_comments;\nvar payment_url_global;\nvar checked_coupon = \"\";\nvar failed_coupon = \"\";\nvar crypto_token = \"\";\nvar tooltip_instance;\nvar events_page_state = \"news\";\nvar donate_displayed = false;\nvar modal_displayed = false;\nvar freeze_crypto = false;\nvar freeze_monitoring = false;\nvar lock_sticker_switch = false;\nvar gameServerUpdater_setter;\nvar work_domain_v = \"zalupa.online\";\nvar products_by_serverid = [];\nvar glob_auth_player_data = [];\nvar current_c_item = 0;\nvar current_c_item_name = \"\";\nvar telegram_cookie_token = \"telegram_auth\";\nvar first_init_head_adapt = 0;\nvar first_init_head_adapt_vova = 0;\nvar client_ip = \"\";\nvar telegram_glob_session = {\n    auth_data: null, response: null\n};\nconst telegram_social_bot = \"https://t.me/ZalupaScBot\";\nconst debug_lock_init = false;\nconst telegram_auth_enabled = true;\nconst feedback_module_enabled = false;\nconst feedback_tg_auth_skip = true;\nconst tokens_system_enabled = false;\nconst initHost = () => {\n    const keys = Object.keys(site_domains);\n    for (let i = 0; i < keys.length; i++) {\n        if (site_domains[keys[i]] === window.location.hostname) {\n            work_domain_v = site_domains[keys[i]];\n        }\n    }\n}\nconst linkHash = () => {\n    return window.location.hash.substring(1);\n}\nconst prepare_img_link = (img_link) => {\n    return img_link.replace(\"https://\", \"//\").replaceAll(/\\//g, \"\\\\/\");\n}\nconst time_correction = (date) => {\n    const userTimezoneOffset = -date.getTimezoneOffset() * 60000;\n    return new Date(date.getTime() - userTimezoneOffset);\n}\nconst time_in_moscow_get = (date = null) => {\n    if (!date) {\n        date = new Date();\n    }\n    return new Date(date.toLocaleString(\"en-US\", {\n        timeZone: \"Europe/Moscow\",\n    }));\n}\nconst getOffset = (date, timezone) => {\n    try {\n        -new Date(date).toLocaleString([], {\n            timeZone: timezone,\n            timeZoneName: 'shortOffset'\n        }).match(/(?:GMT|UTC).+/)[0] * 60;\n    } catch (e) {\n        console.error(`getOffset : ${e}`);\n        return 0;\n    }\n}\nconst formatDate = (date, now = null) => {\n    let diff = new Date() - date;\n    if (now) {\n        diff = now - date;\n    }\n\n    if (diff < 1000) {\n        return 'прямо сейчас';\n    }\n\n    let sec = Math.floor(diff / 1000);\n\n    if (sec < 60) {\n        return sec + ` ${getNoun(sec, \"секунду\", \"секунды\", \"секунд\")} назад`;\n    }\n\n    let min = Math.floor(diff / (1000 * 60));\n    if (min < 60) {\n        return min + ` ${getNoun(min, \"минуту\", \"минуты\", \"минут\")} назад`;\n    }\n\n    let hour = Math.floor(diff / (1000 * 60 * 60));\n    if (hour < 24) {\n        return hour + ` ${getNoun(hour, \"час\", \"часа\", \"часов\")} назад`;\n    }\n\n    let d = date;\n    d = [\n        '0' + d.getDate(),\n        '0' + (d.getMonth() + 1),\n        '' + d.getFullYear(),\n        '0' + d.getHours(),\n        '0' + d.getMinutes()\n    ].map(component => component.slice(-2));\n\n    return d.slice(0, 3).join('.') + ' ' + d.slice(3).join(':');\n}\nconst utf8_to_b64 = (str) => {\n    return window.btoa(unescape(encodeURIComponent(str)));\n}\nconst b64_to_utf8 = (str) => {\n    return decodeURIComponent(escape(window.atob(str)));\n}\nconst randDiaps = (max = 10) => {\n    return Math.floor(Math.random() * max) + 1;\n}\nconst getPlatform = () => {\n    if (navigator.platform.indexOf(\"Mac\") === 0 || navigator.platform === \"iPhone\") {\n        return \"mac\";\n    }\n    if (navigator.platform.indexOf(\"Linux\") === 0) {\n        return \"linux\";\n    }\n    return \"windows\";\n}\nconst downloadLauncher = () => {\n    const link = launcher_platforms[getPlatform()];\n    window.location = link;\n    console.debug(`Init downloading file from url : ${link}`);\n}\nconst generateRandomHex = size => [...Array(size)].map(() => Math.floor(Math.random() * 16).toString(16)).join('')\nconst getAvatarColorIDforTG = (user_id) => {\n    var result = 0;\n    var base = 1;\n    while (user_id > 0) {\n        result += (user_id % 7) * base;\n        base *= 10;\n        user_id = Math.floor(user_id / 7);\n    }\n    return parseInt(result.toString().slice(-1));\n}\nconst getHash = (link) => {\n    const hash = window.location.hash.substr(1);\n    return Object.keys(hash.split(\"&\").reduce((result, item) => {\n        const parts = item.split(\"=\");\n        result[parts[0]] = parts[1];\n        return result;\n    }, {}))[0];\n}\nconst re_check = (callback) => {\n    grecaptcha.ready(() => {\n        grecaptcha.execute(re_token, {\n            action: \"submit\",\n        }).then((token_update) => {\n            callback(token_update);\n        });\n    });\n}\nconst shuffle = (array) => {\n    let currentIndex = array.length,\n        randomIndex;\n    while (currentIndex !== 0) {\n        randomIndex = Math.floor(Math.random() * currentIndex);\n        currentIndex--;\n        [array[currentIndex], array[randomIndex]] = [array[randomIndex], array[currentIndex],];\n    }\n    return array;\n}\nconst alternateSort = (list) => {\n    let minIndex = 0;\n    let minVal = 0;\n    for (let i = 0; i < list.length; i++) {\n        minIndex = i;\n        minVal = list[i];\n        for (let j = i + 1; j < list.length; j++) {\n            if (list[j] < minVal) {\n                minVal = list[j];\n                minIndex = j;\n            }\n        }\n        if (minVal < list[i]) {\n            const temp = list[i];\n            list[i] = list[minIndex];\n            list[minIndex] = temp;\n        }\n    }\n}\nconst getImageLightness = (imageSrc, callback, calculate = true) => {\n    const img = document.createElement(\"img\");\n    img.src = imageSrc;\n    img.crossOrigin = \"Anonymous\";\n    img.style.display = \"none\";\n    document.body.appendChild(img);\n    let colorSum = 0;\n    if (calculate) {\n        img.onload = () => {\n            const canvas = document.createElement(\"canvas\");\n            canvas.width = this.width;\n            canvas.height = this.height;\n            const ctx = canvas.getContext(\"2d\");\n            try {\n                ctx.drawImage(this, 0, 0);\n                const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n            } catch (_) {\n                callback(null);\n                return;\n            }\n            const data = imageData.data;\n            let r, g, b, avg;\n            for (let x = 0, len = data.length; x < len; x += 4) {\n                r = data[x];\n                g = data[x + 1];\n                b = data[x + 2];\n                avg = Math.floor((r + g + b) / 3);\n                colorSum += avg;\n            }\n            const brightness = Math.floor(colorSum / (this.width * this.height));\n            callback(brightness);\n            img.remove();\n        };\n    }\n}\nconst is_apple_platform = () => {\n    const mac = /(Mac|iPhone|iPod|iPad)/i.test(navigator.platform);\n    if (mac) {\n        return true;\n    }\n}\nconst validateEmail = (email) => {\n    return String(email).toLowerCase().match(/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/);\n}\nconst url_builder_ = (base_url, submit_data_) => {\n    const url = new URL(base_url);\n    for (let i = 0; i < submit_data_.length; i++) {\n        url.searchParams.set(submit_data_[i].name, submit_data_[i].value);\n    }\n    return url.href;\n}\nconst countProperties = (obj) => {\n    return Object.keys(obj).length;\n}\nconst getNoun = (number, one = \"игрок\", two = \"игрока\", five = \"игроков\") => {\n    let n = Math.abs(number);\n    n %= 100;\n    if (n >= 5 && n <= 20) {\n        return five\n    }\n    n %= 10;\n    if (n === 1) {\n        return one\n    }\n    if (n >= 2 && n <= 4) {\n        return two\n    }\n    return five;\n}\nconst getCrypto = (callback) => {\n    re_check((token_update) => {\n        requestCall((r) => {\n            if (r.success) {\n                callback(r.token);\n            } else {\n                callback(\"\");\n            }\n        }, `${backend_host}/crypto`, \"POST\", true, {\n            token: token_update,\n        });\n    });\n}\nconst get_events_ = (callback) => {\n    re_check((token_update) => {\n        requestCall((r) => {\n            callback(r.events);\n        }, `${backend_host}/events`, \"POST\", true, {\n            token: token_update,\n        });\n    });\n}\nconst get_yt_video_ = (callback, video_id, skip = false) => {\n    if (!skip) {\n        re_check((token_update) => {\n            requestCall(\n                (r) => {\n                    callback(r.body);\n                }, `${backend_host}/youtube_get`, \"POST\", true, {\n                    token: token_update,\n                    video_id: video_id,\n                });\n        });\n    } else {\n        callback(null);\n    }\n}\nconst get_news_ = (callback, source) => {\n    re_check((token_update) => {\n        requestCall((r) => {\n            callback(r.messages);\n        }, `${backend_host}/channel_parse?choice=${source}`, \"POST\", true, {\n            token: token_update,\n        });\n    });\n}\nconst get_rules_private_server = (callback) => {\n    requestCall((r) => {\n        callback(r);\n    }, \"assets/data/private_server_rules.json\", \"GET\", true);\n}\nconst appendPostsNews = () => {\n    const createSwiper = () => {\n        new Swiper(\"#news_swipe_container\", {\n            spaceBetween: 12,\n            loop: true,\n            observer: true,\n            observeParents: true,\n            preventClicks: false,\n            preventClicksPropagation: false,\n            autoplay: {\n                delay: 1000 * 10,\n            },\n            pagination: {\n                el: \"#news_swiper_pagination\",\n                clickable: true,\n            },\n            navigation: {\n                prevEl: \"#prev_news\",\n                nextEl: \"#next_news\",\n            },\n        });\n    };\n    const text_modify_enable = true;\n    const add_news_in_array = (posts) => {\n        const adaptive_news_text = true;\n        const array_ = document.getElementById(\"news_swipe_array\");\n        posts = posts.reverse();\n        for (let i = 0; i < posts.length; i++) {\n            const text = posts[i].text;\n            const datetime = new Date(posts[i].datetime_utc);\n            if (!posts[i].cover) {\n                posts[i].cover = \"assets/images/spawn.webp\";\n            }\n            array_.innerHTML = array_.innerHTML + `\n                <div class=\"swiper-slide h-auto px-2\">\n                    <figure class=\"card h-100 position-relative border-0 news-figure\" id=\"news_figure_${i}\">\n                        <div class=\"background-news\" id=\"background-news-${i}\">\n                            <div class=\"background-news-overlay\" id=\"news-overlay-${i}\">\n                                <div class=\"background-news-overlay-dark-mode\">\n                                    <div \n                                    style=\"z-index:6;top:35.1%;height:65%\"\n                                    class=\"shadow-vertical-overlay shadow-vertical-overlay-news vertical-bottom-shadow\"\n                                    ></div>\n                                    <blockquote class=\"card-body mt-2 mb-3 news-text-container\">\n                                        <p class=\"fs-md mb-0 news-text h6\" id=\"news_text_${i}\" style=\"font-family:sans-serif\">\n                                                ${text}</p>\n                                        <div class=\"news-bottom-container\" style=\"z-index:8\">\n                                            <a class=\"btn btn-primary shadow-primary btn-lg news-button-view\"\n                                               href=\"${posts[i].link}\" target=\"_blank\">\n                                                    Подробнее</a>\n                                        </div>\n                                    </blockquote>\n                                </div>\n                            </div> \n                        </div>\n                    </figure>\n                    <span class=\"news-date-text\">\n                        ${datetime.toLocaleDateString()} \n                        ${datetime.toLocaleTimeString(\"ru-RU\", {\n                hour: \"2-digit\", minute: \"2-digit\",\n            })}\n                    </span>\n                </div>\n            `;\n            const selector_bg = document.getElementById(`background-news-${i}`);\n            selector_bg.style.backgroundImage = `url(${posts[i].cover})`;\n            if (text_modify_enable) {\n                const selector_text = document.getElementById(`news_text_${i}`);\n                selector_text.style.width = \"100%\";\n                selector_text.classList.add(\"text-light\");\n                const text_len = selector_text.innerText.length;\n                const text_split = selector_text.innerText.split(\" \");\n                const font_size = ((text_len - -8) * .4) / 100;\n                const fix_float_fs = (float, font_size, correction_float = .32, correction_font = .26, max_val = .9) => {\n                    float = float < correction_float ? correction_float * (font_size / correction_font) : float\n                    return max_val ? (float < max_val ? float : max_val) : float\n                }\n                selector_text.style.fontSize = `calc(${\n                    fix_float_fs(parseFloat(1.8 - font_size), font_size)\n                }vw + ${\n                    fix_float_fs(parseFloat(1.8 - font_size), font_size)\n                }vh + ${\n                    fix_float_fs(parseFloat(1.9 - font_size), font_size)\n                }vmin)`;\n                selector_text.style.padding = `${\n                    fix_float_fs(parseFloat(\n                        1.3 - font_size\n                    ), font_size, .22, 1.05)\n                }rem`;\n                const calculate_text_position = () => {\n                    if (!adaptive_news_text) {\n                        return;\n                    }\n                    // local init var\n                    const identifier_sl = `news_text_${i}`;\n                    const switch_val = 12;\n                    const selector_text = document.getElementById(identifier_sl);\n                    const font_size = parseFloat(window.getComputedStyle(selector_text, null).getPropertyValue('font-size').replace(\"px\", \"\"));\n                    selector_text.style.maxHeight = \"32vh\";\n                    if (font_size > switch_val) {\n                        selector_text.style.position = \"absolute\";\n                        selector_text.style.textAlign = \"center\";\n                        selector_text.style.alignItems = \"center\";\n                        // selector_text.style.height = \"\";\n                        selector_text.style.display = \"inline-block\";\n                        selector_text.style.paddingBottom = \"5rem\";\n                        selector_text.style.paddingRight = \"3rem\";\n                    } else {\n                        selector_text.style.position = \"\";\n                        selector_text.style.textAlign = \"\";\n                        selector_text.style.alignItems = \"\";\n                        // selector_text.style.height = \"\";\n                        selector_text.style.display = \"\";\n                        selector_text.style.paddingBottom = \"\";\n                        selector_text.style.paddingRight = \"\";\n                    }\n                    // console.log({\n                    //     identifier: identifier_sl,\n                    //     font_size: font_size,\n                    //     adaptive: font_size > switch_val\n                    // });\n                }\n                addEventListener('resize', (event) => calculate_text_position());\n                setInterval(calculate_text_position, 50);\n            }\n            getImageLightness(posts[i].cover, (brightness) => {\n                const style_ = `#000000${\n                    (((parseFloat(brightness) / 255.0) * 100.0)\n                        .toFixed() + 64)\n                        .toString(16)\n                        .slice(0, 2)\n                }`;\n                document.getElementById(`news-overlay-${i}`).style.background = style_;\n            });\n        }\n        const loading_done = () => {\n            setTimeout(\n                () => {\n                    const sl = document.getElementById(\"telegram_block_load\");\n                    const container_news = document.getElementById(\"news_zlp_buttons\");\n                    try {\n                        sl.parentNode.removeChild(sl);\n                        container_news.style.display = \"\";\n                    } catch (_) {\n                    }\n                }, 150);\n        };\n        if (posts) {\n            createSwiper();\n            loading_done();\n        }\n    };\n    get_news_((posts) => {\n        add_news_in_array(posts);\n    }, 1);\n}\nconst closeButtonDonateAdaptive = () => {\n    if (!is_apple_platform()) {\n        document.getElementById(\"exit-button-container-donate\").style.minHeight = \"100%\";\n    }\n}\nconst donateSwitchContainer = (display) => {\n    const container = document.querySelector(\".donate-global-container\");\n    const style_sticker = document.getElementById(\"super-klassniy-sticker-0\").style;\n    const style_main = document.querySelector(\"main\").style;\n    style_sticker.opacity = 0;\n    const update_zIndex = (variable) => {\n        setTimeout(() => {\n            container.style.zIndex = variable;\n        }, 850);\n    };\n    if (!donate_displayed || display) {\n        const button = document.getElementById(\"donateButtonLandingTop\");\n        button.setAttribute(\"disabled\", \"\");\n        notify(\"Переходим к донату...\");\n\n        closeButtonDonateAdaptive();\n\n        checkTelegramAuthData(function (tg_success) {\n            button.removeAttribute(\"disabled\");\n            if (tg_success) {\n                document.body.style.overflowY = \"hidden\";\n                window.scrollTo({\n                    top: 0,\n                    behavior: \"smooth\",\n                });\n                container.style.minHeight = \"\";\n                update_zIndex(\"\");\n                donate_displayed = true;\n                location.hash = \"#donate\";\n                style_main.paddingTop = \"50px\";\n            } else {\n                openTelegramAuthModal(true);\n            }\n        });\n    } else {\n        container.style.minHeight = \"0\";\n        container.style.zIndex = \"-1\";\n        document.body.style.overflowY = \"\";\n        donate_displayed = false;\n        location.hash = \"#\";\n        style_main.paddingTop = \"0\";\n    }\n}\nconst get_game_server_data = (callback) => {\n    const _data_error = (ok = false) => {\n        let string_ = \"\";\n        if (ok) {\n            string_ = \"\";\n        } else {\n            string_ = \"Не удается обновить информацию о сервере...\";\n        }\n        document.getElementById(\"error_get_server_status\").innerText = string_;\n    };\n    if (crypto_token) {\n        requestCall((r) => {\n            setTimeout(\n                () => {\n                    freeze_monitoring = false;\n                }, 800);\n            if (r.success) {\n                callback(r.body);\n            } else {\n                crypto_token = \"\";\n            }\n        }, `${backend_host}/server`, \"POST\", true, {\n            crypto_token: crypto_token\n        });\n    } else {\n        initCrypto();\n        freeze_monitoring = false;\n    }\n}\nconst monitoring_game_server_update = () => {\n    if (!freeze_monitoring) {\n        freeze_monitoring = true;\n        get_game_server_data((data) => {\n            if (data.online) {\n                if (typeof gameServerUpdater_setter !== \"undefined\") {\n                    clearInterval(gameServerUpdater_setter);\n                }\n                const selector = document.getElementById(\"server_online_status\");\n                selector.classList.remove(\"loading-dots\");\n                selector.innerHTML = `Сейчас играет <span class=\"text-primary fw-semibold\">${data.online}</span>\n            <i class=\"emoji male-emoji\" style=\"margin-left: -.35rem!important;background-image:url('assets/images/emoji/male.png')\"><b>♂</b></i>\n            ${getNoun(data.online)}\n            <i class=\"emoji male-emoji\" style=\"background-image:url('assets/images/emoji/male.png')\"><b>♂</b></i>\n            `;\n            }\n        });\n    }\n}\nconst gameServerUpdater = () => {\n    monitoring_game_server_update();\n    gameServerUpdater_setter = setInterval(monitoring_game_server_update, 300);\n    setInterval(monitoring_game_server_update, 6000);\n}\nconst initEventsList = () => {\n    const row_container = document.getElementById(\"events-row-container\");\n    const loader_ = document.getElementById(\"events_block_load\");\n    const switch_button_ = document.getElementById(\"events-c-button\");\n    const row_class = [\"row-cols-md-2\", \"row-cols-lg-2\", \"row-cols-xl-3\"];\n\n    get_events_((data) => {\n        switch_button_.removeAttribute(\"disabled\");\n        if (data && data.length) {\n            glob_events_status = true;\n            events_block_load.remove();\n            data.sort((a, b) => {\n                const keyA = new Date(a.date_start),\n                    keyB = new Date(b.date_start);\n                if (keyA < keyB) return -1;\n                if (keyA > keyB) return 1;\n                return 0;\n            });\n            for (let i = 0; i < data.length; i++) {\n                if (3 > i > 0) {\n                    row_container.classList.add(row_class[i]);\n                }\n                const st_date = time_correction(new Date(data[i].date_start));\n                const end_date = time_correction(new Date(data[i].date_end));\n                const time_in_moscow = time_in_moscow_get();\n                let badge = \"\";\n                if (st_date > time_in_moscow) {\n                    badge = \"Скоро\";\n                } else if (time_in_moscow > end_date) {\n                    badge = \"Завершено\";\n                }\n                const template_ = `\n                    <div class=\"col\">\n                        <div class=\"object-block-col\">\n                            <h1>${data[i].title}</h1>\n                            <h4 class=\"text-primary\" style=\"margin-top: -1.2rem\">${badge}</h4>\n                            <h6 style=\"margin-top: -1rem\">С <span class=\"text-primary\">\n                                ${st_date.toLocaleDateString(\"ru-RU\")} ${(\"0\" + st_date.getHours()).slice(-2)}:${(\"0\" + st_date.getMinutes()).slice(-2)}\n                                </span> по <span class=\"text-primary\">\n                                ${end_date.toLocaleDateString(\"ru-RU\")} ${(\"0\" + end_date.getHours()).slice(-2)}:${(\"0\" + end_date.getMinutes()).slice(-2)}\n                                </span></h6>\n                            <p>${data[i].text}</p>\n                        </div>\n                    </div>\n                `;\n                row_container.innerHTML = row_container.innerHTML + template_;\n            }\n        }\n    });\n}\nconst get_donate_services = (callback) => {\n    re_check((token_update) => {\n        requestCall((r) => {\n            callback(r.services);\n        }, `${backend_host}/donate/services`, \"POST\", true, {\n            token: token_update,\n        });\n    });\n}\nconst create_payment = (callback, customer, products, server_id, email = \"\", coupon = \"\") => {\n    re_check((token_update) => {\n        requestCall((r) => {\n            callback(r.payment);\n        }, `${backend_host}/donate/payment/create`, \"POST\", true, {\n            customer: customer,\n            products: products,\n            email: email,\n            coupon: coupon,\n            token: token_update,\n            server_id: server_id,\n            success_url: `https://${work_domain_v}`,\n            tg_auth_data: getTelegramAuth(true)\n        });\n    });\n}\nconst generateGiftLink = (callback, payment_id) => {\n    getCrypto((crypto_token) => {\n        callback(`${backend_host}/gift/private_server?` + `payment_id=${payment_id}&` + `crypto_token=${encodeURIComponent(crypto_token)}&` + `sign=${generateRandomHex(24)}`)\n    })\n}\nconst check_coupon = (callback, coupon) => {\n    re_check((token_update) => {\n        requestCall((r) => {\n            if (r.coupon && r.success) {\n                callback(r.coupon);\n            } else {\n                callback(null);\n            }\n        }, `${backend_host}/donate/coupon`, \"POST\", true, {\n            code: coupon,\n            token: token_update\n        });\n    });\n}\nconst testImage = (url) => {\n    const tester = new Image();\n    // tester.addEventListener('load', TSimageFound);\n    tester.addEventListener('error', reInitTelegramAuth);\n    tester.src = url;\n}\nconst loadPlayerAvatar = (avatar) => {\n    if (!crypto_token || !crypto_token.length) {\n        initCrypto();\n        return;\n    }\n\n    console.debug(`Load avatar : ${avatar}`);\n    document.getElementById(\"tg-user-avatar-text\").innerText = \"\";\n\n    const avatar_selector = document.getElementById(\"telegram-auth-avatar\");\n    const avatar_style = avatar_selector.style;\n\n    const raw_link = `${\n        backend_host\n    }/profile/avatar/?texture_hash=${\n        avatar\n    }&crypto_token=${\n        encodeURIComponent(crypto_token)\n    }&tg_auth=${\n        encodeURIComponent(getTelegramAuth(true))\n    }`;\n    const link = prepare_img_link(raw_link);\n\n    // avatar_style.transition = \"all .4s\";\n    // avatar_style.backgroundPosition = \"center\";\n    // avatar_style.borderRadius = \".35em\";\n    // avatar_style.backgroundImage = `url(${link})`;\n\n    testImage(raw_link);\n    avatar_selector.setAttribute(\"style\", `background-image: url(\"${link}\");border-radius:.15rem;`);\n}\nconst reInitTelegramAuth = () => {\n    checkTelegramAuthData(function (_) {\n    });\n}\nconst checkTelegramAuthData = (callback, skip = false, raw = false) => {\n    const auth_data = getTelegramAuth(true);\n    if (auth_data) {\n        if (telegram_glob_session.auth_data === auth_data) {\n            callback(telegram_glob_session.response.success);\n            return;\n        }\n        if (!skip) {\n            re_check((token_update) => {\n                requestCall((r) => {\n                    if (r) {\n                        console.debug(r);\n                        if (!r.success) {\n                            // location.href = telegram_social_bot;\n                            // console.log(\"Redirect to \" + telegram_social_bot);\n                            openLoginHint();\n                            callback(false);\n                        } else {\n                            const avatar = document.getElementById(\"telegram-auth-avatar\");\n                            /*\n                                data-bs-toggle=\"tooltip\" data-bs-placement=\"bottom\"\n                                title=\"TITLE_TEXT\"\n                            */\n                            glob_auth_player_data = r.player_data;\n                            // const orderedData = getTelegramAuth();\n                            if (r.player_data) {\n                                const player = r.player_data;\n                                const skin = player.SKIN;\n                                loadPlayerAvatar(skin);\n\n                                avatar.setAttribute(\"data-bs-toggle\", \"tooltip\");\n                                avatar.setAttribute(\"data-bs-placement\", \"bottom\");\n                                avatar.setAttribute(\"title\", player[\"NICKNAME\"]);\n\n                                setInterval(function () {\n                                    if (!avatar.style.backgroundImage || avatar.style.backgroundImage.length < 1) {\n                                        loadPlayerAvatar(skin);\n                                    }\n                                }, 150);\n                            }\n                            telegram_glob_session = {\n                                auth_data: auth_data,\n                                response: r\n                            };\n                            callback(raw ? r : r.success);\n                        }\n                    } else {\n                        callback(false);\n                    }\n                }, `${backend_host}/telegram/auth/check`, \"POST\", true, {\n                    token: token_update,\n                    tg_auth_data: auth_data\n                });\n            });\n        } else {\n            callback(true);\n        }\n    } else {\n        callback(false);\n    }\n}\nconst getIPClient = (callback) => {\n    requestCall(\n        (r) => {\n            if (r && r.success) {\n                client_ip = r.ip;\n                callback(r.ip);\n            } else {\n                callback(null);\n            }\n        }, `${backend_host}/ip`, \"GET\", true);\n}\nconst checkFeedbackStatus = (callback) => {\n    const auth_data = getTelegramAuth(true);\n    if (auth_data) {\n        re_check((token_update) => {\n            requestCall(\n                (r) => {\n                    if (r) {\n                        callback(r.success);\n                    } else {\n                        callback(false);\n                    }\n                }, `${backend_host}/feedback/check`, \"POST\", true, {\n                    token: token_update,\n                    tg_auth_data: auth_data\n                });\n        });\n    }\n}\nconst sendFeedback = (callback, text) => {\n    const auth_data = getTelegramAuth(true);\n    if (auth_data) {\n        re_check((token_update) => {\n            requestCall(\n                (r) => {\n                    if (r) {\n                        callback(r.success);\n                    } else {\n                        callback(false);\n                    }\n                }, `${backend_host}/feedback/send`, \"POST\", true, {\n                    text: text,\n                    token: token_update,\n                    tg_auth_data: auth_data\n                });\n        });\n    }\n}\nconst sendFeedbackAction = () => {\n    const button = document.getElementById(\"send-feedback-button\");\n    const textarea = document.getElementById(\"admin-message\");\n    const text = textarea.value;\n    if (text.length < 20) {\n        notify(\"Сообщение очень короткое!\");\n        return;\n    }\n    const button_lock = (lock = true) => {\n        if (lock) {\n            button.setAttribute(\"disabled\", \"\");\n        } else {\n            button.removeAttribute(\"disabled\");\n        }\n        button.innerText = lock ? \"Ожидайте...\" : \"Отправить\";\n    }\n    button_lock();\n    checkFeedbackStatus((check_data) => {\n        if (check_data) {\n            sendFeedback(\n                (send_data) => {\n                    if (send_data) {\n                        notify(\"Сообщение отправлено админам.\");\n                    } else {\n                        notify(\"Ошибка на стороне сервера, попробуйте позже.\");\n                    }\n                    button_lock(false);\n                }, text);\n        } else {\n            button_lock(false);\n            notify(\"Не удалось пройти проверку, попробуйте позже.\");\n        }\n    });\n}\nconst checkPayment = (callback, payment_id) => {\n    re_check((token_update) => {\n        requestCall((r) => {\n            callback(r.payment);\n        }, `${backend_host}/donate/payment_get`, \"POST\", true, {\n            payment_id: parseInt(payment_id),\n            token: token_update,\n            tokens_send: coins_sell_mode,\n        });\n    });\n}\nconst getPaymentHistory = (callback) => {\n    re_check((token_update) => {\n        requestCall((r) => {\n            try {\n                callback(r.payment);\n            } catch (_) {\n                callback(null);\n                return;\n            }\n        }, `${backend_host}/donate/payment_history`, \"POST\", true, {\n            token: token_update\n        });\n    });\n}\nconst getPlayersSkins = (callback, players, enabled=false) => {\n    if (!enabled) {\n        callback(null);\n        return;\n    }\n    re_check((token_update) => {\n        requestCall((r) => {\n            callback(r.skins);\n        }, `${backend_host}/profile/skins/get`, \"POST\", true, {\n            token: token_update,\n            players: players\n        });\n    });\n}\nconst appendServices = () => {\n    get_donate_services((services) => {\n        donate_services_array = services;\n        const size_classes = [\"row-cols-sm-2\", \"row-cols-md-3\", \"row-cols-lg-4\"];\n        const sl = document.getElementById(\"donate_items_list\");\n        const get_product_type = (name, type) => {\n            name = name.toLowerCase();\n            type = type.toLowerCase();\n            if (name.includes(\"токен\") && type === \"currency\") {\n                return 1;\n            } else if (name.includes(\"проходка\") && type === \"other\") {\n                return 2;\n            }\n        }\n        if (!services.length) {\n            sl.innerHTML = '<span class=\"text-center\">Не удалось получить список товаров.</span>';\n        } else {\n            donate_check_services_cart();\n            for (let i = 0; i < services.length; i++) {\n                const click_data = {\n                    name: services[i].name,\n                    price: services[i].price,\n                    count: services[i].number,\n                    description: services[i].description,\n                    type: services[i].type,\n                    service_id: services[i].id,\n                    server_id: services[i].server_id,\n                };\n                products_by_serverid.push(services[i]);\n                let _name = \"\";\n                // const _desc = \"\";\n                let padding_desc = \"p-3\";\n                let desc_template = `\n                    <p class=\"mb-0\">\n                        ${services[i].price} \n                        ${getNoun(services[i].price, \"рубль\", \"рубля\", \"рублей\")} \n                        = \n                        ${services[i].number} \n                        ${getNoun(services[i].number, \"единица\", \"единицы\", \"единиц\")}\n                    </p>\n                    <p class=\"fs-sm mb-0\">${services[i].description}</p>\n                `;\n                let item_butt_template = '';\n                if (i && size_classes.length >= i) {\n                    sl.classList.add(size_classes[i - 1]);\n                }\n                let click_template = `onClick=\"donate_element_click(${JSON.stringify(click_data)})\"`;\n                if (!coins_sell_mode) {\n                    _name = services[i].name;\n                } else {\n                    let button_title = \"Приобрести\";\n                    let description_other = \"Товар без описания.\";\n                    if (services[i].description) {\n                        description_other = services[i].description\n                    }\n                    if (services[i].name.toLowerCase().includes(\"токен\")) {\n                        _name = `${services[i].price} ${getNoun(services[i].price, \"рубль\", \"рубля\", \"рублей\")} = ${services[i].number} ${getNoun(services[i].number, \"токен\", \"токена\", \"токенов\")}`;\n                        padding_desc = \"p-0\";\n                        desc_template = `\n                        <p class=\"mb-0 token-description-dnt\">\n                            Игровая валюта, которую можно получить как в игре, так и за поддержку проекта.\n                        </p>`;\n                        click_template = \"\";\n                    } else if (services[i].type = \"other\") {\n                        _name = `\n                        <span class=\"text-primary\">${services[i].name}</span>,\n                        ${services[i].price} ${getNoun(services[i].price, \"рубль\", \"рубля\", \"рублей\")}`;\n                        padding_desc = \"p-0\";\n                        desc_template = `\n                        <p class=\"mb-0 token-description-dnt\">\n                            ${description_other}\n                        </p>`;\n                        click_template = \"\";\n                    }\n                    item_butt_template = `\n                        <button class=\"btn btn-primary shadow-primary btn-shadow-hide btn-lg min-w-zl donate-item-butt-bottom\" \n                            onclick=\"donateModalCall(${get_product_type(click_data.name, click_data.type)}, ${click_data.service_id})\">\n                            ${button_title}\n                        </button>`;\n                }\n                services[i].image = prepare_img_link(services[i].image);\n                sl.innerHTML = sl.innerHTML + `\n                    <div class=\"col\" id=\"donate_item_${services[i].id}\">\n                        <div class=\"card border-0 bg-transparent\" ${click_template}>\n                          <div class=\"position-relative container-item-donate-n\">\n                            <div class=\"parent-image-shadow donate_item_hover\" \n                                id=\"donate_item_hover_${services[i].id}\">\n                                <div class=\"imageContainer item-levitaion-dec\">\n                                    <div \n                                    class=\"foregroundImg\" \n                                    style=\"background-image: url(${services[i].image})\"\n                                    ></div>\n                                    <div \n                                    class=\"backgroundImg\" \n                                    style=\"background-image: url(${services[i].image})\"\n                                    ></div>                               \n                                 </div>\n                            </div>\n                            <div class=\"card-img-overlay d-flex flex-column align-items-center \n                                        justify-content-center rounded-3\" \n                                 style=\"margin: auto\">\n                            </div>\n                          </div>\n                          <div class=\"card-body text-center ${padding_desc}\">\n                                <h3 class=\"fs-lg fw-semibold pt-1 mb-2\">${_name}</h3>\n                                ${desc_template}\n                                ${item_butt_template}\n                          </div>\n                        </div>\n                    </div>\n                `;\n            }\n            checkPrivateServerBuy();\n            setTimeout(\n                () => {\n                    const elem = document.getElementById(\"donate_block_load\");\n                    const ids = [\"donate_items_list\", \"donate-header-container\", \"donate-test-mode-enb\", \"donate-cart-container\",];\n                    try {\n                        elem.parentNode.removeChild(elem);\n                    } catch (_) {\n                    }\n                    for (let i = 0; i < ids.length; i++) {\n                        try {\n                            document.getElementById(ids[i]).style.display = \"\";\n                        } catch (e) {\n                            console.log(`Donate block loader error. Details: ${e}`);\n                        }\n                    }\n                }, 100);\n        }\n    });\n}\nconst switchEventsPages = (button_name) => {\n    const news_page = document.getElementById(\"news-c-container\");\n    const events_page = document.getElementById(\"events-c-container\");\n    const news_button = document.getElementById(\"news-c-button\");\n    const events_button = document.getElementById(\"events-c-button\");\n    if (button_name !== events_page_state) {\n        if (button_name === \"events\") {\n            if (glob_events_status) {\n                news_page.style.display = \"none\";\n                events_page.style.display = \"block\";\n                news_button.removeAttribute(\"disabled\");\n                events_button.setAttribute(\"disabled\", \"\");\n                events_page.style.top = \"0\";\n                news_page.style.top = \"-2rem\";\n                events_page_state = \"events\";\n            } else {\n                notify(\"Сейчас ивентов нет, Марин отдыхает\")\n            }\n        } else if (button_name === \"news\") {\n            news_page.style.display = \"block\";\n            events_page.style.display = \"none\";\n            news_button.setAttribute(\"disabled\", \"\");\n            events_button.removeAttribute(\"disabled\");\n            events_page.style.top = \"-2rem\";\n            news_page.style.top = \"0\";\n            events_page_state = \"news\";\n        }\n    }\n}\nconst redirect_ = (url) => {\n    return window.location.replace(url);\n}\nconst ytVideoSetter = (skip = false, only_iframe = true) => {\n    const load_iframe = (el, video_id, params) => {\n        el.innerHTML = `\n            <iframe src=\"https://www.youtube.com/embed/${video_id}\" title=\"YouTube video player\"\n                frameborder=\"0\" class=\"video-container-yt\" id=\"ytframe_${video_id}\"\n                allow=\"accelerometer; ${params.autoplay != null ? \"autoplay\" : \"\"}; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n                allowfullscreen=\"\" loading=\"lazy\"></iframe>\n        `;\n    }\n    const set_video = (el, video_id, params) => {\n        if (only_iframe) {\n            load_iframe(el, video_id, params);\n        } else {\n            const video = get_yt_video_(\n                (data) => {\n                    if (data && data.video.x720.url && !skip) {\n                        el.innerHTML = `\n                    <video class=\"video-container\" ${params.autoplay != null ? 'autoplay=\"\"' : \"\"} ${params.muted != null ? 'muted=\"\"' : \"\"} ${params.loop != null ? 'loop=\"\"' : \"\"} ${params.controls != null ? 'controls=\"\"' : \"\"} style=\"object-fit: contain\">\n                        <source src=\"${data.video.x720.url}\" type=\"video/mp4\">\n                    </video>\n                `;\n                    } else {\n                        load_iframe(el, video_id, params);\n                    }\n                }, video_id, skip);\n        }\n    };\n    for (let el of Array.from(document.getElementsByClassName(\"ytVideoSetter\"))) {\n        const video_id = el.getAttribute(\"video_id\");\n        if (video_id && video_id.length && video_id.length < 20) {\n            set_video(el, video_id, {\n                autoplay: el.getAttribute(\"autoplay\"),\n                muted: el.getAttribute(\"muted\"),\n                loop: el.getAttribute(\"loop\"),\n                controls: el.getAttribute(\"controls\"),\n            });\n            if (el.getAttribute(\"bottomzero\")) {\n                document.getElementById(`ytframe_${video_id}`).style.marginBottom = \"0\";\n            }\n        }\n    }\n}\nconst modal_close_ = () => {\n    if (modal_displayed) {\n        document.body.classList.remove(\"modal-open\");\n        document.getElementById(\"scroll_butt_container\").style.display = \"\";\n        document.getElementsByTagName(\"html\")[0].style.overflowY = \"\"\n        const modal = document.getElementById(\"donate_item_modal\");\n        modal.style.opacity = 0;\n        setTimeout(() => {\n            modal.style.display = \"none\";\n        }, 350);\n        modal_displayed = false;\n    }\n}\nconst modal_open_ = (onclick_lock = false) => {\n    modal_displayed = true;\n    document.body.classList.add(\"modal-open\");\n    document.getElementById(\"scroll_butt_container\").style.display = \"none\";\n    document.getElementsByTagName(\"html\")[0].style.overflowY = \"hidden\";\n    try {\n        document.getElementById(\"private_gift_button_modal\").remove()\n    } catch (_) {\n    }\n    const modal = document.getElementById(\"donate_item_modal\");\n    modal.style.display = \"block\";\n    setTimeout(() => {\n        modal.style.opacity = 1;\n    }, 50);\n    if (!onclick_lock) {\n        window.onclick = (event) => {\n            if (event.target === modal) {\n                modal_close_();\n            }\n        }\n    }\n}\nconst switch_modal_containers = (mode = \"service\", info_params = {}) => {\n    const span = document.getElementsByClassName(\"close_b\")[0];\n    const info = document.getElementById(\"modal-info-container-c\");\n    const service = document.getElementById(\"modal-donate-container-c\");\n    const service_coins = document.getElementById(\"modal-donate-finish-container-b\");\n    const success = document.getElementById(\"modal-donate-success-container\");\n    const finish_donate = document.getElementById(\"modal-donate-finish-container-c\");\n    const title = document.querySelector(\".modal-title\");\n    const _array = [{\n        name: \"service\",\n        selector: service,\n        title: \"Товар\",\n    },\n        {\n            name: \"service_coins\",\n            selector: service_coins,\n            title: \"Оплата пожертвования\",\n        },\n        {\n            name: \"info\",\n            selector: info,\n            title: \"Сообщение\",\n        },\n        {\n            name: \"success\",\n            selector: success,\n            title: \"Чек\",\n        },\n        {\n            name: \"donate_finish\",\n            selector: finish_donate,\n            title: \"Корзина\",\n        },\n    ];\n    for (let i = 0; i < _array.length; i++) {\n        let _mode = \"none\";\n        if (mode === _array[i].name) {\n            _mode = \"block\";\n            title.innerText = _array[i].title;\n        }\n        _array[i].selector.style.display = _mode;\n    }\n    if (mode === \"info\") {\n        title.innerText = info_params.title;\n        if (info_params.content.length) {\n            document.getElementById(\"info-content-modal\").innerHTML = info_params.content;\n        }\n    }\n    span.onclick = () => {\n        modal_close_();\n    };\n}\nconst discount_calculate = (price, discount) => {\n    discount = discount / 100;\n    return (price * discount).toFixed();\n}\nconst get_cookie_cart = () => {\n    let cookie_cart = {};\n    try {\n        cookie_cart = JSON.parse(Cookies.get(cart_cookie));\n    } catch (_) {\n    }\n    return cookie_cart;\n}\nconst updateCartCount = () => {\n    document.getElementById(\"count_cart_items_dn\").innerText = countProperties(get_cookie_cart());\n}\nconst groupAlreadyInCart = (user_cart) => {\n    const cart = Object.keys(user_cart);\n    for (let i = 0; i < donate_services_array.length; i++) {\n        if (donate_services_array[i].type === \"group\") {\n            if (cart.includes(donate_services_array[i].id.toString())) {\n                return true;\n            }\n        }\n    }\n    return false;\n}\n\nconst displayTokens = (v2=true) => {\n    const balance = glob_auth_player_data[\"BALANCE\"];\n\n    if (!tokens_system_enabled) {\n        return;\n    }\n    document.querySelector(\".zalupa-card-container\").style.display = \"\";\n\n    if (balance) {\n        if (!v2) {\n            const base_selector = document.querySelector(\".balance-container\");\n            const balance_value = document.querySelector(\".balance-value\");\n\n            base_selector.style.display = \"\";\n            balance_value.innerText = balance;\n        } else {\n            const balance_number = document.querySelector(\".number-card-zalupa\");\n            const card_holder = document.querySelector(\".card-holder-zalupa\");\n            const balance_value_card = document.querySelector(\".balance-value-card\");\n\n            balance_number.innerText = glob_auth_player_data[\"UUID\"];\n            card_holder.innerText = glob_auth_player_data[\"NICKNAME\"];\n            balance_value_card.innerHTML =\n                `<span class=\"text-primary\">${balance}</span> ${\n                getNoun(balance, \"токен\", \"токена\", \"токенов\")\n            }`;\n\n            document.getElementById(\"card-zalupa\").style.backgroundImage =\n                `url(\"${select_card_skin(balance)}\")`;\n        }\n    }\n}\nconst select_card_skin = (balance) => {\n    const skins = {\n        0: \"grass\",\n        100: \"clay\",\n        200: \"red_mashroom\",\n        300: \"tube_coral\",\n        400: \"gray_glazed_terracotta\",\n        500: \"bee_nest\",\n        750: \"bamboo\",\n        1000: \"\",\n        1200: \"gilded_blackstone\",\n        1500: \"raw_gold\",\n        2000: \"nether_wart\",\n        3000: \"sculk_crystal\",\n        4000: \"rainforced_deepslate\",\n        4500: \"tinted_glass\",\n        5000: \"chiseled_quartz\",\n        5001: \"tnt\",\n        5002: \"warped_stem\",\n        5003: \"respawn_anchor\",\n        5004: \"dark_prismarine\",\n        8000: \"nether\",\n        10000: \"netherite\"\n    };\n    let keys = Object.keys(skins);\n    keys = keys.reverse();\n    const path = \"/assets/images/card_skins\";\n    for (let i = 0; i < keys.length; i++) {\n        const selector = skins[keys[i]];\n        if (balance >= parseInt(keys[i])) {\n            console.debug(selector);\n            return prepare_img_link(`${path}/${selector}.png`);\n        }\n    }\n    return prepare_img_link(`${path}/grass.png`);\n}\nconst comment_show_action = (id, close = false) => {\n    const comment_text = document.getElementById(`comment_text_${id}`);\n    const comment_show = document.getElementById(`comment_show_${id}`);\n    swiper_comments.on(\"slideChange\", () => {\n        comment_show_action(id, true);\n    });\n    if (close || comment_text.getAttribute(\"fullShowComment\") === \"1\") {\n        comment_text.style.height = \"100px\";\n        comment_text.setAttribute(\"fullShowComment\", \"0\");\n        comment_show.innerText = \"Раскрыть\";\n    } else {\n        comment_text.style.height = \"100%\";\n        comment_text.setAttribute(\"fullShowComment\", \"1\");\n        comment_show.innerText = \"Скрыть\";\n    }\n}\nconst checkPrivateServerBuy = () => {\n    const checkFunction = () => {\n        const stop_key = \"Проходка\";\n\n        for (let item of donate_services_array) {\n            // console.debug(`checkPrivateServerBuy : item = ${item.name} / id = ${item.id}`);\n            if (item.name === stop_key && glob_auth_player_data.PRIVATE_SERVER) {\n                const selector_button = document.querySelector(`#donate_item_${item.id}>div>div.card-body>button`);\n\n                selector_button.innerText = \"Куплено\";\n                selector_button.setAttribute(\"disabled\", \"\");\n                selector_button.removeAttribute(\"onclick\");\n                // открывать чек об оплате (если есть)\n            }\n        }\n    }\n\n    checkFunction();\n    setInterval(checkFunction, 300);\n}\nconst initComments = () => {\n    const array_ = document.getElementById(\"comment_swipe_array\");\n    const createSwiper = () => {\n        swiper_comments = new Swiper(\"#comment_swipe_container\", {\n            spaceBetween: 12,\n            loop: true,\n            observer: true,\n            observeParents: true,\n            preventClicks: false,\n            preventClicksPropagation: false,\n            autoplay: {\n                delay: 3000,\n            },\n            pagination: {\n                el: \".swiper-pagination\",\n                clickable: true,\n            },\n            navigation: {\n                prevEl: \"#prev_comment\",\n                nextEl: \"#next_comment\",\n            },\n        });\n    };\n    const playersGet = (callback) => {\n        requestCall((r) => {\n            callback(r);\n        }, \"assets/data/players.json\", \"GET\", true);\n    };\n    const searchPlayer = (players, name) => {\n        for (let i = 0; i < players.length; i++) {\n            if (players[i].name === name) {\n                return players[i];\n            }\n        }\n    };\n    requestCall((r) => {\n            const comment = r;\n            shuffle(comment);\n            playersGet((players) => {\n                for (let i = 0; i < comment.length; i++) {\n                    const player = searchPlayer(players, comment[i].name);\n                    array_.innerHTML = array_.innerHTML + `\n                        <div class=\"swiper-slide h-auto px-2\">\n                            <figure class=\"card h-100 position-relative border-0 shadow-sm py-3 p-0 p-xxl-4 my-0\">\n                                <span class=\"btn btn-primary btn-lg shadow-primary pe-none position-absolute top-0 start-0 translate-middle-y ms-4 ms-xxl-5 zlp-comment-icon\">\n                                  <i class=\"bx bxs-quote-left\"></i>\n                                  Залупный комментарий\n                                </span>\n                                <blockquote id=\"comment_block_${i}\" class=\"card-body mt-2 mb-2\" \n                                            style=\"transition: .8s height\">\n                                    <p id=\"comment_text_${i}\" class=\"fs-md mb-0\">\n                                            «${comment[i].text}»</p>\n                                    <span id=\"comment_show_${i}\" onclick=\"comment_show_action(${i})\" \n                                          class=\"pt-1 comment-show-button\">\n                                            Раскрыть</span>\n                                </blockquote>\n                                <figcaption class=\"card-footer d-flex align-items-center border-0 pt-0 mt-n2 mt-lg-0\">\n                                    <div>\n                                        <h6 class=\"fw-semibold lh-base mb-0\">${comment[i].name}</h6>\n                                        ${player ? `<span class=\"frame_badge_adaptive\">${player.desc}</span>` : \"\"}\n                                    </div>\n                                </figcaption>\n                            </figure>\n                        </div>\n                    `;\n\n                    const\n                        comment_text =\n                            document\n                                .getElementById(\n                                    `comment_text_${i}`\n                                );\n                    const\n                        comment_show =\n                            document\n                                .getElementById(\n                                    `comment_show_${i}`\n                                );\n\n                    comment_show\n                        .style\n                        .fontWeight =\n                        \"400\";\n                    comment_text\n                        .style\n                        .transition =\n                        \"height .8s cubic-bezier(1, -.3, 0, 1.21) 0s\";\n                    comment_text\n                        .setAttribute(\n                            \"fullShowComment\",\n                            \"0\"\n                        );\n                    const\n                        correction_height =\n                            12;\n\n                    if (comment_text\n                            .clientHeight >\n                        100 +\n                        correction_height\n                    ) {\n                        comment_text\n                            .style\n                            .height =\n                            \"100px\";\n                        comment_text\n                            .style\n                            .overflow =\n                            \"hidden\";\n                    } else {\n                        comment_show\n                            .style\n                            .display =\n                            \"none\";\n                    }\n                }\n            });\n\n            createSwiper();\n        },\n        \"assets/data/comments.json\",\n        \"GET\", true);\n}\n\nconst buildPlayersSwiper = () => {\n    const array_ = document\n        .getElementById(\n            \"players-swiper-array\");\n\n    const createSwiper = () => {\n        try {\n            document.getElementById(\"players_block_load\").remove();\n        } catch (_) {\n        }\n        new Swiper(\n            \"#players_swipe_container\", {\n                slidesPerView: 1,\n                spaceBetween: 24,\n                autoplay: {\n                    delay: 2000,\n                },\n                loop: true,\n                observer: true,\n                observeParents: true,\n                preventClicks: false,\n                pagination: {\n                    el: \".swiper-pagination\",\n                    clickable: true,\n                },\n                breakpoints: {\n                    600: {\n                        slidesPerView: 2,\n                    },\n                    920: {\n                        slidesPerView: 3,\n                    },\n                    1200: {\n                        slidesPerView: 4,\n                    },\n                    1600: {\n                        slidesPerView: 5,\n                    },\n                    2000: {\n                        slidesPerView: 6,\n                    }\n                },\n            });\n    };\n\n    const badges_get = (\n        callback) => {\n        requestCall((r) => {\n                callback(r);\n            },\n            \"assets/data/badges.json\",\n            \"GET\", true);\n    };\n\n    badges_get((badges_paste) => {\n        requestCall((\n                r) => {\n                const\n                    player =\n                        r;\n                shuffle(\n                    player\n                );\n\n                let players_array = [];\n                for (let player_in of player) {\n                    players_array.push(player_in.name);\n                }\n\n                getPlayersSkins(function (skins) {\n                    for (let i =\n                        0; i <\n                         player\n                             .length; i++\n                    ) {\n                        // const ult_template = \"\";\n\n                        // for (let player_skin of skins) {\n                        //     if (player[i].name.toLowerCase() === player_skin[\"Nick\"].toLowerCase()) {\n                        //         player[i].head = `https:${backend_host}/profile/head/?texture_hash=${\n                        //             player_skin[\"Value\"]}&crypto_token=${\n                        //             encodeURIComponent(crypto_token)}`;\n                        //     }\n                        // }\n\n                        const\n                            getBadges =\n                                () => {\n                                    let result =\n                                        \"\";\n                                    player\n                                        [i]\n                                        .badges\n                                        .sort();\n                                    for (\n                                        let s =\n                                            0; s <\n                                        player[\n                                            i\n                                            ]\n                                            .badges\n                                            .length; s++\n                                    ) {\n                                        const\n                                            badge_local =\n                                                player[\n                                                    i\n                                                    ]\n                                                    .badges[\n                                                    s\n                                                    ];\n                                        if (badge_local &&\n                                            badge_local\n                                                .length &&\n                                            badge_local !==\n                                            \"verified\" &&\n                                            !\n                                                badge_local\n                                                    .includes(\n                                                        \"clan-\"\n                                                    )\n                                        ) {\n                                            result\n                                                =\n                                                result + `\n                                        <div class=\"player_badge\" \n                                            style=\"background-image: url(./assets/images/emoji/${badges_paste[badge_local].item}.png)\"\n                                            data-bs-toggle=\"tooltip\" data-bs-placement=\"bottom\" \n                                            title=\"${badges_paste[badge_local].title}\">\n                                        </div>\n                                    `;\n                                        }\n                                    }\n                                    return result;\n                                }\n\n                        const\n                            getClan =\n                                () => {\n                                    for (\n                                        let s =\n                                            0; s <\n                                        player[\n                                            i\n                                            ]\n                                            .badges\n                                            .length; s++\n                                    ) {\n                                        if (player[\n                                            i\n                                            ]\n                                            .badges[\n                                            s\n                                            ]\n                                            .includes(\n                                                \"clan-\"\n                                            )\n                                        ) {\n                                            return player[\n                                                i\n                                                ]\n                                                .badges[\n                                                s\n                                                ]\n                                                .replace(\n                                                    \"clan-\",\n                                                    \"\"\n                                                );\n                                        }\n                                    }\n                                }\n\n                        glob_players\n                            .push(\n                                player[\n                                    i\n                                    ]\n                                    .name\n                            );\n                        const\n                            player_badges_ =\n                                getBadges();\n                        const\n                            player_clan =\n                                getClan();\n                        player[i].head = prepare_img_link(player[i].head);\n                        array_\n                            .innerHTML =\n                            array_\n                                .innerHTML + `\n                        <div class=\"swiper-slide text-center\">\n                            <span class=\"d-block py-3\">\n                                <div class=\"player_head_container\">\n                                    ${player_clan ? `<div \n                                        class=\"player_clan_badge\"\n                                        data-bs-toggle=\"tooltip\" data-bs-placement=\"top\"\n                                        title=\"${player_clan}\"\n                                    ></div>` : \"\"}\n                                    <div \n                                        class=\"player-head d-block mx-auto\" \n                                        style=\"background-image: url(${player[i].head})\"\n                                    ></div>\n                                </div>\n                                <div class=\"card-body p-3\">\n                                    <h3 class=\"fs-lg fw-semibold pt-1 mb-2\">\n                                        ${player[i].name}\n                                        ${player[i].badges.includes(\"verified\") ? `\n                                            <i class=\"verified-icon\"\n                                            data-bs-toggle=\"tooltip\" data-bs-placement=\"top\"\n                                            title=\"Подтвержденный\"> ✔</i>\n                                        ` : \"\"}\n                                    </h3>\n                                    <!-- <div class=\"player_badge_container\" style=\"${!player_badges_.length ? \"display:none\" : \"\"}\">\n                                        ${player_badges_}\n                                    </div> -->\n                                    <p class=\"fs-sm mb-0\">${player[i].desc}</p>\n                                </div>\n                            </span>\n                        </div>\n                    `;\n                    }\n\n                    createSwiper();\n                }, players_array);\n            },\n            \"assets/data/players.json\",\n            \"GET\", true);\n    });\n}\n\nconst buildDonateHistorySwiper = () => {\n    const array_ = document\n        .getElementById(\n            \"payments-history-swiper-array\");\n\n    const createSwiper = () => {\n        new Swiper(\n            \"#payments_history_container\", {\n                slidesPerView: 1,\n                spaceBetween: 24,\n                autoplay: {\n                    delay: 1500,\n                },\n                loop: true,\n                observer: true,\n                observeParents: true,\n                preventClicks: false,\n                pagination: {\n                    el: \".payments-history-pagination\",\n                    clickable: true,\n                },\n                breakpoints: {\n                    320: {\n                        slidesPerView: 2,\n                    },\n                    600: {\n                        slidesPerView: 3,\n                    },\n                    920: {\n                        slidesPerView: 4,\n                    },\n                    1200: {\n                        slidesPerView: 5,\n                    },\n                    1600: {\n                        slidesPerView: 6,\n                    },\n                    1900: {\n                        slidesPerView: 7,\n                    },\n                    2100: {\n                        slidesPerView: 8,\n                    },\n                    2500: {\n                        slidesPerView: 9,\n                    },\n                },\n            });\n    };\n\n    const updateDonateTime = () => {\n        const selectors = document.querySelectorAll(\"#item-donate-history-desc>time\");\n        for (let i = 0; i < selectors.length; i++) {\n            const select = selectors[i];\n            const time_ = select.getAttribute(\"datetime\");\n\n            select.innerHTML = formatDate(new Date(time_), time_in_moscow_get());\n        }\n    }\n\n    getPaymentHistory(function (data) {\n        if (!data || !data.length) {\n            return;\n        }\n        for (let i = 0; i < data.length; i++) {\n            const date = new Date(data[i].updated_at);\n            data[i].product.image = prepare_img_link(data[i].product.image);\n            array_\n                .innerHTML =\n                array_\n                    .innerHTML + `\n                    <!-- use player template for donate history swiper -->\n                    <div class=\"swiper-slide text-center\">\n                        <span class=\"d-block py-3\">\n                            <div class=\"player_head_container\">\n                                <div \n                                    class=\"player-head d-block mx-auto\" \n                                    style=\"background-image: url(${data[i].product.image});height:65px!important\"\n                                ></div>\n                            </div>\n                            <div class=\"card-body p-3\">\n                                <h5 class=\"h5 fs-6 fw-semibold pt-1 mb-2\">\n                                    ${data[i].product.name}\n                                </h5>\n                                <p class=\"fs-sm mb-0\" id=\"item-donate-history-desc\">\n                                    <span class=\"text-gradient-primary fw-bold\">${data[i].customer}</span>\n                                    <br/>\n                                    <time datetime=\"${\n                    date.toString()\n                }\"></time>\n                                </p>\n                            </div>\n                        </span>\n                    </div>\n                `;\n        }\n        document.getElementById(\"last_donate_block_load\").remove();\n        createSwiper();\n        setInterval(updateDonateTime, 1000);\n    });\n}\n\nconst setSticker = (stickers_count = 0, id = 0, custom_path = null) => {\n    let path = `assets/images/stickers/sticker${randDiaps(stickers_count)}.webp`;\n    if (custom_path) {\n        path = custom_path;\n    } else if (lock_sticker_switch) {\n        return;\n    }\n    const link = prepare_img_link(path);\n    document.getElementById(`super-klassniy-sticker-${id}`).style.backgroundImage = `url(${link})`;\n}\nconst setRandomStickerLand = () => {\n    const stickers_count = 32;\n    const selector = document.getElementById(\"super-klassniy-sticker-0\");\n\n    for (let i = 0; i <= stickers_count; i++) {\n        getImageLightness(`assets/images/stickers/sticker${i}.webp`, undefined, false);\n    }\n\n    setInterval(function () {\n        if (window.pageYOffset > 1600 || donate_displayed) {\n            selector.style.opacity = 0;\n        } else if (!donate_displayed && window.pageYOffset <= 1600) {\n            setTimeout(function () {\n                selector.style.opacity = .4;\n            }, 800);\n        } else {\n            selector.style.opacity = .4;\n        }\n    }, 30);\n\n    const updateStickerPosition = () => {\n        if (window.innerWidth >= 992) {\n            selector.style.top = `${randDiaps(85)}%`;\n            selector.style.left = `${randDiaps(85)}%`;\n        } else {\n            selector.style.top = `${randDiaps(100)}%`;\n            selector.style.left = `${randDiaps(75)}%`;\n        }\n    }\n\n    setSticker(stickers_count);\n    setInterval(setSticker, 6000, stickers_count);\n\n    updateStickerPosition();\n    setInterval(updateStickerPosition, 3000);\n}\nconst donate_element_click = (\n    product_data) => {\n    switch_modal_containers(\n        \"service\");\n    const exclude_types = [\"group\"];\n    const desc = document\n        .getElementById(\n            \"donate_item_select_text\"\n        );\n    const text_template = `Товар <span class=\"text-primary fw-semibold\">${product_data.name}</span>,\n            цена ${product_data.count} ${getNoun(product_data.count, \"единицы\", \"единиц\", \"единиц\")}\n        <span class=\"text-primary fw-semibold\">\n            ${product_data.price}\n            ${getNoun(product_data.price, \"рубль\", \"рубля\", \"рублей\")}\n        </span>.\n    `;\n    const items_count_donate =\n        document\n            .getElementById(\n                \"items_count_donate\");\n    const count_hint = document\n        .getElementById(\n            \"donate_count_text_hint\"\n        );\n    const add_to_cart = document\n        .getElementById(\n            \"donate_button_add_to_cart\"\n        );\n    const cookie_cart =\n        get_cookie_cart();\n    let switch_ = false;\n\n    const _update_count = () => {\n        add_to_cart\n            .setAttribute(\n                \"onClick\",\n                `donate_cart(${product_data.service_id}, ${items_count_donate.value})`\n            );\n    };\n\n    items_count_donate.value = 1;\n\n    _update_count();\n\n    const product_in_cart =\n        cookie_cart\n            .hasOwnProperty(product_data\n                .service_id\n                .toString());\n\n    if ((exclude_types.includes(\n                product_data.type\n            ) ||\n            product_data.type ===\n            \"group\") &&\n        groupAlreadyInCart(\n            cookie_cart)\n    ) {\n        switch_modal_containers(\n            \"info\");\n        switch_ = true;\n        let group_error = \"\";\n\n        if (product_data.type ===\n            \"group\") {\n            group_error =\n                \"Вы уже выбрали привилегию. Удалите её из корзины, если хотите выбрать другую.\";\n        } else if (\n            product_in_cart) {\n            group_error = `Ошибка, вы можете добавить товар \n                <span class=\"text-primary fw-semibold\">${product_data.name}</span> \n                только один раз.`;\n        } else {\n            group_error =\n                \"Мы не знаем почему, но эта ошибка вызвана по неизвестным причинам.\";\n        }\n\n        document.getElementById(\n            \"donate_info_block_text\"\n        )\n            .innerHTML =\n            group_error;\n    }\n\n    let count_state = \"block\";\n\n    if (exclude_types.includes(\n        product_data.type)) {\n        count_state = \"none\";\n    }\n\n    items_count_donate.style\n        .display =\n        count_state;\n    count_hint.style.display =\n        count_state;\n\n    const only_dig = () => {\n        const value =\n            items_count_donate\n                .value;\n        items_count_donate\n            .value =\n            value.replace(\n                /\\D+/g,\n                \"\");\n    };\n\n    const _calculate_price =\n        () => {\n            only_dig();\n\n            if (!exclude_types\n                .includes(\n                    product_data\n                        .type\n                )) {\n                let _price =\n                    parseInt(\n                        items_count_donate\n                            .value) *\n                    product_data\n                        .price;\n\n                const\n                    currenct_in_cart =\n                        cookie_cart[\n                            product_data\n                                .service_id\n                            ];\n                let template_counter_i =\n                    \"\";\n\n                if (isNaN(_price) ||\n                    1 >\n                    Math.sign(\n                        _price)) {\n                    _price = 0;\n                }\n\n                if (\n                    currenct_in_cart) {\n                    template_counter_i\n                        = `\n                    Уже в корзине - \n                        <span class=\"text-primary fw-semibold\">\n                            ${currenct_in_cart}\n                        </span>\n                `;\n                }\n\n                desc.innerHTML = `${text_template}\n                    <br/>\n                    Стоимость - \n                        <span class=\"text-primary fw-semibold\">\n                            ${_price} \n                            ${getNoun(_price, \"рубль\", \"рубля\", \"рублей\")}\n                        </span>\n                    <br/>\n                    ${template_counter_i}\n                `;\n\n                _update_count();\n            }\n        };\n\n    desc.innerHTML = text_template;\n\n    _calculate_price();\n\n    items_count_donate\n        .addEventListener(\n            \"input\",\n            (_) => {\n                _calculate_price();\n            });\n    modal_open_();\n}\n\nconst donate_get_service_by_id = (\n    id) => {\n    for (let i = 0; i <\n    donate_services_array\n        .length; i++) {\n        if (donate_services_array[i]\n            .id === parseInt(id)) {\n            return donate_services_array[\n                i];\n        }\n    }\n\n    return null;\n}\n\nconst donateResetPaymentState = (type =\n                                     1, repeat = false,\n                                 coupon_reset =\n                                     false) => {\n    const coupon_sl = document\n        .getElementById(\n            \"donate-coins-payment\");\n    const inputs = [\n        \"donate_sum\",\n        \"donate_customer_c\",\n        \"donate_email_c\",\n        \"coupon-input-c\"\n    ]\n    let sl = \"_c\";\n    let vl = document\n        .getElementById(\n            \"donate_sum\")\n        .value.trim();\n    if (!coins_sell_mode) {\n        sl = \"\";\n        vl = 0;\n    }\n    const button = document\n        .getElementById(\n            \"payment-button-donate\" +\n            sl\n        );\n    const update_inputs = () => {\n        for (let i = 0; i <\n        inputs\n            .length; i++) {\n            if (inputs[i]\n                    .includes(\n                        \"coupon\") &&\n                !\n                    coupon_reset) {\n                // pass\n            } else {\n                document\n                    .getElementById(\n                        inputs[\n                            i])\n                    .value = \"\";\n            }\n        }\n    }\n    if (coupon_reset) {\n        coupon_sl.innerHTML = \"\";\n        update_inputs();\n        checked_coupon = \"\";\n        failed_coupon = \"\";\n    }\n    button.setAttribute(\"onClick\",\n        `generatePaymentLink(${type}, ${(type === 2) ? 1 : vl})`\n    );\n    button.removeAttribute(\n        \"disabled\");\n    button.innerText = repeat ?\n        \"Повторить\" : \"Дальше\";\n}\n\nconst donate_cart = (product, count,\n                     remove = false) => {\n    const cart = Cookies.get(\n        cart_cookie);\n    const cart_parsed =\n        get_cookie_cart();\n    let product_count_in_cart = 0;\n    const max_item_count = 30000;\n    const local_prm =\n        '<span style=\"color: #a4a6ff\">';\n\n    try {\n        const p = cart_parsed[\n            product];\n\n        if (Number.isInteger(p)) {\n            product_count_in_cart\n                = +p;\n        }\n    } catch (_) {\n    }\n\n    if (!Number.isInteger(\n        product) || !\n        Number.isInteger(count)) {\n        return;\n    } else if (1 > Math.sign(\n        count)) {\n        notify(\n            \"Количество не может быть равно нулю или меньше\"\n        );\n        return;\n    } else if (\n        product_count_in_cart +\n        count > max_item_count) {\n        notify(\n            `Максимальное количество - ${local_prm}${max_item_count}</span>`\n        );\n        return;\n    }\n\n    if (!cart) {\n        Cookies.set(cart_cookie,\n            JSON\n                .stringify({}));\n    }\n\n    const els_ = JSON.parse(Cookies\n        .get(\n            cart_cookie));\n    const product_data =\n        donate_get_service_by_id(\n            product);\n\n    if (remove) {\n        delete els_[product];\n        notify(\n            `Товар ${local_prm} ${product_data.name}</span> убран из корзины`\n        );\n    } else {\n        if (els_[product]) {\n            els_[product] = els_[\n                product] + count;\n            notify(`В корзину добавлено ${local_prm} ${count} \n                    </span>\n                    ${getNoun(count, \"единица\", \"единицы\", \"единиц\")} \n                    товара ${local_prm} ${product_data.name} \n                    </span>`);\n        } else {\n            els_[product] = count;\n            notify(\n                `Товар ${local_prm} ${product_data.name}</span> добавлен в корзину`\n            );\n        }\n    }\n\n    Cookies.set(cart_cookie, JSON\n        .stringify(els_));\n    modal_close_();\n    initDonate();\n    updateCartCount();\n    donateResetPaymentState();\n}\n\nconst donate_cart_button = (\n    els = {}) => {\n    const selector_ = document\n        .querySelectorAll(\n            \".donate-cart-button-cn\"\n        );\n\n    if (coins_sell_mode) {\n        return;\n    }\n\n    for (let i = 0; i < selector_.length; i++) {\n        const sl = selector_[i].style;\n\n        if (countProperties(els)) {\n            sl.display = \"flex\";\n            setTimeout(() => {\n                sl.opacity = 1;\n                sl.marginTop = \"15px\";\n                selector_[i].removeAttribute(\"disabled\");\n            }, 50);\n        } else {\n            selector_[i].setAttribute(\"disabled\", \"\");\n            sl.opacity = 0;\n            sl.marginTop = \"-50px\";\n            setTimeout(() => {\n                sl.display = \"none\";\n            }, 350);\n        }\n    }\n}\n\nconst donateFlushCart = () => {\n    Cookies.remove(cart_cookie);\n    donate_cart_button({});\n    notify(\"Корзина очищена\");\n}\n\nconst setAvatar = (user) => {\n    const photoTG = false;\n    const selector = document.getElementById(\n        \"telegram-auth-avatar\").style;\n    if (user.photo_url && photoTG) {\n        selector.backgroundImage = `url(${user.photo_url})`;\n    } else {\n        selector.background =\n            `linear-gradient(343deg, var(--telegram-bgcolor${\n                getAvatarColorIDforTG(user.id)\n            }-top) 0%, var(--telegram-bgcolor${\n                getAvatarColorIDforTG(user.id)\n            }-bottom) 100%)`;\n        const avatarSelector = document.getElementById(\"tg-user-avatar-text\");\n        try {\n            avatarSelector.innerText =\n                `${user.first_name.slice(0, 1)}${user.last_name ? user.last_name.slice(0, 1) : \"\"}`\n                    .toUpperCase();\n        } catch (_) {\n            avatarSelector.innerHTML = \"N/A\";\n        }\n    }\n}\n\nconst checkAuthAndDisplayDonate = () => {\n    checkTelegramAuthData(function (response) {\n        if (response.player_data.NICKNAME) {\n            donateSwitchContainer();\n        }\n    }, false, true);\n}\n\nconst onTelegramAuth = (user) => {\n    Cookies.set(\n        telegram_cookie_token,\n        utf8_to_b64(JSON\n            .stringify(\n                user)));\n    modal_close_();\n    notify(\n        `Вы успешно авторизовались как <span class=\"text-gradient-primary\">${user.first_name} ${user.last_name ? user.last_name : \"\"}</span>`\n    );\n\n    autoAuthTelegramObserver();\n    // checkAuthAndDisplayDonate();\n}\n\nconst debugWriteTelegramAuth = (data) => {\n    Cookies.set(telegram_cookie_token, data);\n}\n\nconst getTelegramAuth = (raw =\n                             false) => {\n    const cookie_field = Cookies\n        .get(\n            telegram_cookie_token);\n    if (cookie_field) {\n        if (raw) {\n            return cookie_field;\n        } else if (cookie_field) {\n            return JSON.parse(\n                b64_to_utf8(\n                    cookie_field\n                ));\n        }\n    }\n}\n\nconst couponCheck = (coins = false) => {\n    let selector_c = \"\";\n    if (coins_sell_mode) {\n        selector_c = \"-c\";\n    }\n\n    const input = document\n        .getElementById(\n            \"coupon-input\" +\n            selector_c);\n    const button = document\n        .getElementById(\n            \"coupon-button\" +\n            selector_c\n        );\n    let code = \"\";\n\n    try {\n        code = input.value.trim()\n            .toUpperCase();\n    } catch (_) {\n    }\n\n    const coupon_notfd = () => {\n        notify(\n            `Купон <span class=\"text-primary fw-semibold\">${failed_coupon}</span> не найден`\n        );\n    };\n\n    const check_coupon_valid =\n        (products, product) => {\n            if (products) {\n                for (let i = 0; i <\n                products\n                    .length; i++\n                ) {\n                    if (products[i]\n                            .id ===\n                        current_c_item\n                    ) {\n                        return true;\n                    }\n                }\n            }\n            return false;\n        };\n\n    if (!code.length) {\n        notify(\n            \"Вы не указали купон\");\n        return;\n    } else if (code.length > 20) {\n        notify(\n            \"Купон слишком длинный\");\n        return;\n    } else if (!/^[A-z\\d_]+$/.test(\n        code)) {\n        notify(\n            \"Купон указан неверно\");\n        return;\n    } else if (checked_coupon ===\n        code) {\n        notify(\n            \"Этот купон уже используется\"\n        );\n        return;\n    } else if (failed_coupon ===\n        code) {\n        coupon_notfd();\n        return;\n    }\n\n    const input_lock = (lock =\n                            false) => {\n        if (lock) {\n            input.setAttribute(\n                \"disabled\",\n                \"\");\n            button.setAttribute(\n                \"disabled\",\n                \"\");\n            button.innerText =\n                \"Проверяем\";\n        } else {\n            input\n                .removeAttribute(\n                    \"disabled\");\n            button\n                .removeAttribute(\n                    \"disabled\");\n            button.innerText =\n                \"Проверить\";\n        }\n    };\n\n    input_lock(true);\n    check_coupon((r) => {\n        // console.log(`check_coupon = ${typeof r}`);\n        if (r) {\n            const call =\n                () => {\n                    checked_coupon\n                        =\n                        code;\n                    notify(\n                        `Купон <span class=\"text-primary fw-semibold\">${code}</span> действительный`\n                    );\n                };\n            if (!\n                coins_sell_mode\n            ) {\n                call();\n                donateCartCall\n                (\n                    code,\n                    false\n                );\n            } else if (\n                check_coupon_valid(\n                    r\n                        .products,\n                    current_c_item\n                )) {\n                call();\n                const sl =\n                    document\n                        .getElementById(\n                            \"donate-coins-payment\"\n                        );\n                sl.innerHTML = `<li class=\"list-group-item d-flex justify-content-between bg-light\">\n                        <div class=\"text-primary\">\n                            <h6 class=\"my-0 text-start\">Купон</h6>\n                            <small class=\"text-start\" style=\"float: left\">${code}</small>\n                        </div>\n                        <span class=\"text-muted text-end\" style=\"width: 30%\">\n                            ${r.discount}%</span>\n                    </li>`;\n            } else {\n                notify(\n                    \"Этот купон недействительный\"\n                );\n            }\n        } else {\n            failed_coupon =\n                code;\n            coupon_notfd();\n        }\n\n        input_lock();\n    }, code);\n}\n\nconst donate_enable_coupon = (enabled =\n                                  true) => {\n    const input = document\n        .getElementById(\n            \"coupon-input\");\n    const button = document\n        .getElementById(\n            \"coupon-button\");\n\n    if (enabled) {\n        input.setAttribute(\n            \"placeholder\",\n            \"BRFF\");\n        button.setAttribute(\n            \"onClick\",\n            \"couponCheck()\");\n        input.removeAttribute(\n            \"disabled\");\n        button.removeAttribute(\n            \"disabled\");\n    } else {\n        input.setAttribute(\n            \"disabled\",\n            \"\");\n        input.setAttribute(\n            \"placeholder\",\n            \"Сейчас недоступно\");\n        button.setAttribute(\n            \"disabled\",\n            \"\");\n    }\n}\n\nconst get_data_service = (\n    service_id) => {\n    for (let i = 0; i <\n    products_by_serverid\n        .length; i++) {\n        if (parseInt(\n                products_by_serverid[\n                    i].id\n            ) ===\n            parseInt(\n                service_id)\n        ) {\n            return products_by_serverid[\n                i];\n        }\n    }\n}\n\nconst generatePaymentLink = (type = 1,\n                             sum = 0) => {\n    let selector_c = \"\";\n    if (coins_sell_mode) {\n        selector_c = \"_c\";\n    }\n    const button = document\n        .getElementById(\n            \"payment-button-donate\" +\n            selector_c);\n    let customer = document\n        .getElementById(\n            \"donate_customer\" +\n            selector_c)\n        .value.trim();\n    let email = document\n        .getElementById(\n            \"donate_email\" +\n            selector_c)\n        .value.trim();\n    let coupon = \"\";\n    customer = glob_auth_player_data.NICKNAME;\n    const max_sum = 30000;\n    const local_prm =\n        '<span style=\"color: #a4a6ff\">';\n\n    try {\n        coupon = checked_coupon\n            .trim();\n    } catch (_) {\n    }\n\n    if (type === 1) {\n        if (!Number.isInteger(\n            sum) || !\n            Number.isInteger(sum)) {\n            notify(\n                \"Ошибка проверки суммы\"\n            );\n            return;\n        } else if (1 > Math.sign(\n            sum)) {\n            notify(\n                \"Сумма не может равняться нулю или меньше\"\n            );\n            return;\n        } else if (sum > max_sum) {\n            notify(\n                `Максимальная сумма - ${local_prm}${max_sum}</span>`\n            );\n            return;\n        }\n    }\n\n    if (!customer.length) {\n        notify(\n            \"Введите пожалуйста ваш никнейм\"\n        );\n        return;\n    } else if (customer.length >\n        40) {\n        notify(\n            \"Ваш никнейм слишком длинный\"\n        );\n        return;\n    } else if (customer.length < 3) {\n        notify(\n            \"Ваш никнейм слишком короткий\"\n        );\n        return;\n    } else if (!/^[A-z\\d_]+$/.test(\n        customer)) {\n        notify(\n            \"Никнейм не соотвествует формату\"\n        );\n        return;\n    }\n\n    if (!email.length) {\n        notify(\n            \"Введите пожалуйста ваш email\"\n        );\n        return;\n    } else if (!validateEmail(\n        email)) {\n        notify(\n            \"Ошибка, адрес почты недействительный\"\n        );\n        return;\n    }\n\n    if (!coupon) {\n        coupon = \"\";\n    }\n    if (coins_sell_mode) {\n        // products = JSON.parse(\n        //     `{\"${donate_services_array[type - 1].id}\": ${sum}}`\n        // );\n        products = JSON.parse(\n            `{\"${current_c_item}\": ${sum}}`\n        );\n    } else {\n        products =\n            get_cookie_cart();\n    }\n\n    button.setAttribute(\"disabled\",\n        \"\");\n    button.innerText =\n        \"Проверяем данные...\";\n\n    const _d_service =\n        get_data_service(\n            current_c_item);\n    create_payment((\n            callback_data) => {\n            if (callback_data) {\n                button\n                    .removeAttribute(\n                        \"disabled\"\n                    );\n                button\n                    .innerText =\n                    \"Оплатить\";\n                payment_url_global\n                    =\n                    callback_data\n                        .url;\n                button\n                    .setAttribute(\n                        \"onClick\",\n                        \"payment_action_bt()\"\n                    );\n            } else {\n                notify(\n                    \"Ошибка, не удалось сформировать чек для оплаты\"\n                );\n                donateResetPaymentState\n                (type,\n                    repeat =\n                        true);\n            }\n        }, customer, products,\n        _d_service.server_id,\n        email,\n        coupon);\n}\n\nconst payment_action_bt = () => {\n    window.open(payment_url_global,\n        \"_blank\");\n\n    const cart_dom = document\n        .getElementById(\n            \"donate-cart-list-success\"\n        );\n    const succ_text = document\n        .getElementById(\n            \"success-pay-text-js\");\n    const cont_ok = document\n        .getElementById(\n            \"only-ok-payment\");\n    const title = document\n        .querySelector(\n            \".modal-title\");\n\n    const build_modal_wind =\n        () => {\n            cart_dom.innerHTML = \"\";\n            title.innerText = \"\";\n            succ_text.innerText =\n                \"Давай, плати. Шеф ждёт...\";\n            cont_ok.style.display =\n                \"\";\n            document\n                .querySelector(\n                    \"img.payment-sucess-vova\"\n                )\n                .setAttribute(\"src\",\n                    \"assets/images/vova-gay.webp\"\n                );\n        };\n\n    const flush_inputs_donate =\n        () => {\n            const inputs = [\n                \"donate_sum\",\n                \"donate_customer_c\",\n                \"donate_email_c\",\n                \"coupon-input-c\",\n            ];\n            for (let i = 0; i <\n            inputs\n                .length; i++) {\n                document\n                    .getElementById(\n                        inputs[i])\n                    .value = \"\";\n            }\n        };\n\n    const enable_modal = () => {\n        switch_modal_containers(\n            \"success\");\n        modal_open_();\n        build_modal_wind();\n        donateResetPaymentState\n        ();\n        flush_inputs_donate();\n    };\n\n    enable_modal();\n}\n\nconst donate_check_services_cart =\n    () => {\n        const services_cookie = Object\n            .keys(\n                get_cookie_cart());\n        const services_origin =\n            donate_services_array;\n        const services = [];\n\n        for (let i = 0; i <\n        services_origin\n            .length; i++) {\n            services.push(\n                services_origin[i]\n                    .id);\n        }\n\n        for (let i = 0; i <\n        services_cookie\n            .length; i++) {\n            if (!services.includes(\n                parseInt(\n                    services_cookie[\n                        i]))) {\n                const cart = JSON.parse(\n                    Cookies.get(\n                        cart_cookie)\n                );\n                delete cart[parseInt(\n                    services_cookie[\n                        i])];\n                Cookies.set(cart_cookie,\n                    JSON.stringify(\n                        cart)\n                );\n                console.log(\n                    `Remove ${services_cookie[i]} from cart`\n                );\n            }\n        }\n    }\n\nconst initDonate = () => {\n    let els = {};\n\n    try {\n        els = JSON.parse(Cookies\n            .get(\n                cart_cookie));\n    } catch (_) {\n    }\n\n    donate_cart_button(els);\n    donate_enable_coupon(true);\n}\n\nconst donateCartCall = (coupon = null,\n                        nickname_update = true) => {\n    const cart = get_cookie_cart();\n    const cart_keys = Object.keys(\n        cart);\n    const cart_dom = document\n        .getElementById(\n            \"donate-cart-list\");\n    const selectors_payment = [\n        document\n            .getElementById(\n                \"donate_customer\"),\n        document.getElementById(\n            \"donate_email\"),\n        document.getElementById(\n            \"coupon-input\"),\n    ];\n    switch_modal_containers(\n        \"donate_finish\");\n    modal_open_();\n    cart_dom.innerHTML = \"\";\n    let sum_price = 0;\n\n    for (let i = 0; i <\n    selectors_payment\n        .length; i++) {\n        selectors_payment[i]\n            .addEventListener(\n                \"input\",\n                (_) => {\n                    donateResetPaymentState\n                    ();\n                });\n    }\n\n    for (let i = 0; i < cart_keys\n        .length; i++) {\n        const item =\n            donate_get_service_by_id(\n                cart_keys[i]);\n        const price = item.price *\n            cart[\n                item.id];\n        sum_price += price;\n        cart_dom.innerHTML =\n            cart_dom\n                .innerHTML + `\n            <li class=\"list-group-item d-flex justify-content-between lh-sm\">\n                <div>\n                    <h6 class=\"my-0 text-start\">\n                        <span class=\"text-primary fw-semibold\">\n                            x${item.number}</span> \n                        ${item.name}\n                    </h6>\n                    <small class=\"text-muted text-start cart-desc-td\">${item.description}</small>\n                </div>\n                <span class=\"text-muted text-end\" style=\"width: 30%\">\n                    ${price} ${getNoun(price, \"рубль\", \"рубля\", \"рублей\")}\n                    <br/>x${cart[item.id]}</span>\n            </li>\n        `;\n    }\n\n    const coupon_container =\n        () => {\n            cart_dom.innerHTML =\n                cart_dom.innerHTML + `<li class=\"list-group-item d-flex justify-content-between bg-light\">\n                <div class=\"text-primary\">\n                    <h6 class=\"my-0 text-start\">Купон</h6>\n                    <small class=\"text-start\" style=\"float: left\">${coupon}</small>\n                </div>\n            </li>`;\n        };\n\n    const sum_container = () => {\n        cart_dom.innerHTML =\n            cart_dom.innerHTML + `<li class=\"list-group-item d-flex justify-content-between\">\n                <span>Сумма</span>\n                <strong>${sum_price} ${getNoun(sum_price, \"рубль\", \"рубля\", \"рублей\")}</strong>\n            </li>`;\n    };\n\n    if (coupon) {\n        coupon_container();\n    }\n\n    sum_container();\n\n    if (nickname_update) {\n        shuffle(glob_players);\n        document\n            .querySelector(\n                \"input#donate_customer\"\n            )\n            .setAttribute(\n                \"placeholder\",\n                glob_players[0]);\n    }\n}\n\nconst donateCoinsPay = (type = 1) => {\n    const button = document\n        .getElementById(\n            \"payment-button-donate_c\"\n        );\n    let sum = document\n        .getElementById(\n            \"donate_sum\");\n\n    if (!sum.value && !/^[\\d]+$/\n        .test(\n            sum.value)) {\n        sum = 0;\n    } else {\n        sum = sum.value;\n    }\n\n    button.setAttribute(\"onClick\",\n        `generatePaymentLink(${type}, ${(type === 2) ? 1 : sum})`\n    );\n}\n\nconst donateModalCall = (type_item,\n                         item_id, nickname_update = true\n) => {\n    const sum = document\n        .getElementById(\n            \"donate_sum\");\n    const customer_field = document\n        .getElementById(\n            \"donate_customer_c\");\n    const sum_container = document\n        .getElementById(\n            \"sum-tokens-container\");\n    const email_container_classL =\n        document.getElementById(\n            \"customer-email-tokens-container\"\n        )\n            .classList;\n    const modal_payment_text =\n        document\n            .getElementById(\n                \"donate-text-span\");\n    let payment_text_form;\n    const selectors_payment = [\n        document\n            .getElementById(\n                \"donate_sum\"),\n        document\n            .getElementById(\n                \"donate_customer_c\"\n            ),\n        document.getElementById(\n            \"donate_email_c\"),\n        document.getElementById(\n            \"coupon-input-c\"),\n    ];\n    const title = document\n        .querySelector(\n            \".modal-title\");\n    let item_name;\n\n    const update_title = (\n        descriptor) => {\n        title.innerText = title\n            .innerText.replace(\n                /\\([\\s\\S]*?\\)/)\n            .trim();\n        title.innerText =\n            `${title.innerText} (${descriptor})`;\n    }\n\n    current_c_item = item_id;\n    current_c_item_name = get_data_service(item_id).name;\n\n    if (type_item === 1) {\n        sum_container.style\n            .display =\n            \"\";\n        email_container_classL\n            .remove(\n                \"col-sm-6\");\n        email_container_classL.add(\n            \"col-12\");\n        payment_text_form = `\n            Воспользовавшись этой формой, вы можете поддержать проект финансово.\n            За поддержку вы получите вознаграждение – за каждый рубль по одному игровому токену.\n        `;\n        item_name = \"Токены\";\n        sum.addEventListener(\n            \"input\",\n            (_) => {\n                donateCoinsPay\n                ();\n            });\n    } else if (type_item === 2) {\n        sum_container.style\n            .display =\n            \"none\";\n        email_container_classL\n            .remove(\n                \"col-12\");\n        email_container_classL.add(\n            \"col-sm-6\");\n        desc_get = get_data_service(current_c_item).description;\n        if (!desc_get) {\n            desc_get = \"\"\n        }\n\n        payment_text_form = `\n            Форма оплаты пожертвования для игрового проекта Zalupa.Online\n            <br/>\n            <span class=\"text-primary\">\n                ${desc_get}\n            </span>\n        `;\n        item_name = current_c_item_name;\n        customer_field\n            .addEventListener(\n                \"input\",\n                (_) => {\n                    donateCoinsPay(\n                        type_item\n                    );\n                });\n    }\n    modal_payment_text.innerHTML =\n        payment_text_form\n            .replaceAll(\n                \"\\n\", \"\");\n\n    for (let i = 0; i <\n    selectors_payment\n        .length; i++) {\n        selectors_payment[i]\n            .addEventListener(\n                \"input\",\n                (_) => {\n                    donateResetPaymentState\n                    (type_item);\n                });\n    }\n\n    switch_modal_containers(\n        \"service_coins\");\n    modal_open_();\n\n    if (nickname_update) {\n        const randomNick = false;\n        const fldSelect = document.querySelector(\"input#donate_customer_c\");\n        if (randomNick) {\n            shuffle(glob_players);\n            fldSelect\n                .setAttribute(\n                    \"placeholder\",\n                    glob_players[0]\n                );\n        } else {\n            fldSelect\n                .setAttribute(\n                    \"placeholder\",\n                    glob_auth_player_data.NICKNAME\n                );\n            fldSelect.value = glob_auth_player_data.NICKNAME;\n            fldSelect\n                .setAttribute(\"disabled\", \"\");\n        }\n    }\n\n    donateResetPaymentState(\n        type_item,\n        false, true);\n    update_title(item_name);\n}\n\nconst linksSet = (selector_,\n                  fisrt_el_mrg = false) => {\n    const sl = document\n        .getElementById(\n            selector_);\n    let mrg =\n        \"margin-left: 0 !important\";\n\n    for (let i = 0; i < links_lt\n        .length; i++) {\n        if (!fisrt_el_mrg || i) {\n            mrg = \"\";\n        }\n\n        sl.innerHTML = sl\n            .innerHTML + `<a href=\"${links_lt[i].link}\" \n                target=\"_blank\" style=\"${mrg}\"\n                class=\"btn btn-icon btn-secondary btn-${links_lt[i].name} mx-2\">\n                    <i class=\"bx bxl-${links_lt[i].name}\"></i>\n            </a>`;\n    }\n}\n\nconst initCrypto = () => {\n    if (!freeze_crypto) {\n        freeze_crypto = true;\n        crypto_token = \"\";\n        getCrypto((token_) => {\n            crypto_token =\n                token_;\n            freeze_crypto =\n                false;\n        });\n    }\n}\n\nconst initLanding = () => {\n    if (development_hosts.includes(\n            window.location.hostname\n        ) &&\n        lock_of) {\n        document.getElementById(\n            \"landing_description_gb\"\n        )\n            .innerText =\n            \"Этот сайт - preview-версия!\";\n        document.getElementById(\n            \"donate-test-mode-enb\"\n        )\n            .innerText =\n            \"Этот блок работает в демонстративном режиме и не является функциональным.\";\n    }\n\n    linksSet(\"landing-links-tp\",\n        true);\n    linksSet(\n        \"links-block-footer-v\");\n}\n\nconst finishLoad = () => {\n    document.querySelector(\"main\")\n        .setAttribute(\"style\", \"\");\n    document.querySelector(\"footer\")\n        .setAttribute(\"style\", \"\");\n    const heart =\n        '<i class=\"emoji\" style=\"background-image:url(\\'assets/images/emoji/red-heart.png\\');font-size: .7rem;bottom:-1px\"><b>❤️</b></i>';\n    document.getElementById(\n        \"footer-text-blc\")\n        .innerHTML =\n        `Создал KovalYRS с ${heart}, специально для ZALUPA.ONLINE`;\n    if (grecaptcha) {\n        document.getElementById(\n            \"re-badge-text\")\n            .innerText =\n            \"This site uses Google ReCaptcha technology\";\n    }\n}\n\nconst buildSignCN = () => {\n\n}\n\nconst observerSystemTheme = () => {\n    const mode_list = [\"dark\",\n        \"light\"\n    ];\n    const theme_switch = document\n        .querySelector(\n            '[data-bs-toggle=\"mode\"]'\n        )\n        .querySelector(\n            \".form-check-input\");\n\n    const updateTheme = (mode) => {\n        if (mode === \"dark\") {\n            root.classList.add(\n                \"dark-mode\");\n            theme_switch\n                .checked =\n                true;\n        } else {\n            root.classList\n                .remove(\n                    \"dark-mode\"\n                );\n            theme_switch\n                .checked =\n                false;\n        }\n    };\n\n    for (let i = 0; i < mode_list\n        .length; i++) {\n        const observer = window\n            .matchMedia(\n                `(prefers-color-scheme: ${mode_list[i]})`\n            );\n        observer.addEventListener(\n            \"change\", (e) => e\n                    .matches &&\n                updateTheme(\n                    mode_list[i]));\n    }\n}\n\nconst callSucessPayModal = (payment_id =\n                                0) => {\n    let glob_func_payment_data;\n    const item_nm_payment_result =\n        false;\n\n    const cart_dom = document\n        .getElementById(\n            \"donate-cart-list-success\"\n        );\n    const succ_text = document\n        .getElementById(\n            \"success-pay-text-js\");\n    const cont_ok = document\n        .getElementById(\n            \"only-ok-payment\");\n    const title = document\n        .querySelector(\n            \".modal-title\");\n\n    donateSwitchContainer(true);\n\n    const item_type_ = (\n        product_name) => {\n        const t = (product_name)\n            .toLowerCase();\n\n        if (t.includes(\n            \"токен\")) {\n            return 1;\n        } else {\n            return 2;\n        }\n    }\n\n    const update_pm_desc = () => {\n        const img_product =\n            glob_func_payment_data\n                .product.image;\n        const name_product =\n            glob_func_payment_data\n                .product.name;\n\n        if (img_product &&\n            img_product.length\n        ) {\n            document\n                .querySelector(\n                    \".payment-sucess-vova\"\n                )\n                .src =\n                img_product;\n            const\n                name_selector =\n                    document\n                        .querySelector(\n                            \".item-name-payment-result\"\n                        );\n            if (\n                item_nm_payment_result\n            ) {\n                name_selector\n                    .innerText =\n                    name_product;\n            } else {\n                name_selector\n                    .style\n                    .marginBottom =\n                    \"4vh\";\n            }\n        }\n    }\n\n    const buildPayment = (\n        payment) => {\n        if (payment.status &&\n            payment_id ==\n            parseInt(\n                payment.id)) {\n            glob_func_payment_data\n                =\n                payment;\n            succ_text\n                .innerText =\n                \"Оплата прошла успешно, Шеф доволен, спасибо тебе.\";\n            cont_ok.style\n                .display =\n                \"\";\n\n            const private_gift_button = document.createElement(\"button\");\n            private_gift_button.id = \"private_gift_button_modal\";\n            private_gift_button.setAttribute(\"class\", \"btn btn-primary shadow-primary btn-lg mb-2 btn-shadow-hide\");\n            private_gift_button.innerText = \"button::init\";\n\n            const item_type =\n                item_type_(\n                    payment\n                        .product\n                        .name);\n\n            let system_template = `\n                <li class=\"list-group-item d-flex justify-content-between lh-sm\">\n                    <div>\n                        <h6 class=\"my-0 text-start\">\n                            Система\n                        </h6>\n                    </div>\n                    <span>${payment.payment_system}</span>\n                </li>\n            `;\n\n            let sum_template = `\n                <li class=\"list-group-item d-flex justify-content-between\">\n                    <span>Сумма зачисления</span>\n                    <strong class=\"bottom-line-set bottom-line-set-zlp color-set-zlp\">${payment.enrolled} ${getNoun(payment.enrolled, \"рубль\", \"рубля\", \"рублей\")}</strong>\n                </li>\n            `;\n\n            if (\n                coins_sell_mode) {\n                if (item_type ===\n                    1) {\n                    sum_template\n                        = `\n                        <li class=\"list-group-item d-flex justify-content-between\">\n                            <span>Сумма</span>\n                            <strong class=\"bottom-line-set bottom-line-set-zlp color-set-zlp\">${payment.enrolled} ${getNoun(payment.enrolled, \"токен\", \"токена\", \"токенов\")}</strong>\n                        </li>\n                    `;\n                } else if (\n                    item_type ===\n                    2\n                ) {\n                    sum_template\n                        = `\n                        <li class=\"list-group-item d-flex justify-content-between\">\n                            <span>Сумма</span>\n                            <strong class=\"bottom-line-set bottom-line-set-zlp color-set-zlp\">${payment.product.price} ${getNoun(payment.enrolled, \"рубль\", \"рубля\", \"рублей\")}</strong>\n                        </li>\n                    `;\n                    document.querySelector(\"div.modal-footer\").prepend(private_gift_button);\n                }\n            }\n\n            if (!payment\n                    .enrolled ||\n                payment\n                    .enrolled < 1\n            ) {\n                sum_template =\n                    \"\";\n            }\n            if (!payment.email\n                    .length ||\n                payment\n                    .email.match(\n                    \"undefined\")\n            ) {\n                payment.email =\n                    \"Ну указано\";\n            }\n            if (!payment\n                    .payment_system ||\n                payment\n                    .payment_system\n                    .match(\n                        \"undefined\")\n            ) {\n                system_template\n                    =\n                    \"\";\n            }\n            if (!payment\n                .created_at || !\n                payment\n                    .created_at\n                    .length) {\n                payment\n                    .created_at =\n                    \"Неизвестно\";\n            } else {\n                const\n                    parsed_time =\n                        new Date(\n                            payment\n                                .created_at\n                        );\n                payment\n                    .created_at =\n                    `${parsed_time.toLocaleDateString()} ${parsed_time.toLocaleTimeString()}`;\n            }\n\n            let template_invite_link = \"\";\n            if (payment.private_invite) {\n                template_invite_link = `\n                    <li class=\"list-group-item d-flex justify-content-between lh-sm mb-2 mb-lg-3 mt-4 mt-lg-5\">\n                        <a href=\"${payment.private_invite}\" id=\"private-chat-button\" target=\"_blank\" style=\"margin:auto\"\n                                   class=\"btn btn-primary shadow-primary btn-lg btn-shadow-hide\">\n                                Приглашение в приватный чат <i class=\"ms-1 bx bxl-telegram\"></i></a>\n                    </li>\n                `;\n            }\n\n            cart_dom.innerHTML = `\n                <li class=\"list-group-item d-flex justify-content-between lh-sm\">\n                    <div>\n                        <h6 class=\"my-0 text-start\">\n                            Никнейм\n                        </h6>\n                    </div>\n                    <span>${payment.customer}</span>\n                </li>\n                <li class=\"list-group-item d-flex justify-content-between lh-sm\">\n                    <div>\n                        <h6 class=\"my-0 text-start\">\n                            Почта\n                        </h6>\n                    </div>\n                    <span>${payment.email}</span>\n                </li>\n                ${system_template}\n                <li class=\"list-group-item d-flex justify-content-between lh-sm\">\n                    <div>\n                        <h6 class=\"my-0 text-start\">\n                            Время\n                        </h6>\n                    </div>\n                    <span>${payment.created_at}</span>\n                </li>\n                ${sum_template}\n                ${template_invite_link}\n            `;\n        } else {\n            succ_text\n                .innerText =\n                \"Чек неоплачен, Шеф недоволен.\";\n            document\n                .querySelector(\n                    \"img.payment-sucess-vova\"\n                )\n                .setAttribute(\n                    \"src\",\n                    \"assets/images/vova-fail.webp\"\n                );\n        }\n    };\n\n    const enable_modal = (\n        payment) => {\n        buildPayment(payment);\n        switch_modal_containers(\n            \"success\");\n        modal_open_();\n\n        // updaters\n        update_pm_desc();\n    };\n\n    checkPayment((payment) => {\n        if (typeof payment\n                .status !==\n            \"undefined\") {\n            enable_modal(\n                payment);\n            title\n                .innerText =\n                `Чек #${payment.id}`;\n        } else {\n            notify(\n                \"Ошибка, чек не найден или EasyDonate вернул недействительный ответ\"\n            );\n        }\n    }, payment_id);\n}\n\nconst successPay = () => {\n    const url = new URL(window\n        .location\n        .href)\n        .searchParams;\n    const payment_id = url.get(\n        \"pg_order_id\");\n\n    if (payment_id) {\n        callSucessPayModal(\n            payment_id);\n    }\n}\nconst displayPromotion = () => {\n    const selector = document.querySelector(\"div.promotion-header\");\n    const main = document.querySelector(\"main\");\n\n    requestCall((promotion) => {\n            if (promotion.active) {\n                const text = promotion.text;\n\n                selector.style.minHeight = \"40px\";\n                selector.style.height = \"100%\";\n                selector.setAttribute(\n                    \"onclick\",\n                    `clipboardFunc(\"input.promotionInput\", \"Промокод <span class=\\\\\"text-primary\\\\\" style=\\\\\"font-weight:800\\\\\">${promotion.var}</span> скопирован в буфер обмена.\")`\n                );\n                selector.innerHTML = `\n                <p class=\"text-center\" style=\"color:#fff!important;line-height:200%\">${text}</p>\n                <input class=\"promotionInput\" value=\"${promotion.var}\" style=\"display:none\">\n            `;\n\n                const s_text = document.querySelector(\"div.promotion-header>p\").style;\n                s_text.marginBottom = \"0\";\n                s_text.paddingRight = \"1.25rem\";\n                s_text.paddingLeft = \"1.25rem\";\n                s_text.paddingTop = \".18rem\";\n\n                // main.style.paddingTop = \"50px\";\n            }\n        },\n        \"assets/data/promotion.json\",\n        \"GET\", true\n    );\n}\nconst adaptiveDisplayLand = () => {\n    const updater = () => {\n        const header_height = document.querySelector(\"header\").offsetHeight;\n        // const d_h = header_height / 2;\n        const container = document.getElementById(\"head-container\");\n\n        const vova_pc_version = document.querySelector(\"div.vova-bg-landing\");\n        const vova_pc_version_mask = document.querySelector(\"div.vova-bg-landing-mask\");\n\n        if (first_init_head_adapt === 0 && first_init_head_adapt_vova === 0) {\n            first_init_head_adapt = container.offsetHeight;\n            first_init_head_adapt_vova = vova_pc_version.offsetHeight;\n        }\n\n        container.style.height = `${first_init_head_adapt - header_height}px`;\n        vova_pc_version.style.height = `${first_init_head_adapt_vova - header_height}px`;\n        vova_pc_version_mask.style.height = `${first_init_head_adapt_vova - header_height}px`;\n        container.style.marginTop = `${header_height}px`;\n    }\n\n    updater();\n    setInterval(updater, 100);\n}\nconst clipboardFunc = (field_selector, notify_text) => {\n    const copyText = document.querySelector(field_selector);\n\n    copyText.select();\n    copyText.setSelectionRange(0, 99999);\n\n    navigator.clipboard.writeText(copyText.value);\n\n    notify(notify_text)\n    return copyText.value;\n}\nconst spClownLoad = () => {\n    const buttons = document.getElementById(\"zlp_land_buttons\");\n    const button_template = `\n        <button onclick=\"spClownShow()\" \n                class=\"col btn btn-primary shadow-primary btn-lg me-sm-3 me-xl-4 mb-3 btn-shadow-hide\">\n            Я люблю СП\n        </button>\n    `;\n\n    getImageLightness(\"assets/images/Clown-Face.gif\", undefined, false);\n    buttons.innerHTML = buttons.innerHTML + button_template;\n}\n\nconst spClownShow = () => {\n    lock_sticker_switch = true;\n    setTimeout(function () {\n        lock_sticker_switch = false\n    }, 3500);\n\n    setSticker(0, 0, \"assets/images/emoji/clown-face.png\");\n    notify(\"На хуй отсюда иди тогда\");\n}\n\nconst donateContainerHash = () => {\n    observerContainerHash([\"donate\",\n            \"donate_block\"\n        ],\n        () => {\n            donate_displayed =\n                true;\n            donateSwitchContainer\n            (\n                donate_displayed\n            );\n        });\n}\n\nconst rulesModalOpen = () => {\n    let content = \"\";\n    get_rules_private_server((\n        rules) => {\n        for (let i = 0; i <\n        rules\n            .length; i++) {\n            content += `\n                    <li class=\"list-group-item d-flex justify-content-between lh-sm\">\n                        <div>\n                            <h6 class=\"my-0 text-start\">\n                                ${i + 1}\n                            </h6>\n                        </div>\n                        <span class=\"ps-2 pe-2 text-start\">${rules[i].text}</span>\n                    </li>\n                `;\n        }\n        switch_modal_containers\n        (\n            \"info\", {\n                title: \"Правила приватного сервера\",\n                content: `\n                <ul class=\"list-group mb-4 mb-lg-5\">\n                    ${content}\n                </ul>\n            `\n            });\n        modal_open_();\n    });\n}\n\nconst rulesPrivateContainerHash =\n    () => {\n        observerContainerHash([\n                \"private_rules\"\n            ],\n            () => {\n                rulesModalOpen();\n            });\n    }\n\nconst openAdminContact = () => {\n    checkTelegramAuthData((\n        data) => {\n        if (data || feedback_tg_auth_skip) {\n            if (!glob_players.length) {\n                glob_players = [\"Player\"];\n            }\n            shuffle(glob_players);\n            switch_modal_containers\n            (\"info\", {\n                title: \"Обратная связь\",\n                content: `\n                        <p class=\"mb-2 mb-lg-3 mb-xl-4 text-start\">\n                            Это форма для предложений и жалоб, опишите пожалуйста кратко и \n                            ясно свою идею или предложение без воды.\n                        </p>\n                        <div class=\"row mb-3\">\n                            <div id=\"customer-tokens-container\" class=\"col-md-6\">\n                                <label for=\"feedback_nickname_init\" class=\"form-label\">Никнейм</label>\n                                <input type=\"text\" class=\"form-control\" id=\"feedback_nickname_init\" placeholder=\"${glob_players[0]}\" value=\"\" required=\"\">\n                            </div>\n                            <div id=\"customer-tokens-container\" class=\"col-md-6\">\n                                <label for=\"feedback_reason_init\" class=\"form-label\">Причина</label>\n                                <select name=\"feedback_reason_init\" class=\"form-control\" id=\"feedback_reason_init\" value=\"game_question\" required=\"\">\n                                    <option value=\"tech_problem\">Технические проблемы</option>\n                                    <option value=\"game_question\">Вопрос по игре</option>\n                                    <option value=\"player_report\">Жалоба на игрока</option>\n                                    <option value=\"offer\">Предложение</option>\n                                </select>\n                            </div>\n                        </div>\n                        <div id=\"contant-input-container\">\n                            <label for=\"admin-message\">0/0</label>\n                            <textarea id=\"admin-message\" name=\"admin-message\" class=\"form-control\" maxlength=\"0\">\n                            </textarea>\n                        </div>\n                        <button onclick=\"sendFeedbackAction()\" class=\"w-100 btn btn-primary btn-lg btn-shadow-hide mt-3 mt-lg-4\" id=\"send-feedback-button\" type=\"button\">\n                            Отправить\n                        </button>\n                    `\n            });\n            const max_len =\n                3000;\n            const textarea =\n                document\n                    .getElementById(\n                        \"admin-message\"\n                    );\n            const label =\n                document\n                    .querySelector(\n                        'label[for=\"admin-message\"]'\n                    );\n            const space =\n                \" \";\n            if (textarea\n                .value\n                .includes(\n                    space\n                        .repeat(\n                            3))\n            ) {\n                textarea\n                    .value =\n                    textarea\n                        .value\n                        .trim();\n            }\n            textarea\n                .maxLength =\n                max_len;\n            const\n                update_len_counter =\n                    () => {\n                        label\n                            .innerText =\n                            `${textarea.value.length}/${max_len}`;\n                    }\n            update_len_counter\n            ();\n            addEventListener\n            (\n                \"keydown\",\n                (\n                    _\n                ) =>\n                    update_len_counter()\n            );\n            addEventListener\n            (\n                \"keyup\",\n                (\n                    _\n                ) =>\n                    update_len_counter()\n            );\n            modal_open_(\n                onclick_lock =\n                    true);\n        } else {\n            console.log(\n                \"Error check Telegram auth\"\n            );\n            openTelegramAuthModal\n            ();\n            notify(\n                \"Вам необходимо авторизоватся для этой функции\"\n            );\n        }\n    });\n}\nconst initSOptimizeGA = () => {\n    window.dataLayer = window.dataLayer || [];\n\n    function gtag() {\n        dataLayer.push(arguments);\n    }\n\n    gtag('js', new Date());\n\n    gtag('config', 'G-VGRQSK1J7M');\n}\nconst adminsContactContainerHash =\n    () => {\n        observerContainerHash([\n            \"contact\",\n            \"support\", \"bug\",\n            \"report\"\n        ], () => {\n            openAdminContact();\n        });\n    }\n\nconst observerContainerHash = (\n    hash_array, action) => {\n    const updater = () => {\n        if (hash_array.includes(\n            linkHash())) {\n            action();\n        }\n    };\n\n    updater();\n    addEventListener(\n        'hashchange', (_) =>\n            updater());\n}\n\nconst openTelegramAuthModal = (skip_check = false) => {\n    checkTelegramAuthData(function (tg_success) {\n        if (!tg_success) {\n            console.log(\n                \"Telegram auth preparing...\"\n            );\n            // modal_close_();\n            const script_telegram_widget =\n                document.createElement(\n                    'script');\n\n            script_telegram_widget.src =\n                \"https://telegram.org/js/telegram-widget.js?21\";\n            script_telegram_widget\n                .setAttribute(\n                    \"async\", \"\");\n            script_telegram_widget\n                .setAttribute(\n                    \"data-telegram-login\",\n                    telegram_bot_username);\n            script_telegram_widget\n                .setAttribute(\n                    \"data-size\", \"large\");\n            script_telegram_widget\n                .setAttribute(\n                    \"data-radius\", \"8\");\n            script_telegram_widget\n                .setAttribute(\n                    \"data-onauth\",\n                    \"onTelegramAuth(user)\");\n            script_telegram_widget\n                .setAttribute(\"data-request-access\", \"write\");\n\n            script_telegram_widget.onload =\n                () => {\n                    switch_modal_containers(\n                        \"info\", {\n                            title: \"\",\n                            content: \"\"\n                        });\n                    modal_open_();\n                }\n\n            const content = document\n                .getElementById(\n                    \"info-content-modal\");\n            const container = document\n                .createElement(\"div\");\n            const text = document\n                .createElement(\n                    \"p\");\n\n            content.innerHTML = \"\";\n            content.appendChild(container);\n            content.appendChild(text);\n            text.innerHTML = `\n                Для некоторых функций на этом сайте необходимо авторизироваться. \n                Мы не получим никаких конфиденциальных данных о вас, например, \n                ваш номер или локацию, это нужно только для того, чтобы Telegram \n                подтвердил, что вы являетесь владельцем своего аккаунта. Также \n                не забудьте связать свой аккаунт Telegram с игровым аккаунтом \n                в <a href=\"${telegram_social_bot}\" target=\"_blank\" class=\"text-primary\">нашем боте</a>.\n            `;\n\n            text.setAttribute(\"class\",\n                \"text-start px-3 pt-1 pt-lg-2\"\n            );\n            container.id =\n                \"telegram-auth-container\";\n            container.appendChild(\n                script_telegram_widget);\n        }\n    }, skip_check);\n}\n\nconst openLoginHint = () => {\n    const content = document\n        .getElementById(\n            \"info-content-modal\");\n    const container = document\n        .createElement(\"div\");\n    const text = document\n        .createElement(\n            \"p\");\n\n    content.innerHTML = \"\";\n    content.appendChild(container);\n    content.appendChild(text);\n    text.innerHTML = `\n                Похоже что ты не прочитал текст в первом окне авторизации,\n                повторим процедуру. Чтобы завершить авторизацию на сайте - тебе нужно \n                связать свой Telegram с своим игровым аккаунтом в&nbsp;\n                <a href=\"${telegram_social_bot}\" target=\"_blank\" class=\"text-primary\">нашем боте</a>.\n            `;\n\n    text.setAttribute(\"class\",\n        \"text-start px-3 pt-1 pt-lg-2\"\n    );\n    container.id =\n        \"telegram-auth-hint\";\n\n    notify(\n        \"Прочитай внимательно инструкцию!\"\n    );\n\n    switch_modal_containers(\n        \"info\", {\n            title: \"Помощь авторизации\",\n            content: \"\"\n        });\n    modal_open_();\n}\n\nconst initJarallax = () => {\n    jarallax(document\n        .querySelectorAll(\n            '.jarallax'), {\n        speed: .15,\n        type: \"scale-opacity\"\n    });\n}\n\nconst initTooltip = () => {\n    const tooltipTriggerList = []\n        .slice\n        .call(document\n            .querySelectorAll(\n                '[data-bs-toggle=\"tooltip\"]'\n            ));\n    const tooltipList =\n        tooltipTriggerList\n            .map((\n                tooltipTriggerEl\n            ) => {\n                tooltip_instance =\n                    new bootstrap\n                        .Tooltip(\n                            tooltipTriggerEl, {\n                                template: `\n                                <div class=\"tooltip\" role=\"tooltip\">\n                                    <div class=\"tooltip-inner\"></div>\n                                </div>\n                            `,\n                            });\n            });\n\n    if (tooltip_instance) {\n        setInterval(() => {\n            tooltip_instance\n                .update();\n        }, 1000);\n    }\n}\n\nconst initSmoothScrollObserver = () => {\n    const scrollerObject =\n        new SmoothScroll(\"section\");\n\n    const callScroller = () => {\n        const identifier =\n            linkHash()\n                .toLowerCase();\n\n        if (!(identifier &&\n            identifier\n                .length\n        ) || ([\n            \"private_rules\"\n        ].includes(identifier))) {\n            return;\n        }\n\n        try {\n            scrollerObject.animateScroll(\n                document.querySelector(`section[id=\"${identifier}\"]`\n                ), null, {offset: 50});\n        } catch (_) {\n            return;\n        }\n    }\n\n    callScroller();\n    window.onhashchange =\n        callScroller;\n}\n\nconst privateServerModuleInit = () => {\n    const desc = document.getElementById(\"private-server-hub-description\");\n\n    desc.innerHTML = `\n        Проект Zalupa.Online за период своего существования от единого сервера\n        Анархии перерос в проект с несколькими режимами, один из таких – приватный\n        сервер с ванильным выживанием. Особенность этого сервера, что туда попадают\n        только те, кто поддержал сервер финансово. Также единственный режим, где вы\n        можете быть на уровне с администрацией, ведь здесь можно играть только с\n        правами обычного игрока, никаких привилегий. Также не забудь\n        <a class=\"text-gradient-primary\" href=\"#private_rules\" onclick=\"rulesModalOpen()\">\n            прочитать правила</a>.\n    `;\n}\n\nconst tonyComeBack = () => {\n    const selector = document.getElementById(\"AppleTony_comeback_days\");\n\n    const update_days = (days_count) => {\n        selector.innerText = `${days_count} ${getNoun(\n            days_count, \"день\", \"дня\", \"дней\"\n        )}`;\n    }\n\n    const date1 = new Date();\n    const date2 = new Date(\"11/30/2023\");\n\n    const differenceInTime = date2.getTime() - date1.getTime();\n    const differenceInDays = parseInt(differenceInTime / (1000 * 3600 * 24));\n\n    update_days(differenceInDays);\n    setInterval(function () {\n        update_days(differenceInDays)\n    }, 9999);\n}\n\nconst autoAuthTelegramObserver = () => {\n    if (telegram_auth_enabled) {\n        document.getElementById(\"telegram-auth-avatar\")\n            .style.display = \"\";\n    }\n    checkTelegramAuthData((\n        success) => {\n        console.debug(\n            `Telegram auth check status : ${success}`\n        );\n        if (success) {\n            const\n                button_contact_land =\n                    document\n                        .getElementById(\n                            \"contact-button-land\"\n                        );\n            const\n                button_auth =\n                    document\n                        .querySelector(\n                            \".avatar-container\"\n                        );\n            const\n                telegram_auth_avatar =\n                    document\n                        .getElementById(\n                            \"telegram-auth-avatar\"\n                        );\n\n            button_auth\n                .removeAttribute(\n                    \"onclick\"\n                );\n            if (feedback_module_enabled) {\n                button_contact_land\n                    .style\n                    .display =\n                    \"\";\n            }\n            telegram_auth_avatar\n                .style\n                .display =\n                \"\";\n            setAvatar(getTelegramAuth());\n        }\n    });\n    setInterval(displayTokens, 300);\n}\n\nconst initCore = () => {\n    initHost();\n    initCrypto();\n    getIPClient(function () {});\n    initLanding();\n    observerSystemTheme();\n    buildPlayersSwiper();\n    buildDonateHistorySwiper();\n    appendPostsNews();\n    initComments();\n    appendServices();\n    updateCartCount();\n    gameServerUpdater();\n    initDonate();\n    initEventsList();\n    initJarallax();\n    finishLoad();\n    successPay();\n    ytVideoSetter();\n    setRandomStickerLand();\n\n    donateContainerHash();\n    rulesPrivateContainerHash();\n    adminsContactContainerHash();\n\n    privateServerModuleInit();\n\n    autoAuthTelegramObserver();\n\n    tonyComeBack();\n    displayPromotion();\n    adaptiveDisplayLand();\n\n    const elem = document\n        .getElementById(\n            \"dark-perm-set-bv\");\n    elem.parentNode.removeChild(\n        elem);\n\n    window.onload = () => {\n        if (!debug_lock_init) {\n            const preloader =\n                document\n                    .querySelector(\n                        \".page-loading\"\n                    );\n            const wait = 1500;\n            const move_wait =\n                100;\n            setTimeout(\n                () => {\n                    preloader\n                        .classList\n                        .remove(\n                            \"active\"\n                        );\n                    if (!\n                        donate_displayed\n                    ) {\n                        document\n                            .body\n                            .style\n                            .overflowY =\n                            \"\";\n                    }\n                    window\n                        .scrollTo({\n                            top: 0,\n                        });\n                }, wait);\n            setTimeout(\n                () => {\n                    preloader\n                        .remove();\n\n                    // after tasks\n                    initTooltip\n                    ();\n                    initSmoothScrollObserver\n                    ();\n                }, wait +\n                move_wait);\n        }\n    };\n};\n\nscript_core.onload = () => {\n    initCore();\n};"]}