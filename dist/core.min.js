"use strict";

var _this = void 0;
function _createForOfIteratorHelper(a, b) {
  var c = "undefined" !== typeof Symbol && a[Symbol.iterator] || a["@@iterator"];
  if (!c) {
    if (Array.isArray(a) || (c = _unsupportedIterableToArray(a)) || b && a && "number" === typeof a.length) {
      c && (a = c);
      var d = 0;
      b = function b() {};
      return {
        s: b,
        n: function n() {
          return d >= a.length ? {
            done: !0
          } : {
            done: !1,
            value: a[d++]
          };
        },
        e: function e(h) {
          throw h;
        },
        f: b
      };
    }
    throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
  }
  var e = !0,
    _f = !1,
    g;
  return {
    s: function s() {
      c = c.call(a);
    },
    n: function n() {
      var h = c.next();
      e = h.done;
      return h;
    },
    e: function e(h) {
      _f = !0;
      g = h;
    },
    f: function f() {
      try {
        if (!e && null != c["return"]) c["return"]();
      } finally {
        if (_f) throw g;
      }
    }
  };
}
function _toConsumableArray(a) {
  return _arrayWithoutHoles(a) || _iterableToArray(a) || _unsupportedIterableToArray(a) || _nonIterableSpread();
}
function _nonIterableSpread() {
  throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}
function _unsupportedIterableToArray(a, b) {
  if (a) {
    if ("string" === typeof a) return _arrayLikeToArray(a, b);
    var c = Object.prototype.toString.call(a).slice(8, -1);
    "Object" === c && a.constructor && (c = a.constructor.name);
    if ("Map" === c || "Set" === c) return Array.from(a);
    if ("Arguments" === c || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)) return _arrayLikeToArray(a, b);
  }
}
function _iterableToArray(a) {
  if ("undefined" !== typeof Symbol && null != a[Symbol.iterator] || null != a["@@iterator"]) return Array.from(a);
}
function _arrayWithoutHoles(a) {
  if (Array.isArray(a)) return _arrayLikeToArray(a);
}
function _arrayLikeToArray(a, b) {
  if (null == b || b > a.length) b = a.length;
  for (var c = 0, d = Array(b); c < b; c++) d[c] = a[c];
  return d;
}
var site_domains = {
    prod: domain_site,
    dev: development_hosts[0],
    test: development_hosts[1]
  },
  cart_cookie = "cart_box",
  channels = 2,
  links_lt = [{
    name: "twitch",
    link: "https://www.twitch.tv/bratishkinoff"
  }, {
    name: "youtube",
    link: "https://www.youtube.com/channel/UC_-kIftWIXsTrVXZy0lJdXQ"
  }, {
    name: "telegram",
    link: "https://t.me/zalupaonline"
  }, {
    name: "discord",
    link: "https://discord.gg/qEqbVbMeEx"
  }, {
    name: "tiktok",
    link: "https://www.tiktok.com/@nebratishkin"
  }],
  launcher_platforms = {
    mac: "https://github.com/Zalupa-Online/launcher-releases/releases/download/1.0.5/ZalupaLauncher_1.0.5_x64.dmg",
    linux: "https://github.com/Zalupa-Online/launcher-releases/releases/download/1.0.5/zalupa-launcher_1.0.5_amd64.deb",
    windows: "https://github.com/Zalupa-Online/launcher-releases/releases/download/1.0.5/ZalupaLauncher_1.0.5_x64_en-US.msi"
  },
  lock_of = !0,
  coins_sell_mode = !0,
  donate_services_array = [],
  notify_hidden = !0,
  glob_players = [],
  glob_events_status = !1,
  timer_notify,
  swiper_comments,
  payment_url_global,
  checked_coupon = "",
  failed_coupon = "",
  crypto_token = "",
  tooltip_instance,
  events_page_state = "news",
  donate_displayed = !1,
  modal_displayed = !1,
  freeze_crypto = !1,
  freeze_monitoring = !1,
  lock_sticker_switch = !1,
  gameServerUpdater_setter,
  work_domain_v = "zalupa.online",
  products_by_serverid = [],
  glob_auth_player_data = [],
  current_c_item = 0,
  current_c_item_name = "",
  telegram_cookie_token = "telegram_auth",
  first_init_head_adapt = 0,
  first_init_head_adapt_vova = 0,
  client_ip = "",
  telegram_glob_session = {
    auth_data: null,
    response: null
  },
  telegram_social_bot = "https://t.me/ZalupaScBot",
  debug_lock_init = !1,
  telegram_auth_enabled = !0,
  feedback_module_enabled = !1,
  feedback_tg_auth_skip = !0,
  tokens_system_enabled = !1,
  initHost = function initHost() {
    for (var a = Object.keys(site_domains), b = 0; b < a.length; b++) site_domains[a[b]] === window.location.hostname && (work_domain_v = site_domains[a[b]]);
  },
  linkHash = function linkHash() {
    return window.location.hash.substring(1);
  },
  prepare_img_link = function prepare_img_link(a) {
    return a.replace("https://", "//").replaceAll(/\//g, "\\/");
  },
  time_correction = function time_correction(a) {
    var b = 6E4 * -a.getTimezoneOffset();
    return new Date(a.getTime() - b);
  },
  time_in_moscow_get = function time_in_moscow_get() {
    var a = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : null;
    a || (a = new Date());
    return new Date(a.toLocaleString("en-US", {
      timeZone: "Europe/Moscow"
    }));
  },
  getOffset = function getOffset(a, b) {
    try {
      60 * -new Date(a).toLocaleString([], {
        timeZone: b,
        timeZoneName: "shortOffset"
      }).match(/(?:GMT|UTC).+/)[0];
    } catch (c) {
      return console.error("getOffset : ".concat(c)), 0;
    }
  },
  formatDate = function formatDate(a) {
    var b = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : null,
      c = new Date() - a;
    b && (c = b - a);
    if (1E3 > c) return "\u043F\u0440\u044F\u043C\u043E \u0441\u0435\u0439\u0447\u0430\u0441";
    b = Math.floor(c / 1E3);
    if (60 > b) return b + " ".concat(getNoun(b, "\u0441\u0435\u043A\u0443\u043D\u0434\u0443", "\u0441\u0435\u043A\u0443\u043D\u0434\u044B", "\u0441\u0435\u043A\u0443\u043D\u0434"), " \u043D\u0430\u0437\u0430\u0434");
    b = Math.floor(c / 6E4);
    if (60 > b) return b + " ".concat(getNoun(b, "\u043C\u0438\u043D\u0443\u0442\u0443", "\u043C\u0438\u043D\u0443\u0442\u044B", "\u043C\u0438\u043D\u0443\u0442"), " \u043D\u0430\u0437\u0430\u0434");
    c = Math.floor(c / 36E5);
    if (24 > c) return c + " ".concat(getNoun(c, "\u0447\u0430\u0441", "\u0447\u0430\u0441\u0430", "\u0447\u0430\u0441\u043E\u0432"), " \u043D\u0430\u0437\u0430\u0434");
    c = a;
    c = ["0" + c.getDate(), "0" + (c.getMonth() + 1), "" + c.getFullYear(), "0" + c.getHours(), "0" + c.getMinutes()].map(function (d) {
      return d.slice(-2);
    });
    return c.slice(0, 3).join(".") + " " + c.slice(3).join(":");
  },
  utf8_to_b64 = function utf8_to_b64(a) {
    return window.btoa(unescape(encodeURIComponent(a)));
  },
  b64_to_utf8 = function b64_to_utf8(a) {
    return decodeURIComponent(escape(window.atob(a)));
  },
  randDiaps = function randDiaps() {
    return Math.floor(Math.random() * (0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : 10)) + 1;
  },
  getPlatform = function getPlatform() {
    return 0 === navigator.platform.indexOf("Mac") || "iPhone" === navigator.platform ? "mac" : 0 === navigator.platform.indexOf("Linux") ? "linux" : "windows";
  },
  downloadLauncher = function downloadLauncher() {
    var a = launcher_platforms[getPlatform()];
    window.location = a;
    console.debug("Init downloading file from url : ".concat(a));
  },
  generateRandomHex = function generateRandomHex(a) {
    return _toConsumableArray(Array(a)).map(function () {
      return Math.floor(16 * Math.random()).toString(16);
    }).join("");
  },
  getAvatarColorIDforTG = function getAvatarColorIDforTG(a) {
    for (var b = 0, c = 1; 0 < a;) b += a % 7 * c, c *= 10, a = Math.floor(a / 7);
    return parseInt(b.toString().slice(-1));
  },
  getHash = function getHash(a) {
    a = window.location.hash.substr(1);
    return Object.keys(a.split("&").reduce(function (b, c) {
      c = c.split("=");
      b[c[0]] = c[1];
      return b;
    }, {}))[0];
  },
  re_check = function re_check(a) {
    grecaptcha.ready(function () {
      grecaptcha.execute(re_token, {
        action: "submit"
      }).then(function (b) {
        a(b);
      });
    });
  },
  shuffle = function shuffle(a) {
    for (var b = a.length, c; 0 !== b;) {
      c = Math.floor(Math.random() * b);
      b--;
      var d = [a[c], a[b]];
      a[b] = d[0];
      a[c] = d[1];
    }
    return a;
  },
  alternateSort = function alternateSort(a) {
    for (var b, c, d = 0; d < a.length; d++) {
      b = d;
      c = a[d];
      for (var e = d + 1; e < a.length; e++) a[e] < c && (c = a[e], b = e);
      c < a[d] && (c = a[d], a[d] = a[b], a[b] = c);
    }
  },
  getImageLightness = function getImageLightness(a, b) {
    var c = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : !0,
      d = document.createElement("img");
    d.src = a;
    d.crossOrigin = "Anonymous";
    d.style.display = "none";
    document.body.appendChild(d);
    var e = 0;
    c && (d.onload = function () {
      var f = document.createElement("canvas");
      f.width = _this.width;
      f.height = _this.height;
      var g = f.getContext("2d");
      try {
        g.drawImage(_this, 0, 0), g.getImageData(0, 0, f.width, f.height);
      } catch (n) {
        b(null);
        return;
      }
      f = imageData.data;
      g = 0;
      for (var h = f.length; g < h; g += 4) {
        var k = f[g];
        var m = f[g + 1];
        var l = f[g + 2];
        k = Math.floor((k + m + l) / 3);
        e += k;
      }
      b(Math.floor(e / (_this.width * _this.height)));
      d.remove();
    });
  },
  is_apple_platform = function is_apple_platform() {
    if (/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)) return !0;
  },
  validateEmail = function validateEmail(a) {
    return String(a).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/);
  },
  url_builder_ = function url_builder_(a, b) {
    a = new URL(a);
    for (var c = 0; c < b.length; c++) a.searchParams.set(b[c].name, b[c].value);
    return a.href;
  },
  countProperties = function countProperties(a) {
    return Object.keys(a).length;
  },
  getNoun = function getNoun(a) {
    var b = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : "\u0438\u0433\u0440\u043E\u043A",
      c = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : "\u0438\u0433\u0440\u043E\u043A\u0430",
      d = 3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : "\u0438\u0433\u0440\u043E\u043A\u043E\u0432",
      e = Math.abs(a);
    e %= 100;
    if (5 <= e && 20 >= e) return d;
    e %= 10;
    return 1 === e ? b : 2 <= e && 4 >= e ? c : d;
  },
  getCrypto = function getCrypto(a) {
    re_check(function (b) {
      requestCall(function (c) {
        c.success ? a(c.token) : a("");
      }, "".concat(backend_host, "/crypto"), "POST", !0, {
        token: b
      });
    });
  },
  get_events_ = function get_events_(a) {
    re_check(function (b) {
      requestCall(function (c) {
        a(c.events);
      }, "".concat(backend_host, "/events"), "POST", !0, {
        token: b
      });
    });
  },
  get_yt_video_ = function get_yt_video_(a, b) {
    2 < arguments.length && void 0 !== arguments[2] && arguments[2] ? a(null) : re_check(function (c) {
      requestCall(function (d) {
        a(d.body);
      }, "".concat(backend_host, "/youtube_get"), "POST", !0, {
        token: c,
        video_id: b
      });
    });
  },
  get_news_ = function get_news_(a, b) {
    re_check(function (c) {
      requestCall(function (d) {
        a(d.messages);
      }, "".concat(backend_host, "/channel_parse?choice=").concat(b), "POST", !0, {
        token: c
      });
    });
  },
  get_rules_private_server = function get_rules_private_server(a) {
    requestCall(function (b) {
      a(b);
    }, "assets/data/private_server_rules.json", "GET", !0);
  },
  appendPostsNews = function appendPostsNews() {
    var a = function a(b) {
      var c = document.getElementById("news_swipe_array");
      b = b.reverse();
      for (var d = function d(f) {
          var g = b[f].text,
            h = new Date(b[f].datetime_utc);
          b[f].cover || (b[f].cover = "assets/images/spawn.webp");
          c.innerHTML += '\n                <div class="swiper-slide h-auto px-2">\n                    <figure class="card h-100 position-relative border-0 news-figure" id="news_figure_'.concat(f, '">\n                        <div class="background-news" id="background-news-').concat(f, '">\n                            <div class="background-news-overlay" id="news-overlay-').concat(f, '">\n                                <div class="background-news-overlay-dark-mode">\n                                    <div \n                                    style="z-index:6;top:35.1%;height:65%"\n                                    class="shadow-vertical-overlay shadow-vertical-overlay-news vertical-bottom-shadow"\n                                    ></div>\n                                    <blockquote class="card-body mt-2 mb-3 news-text-container">\n                                        <p class="fs-md mb-0 news-text h6" id="news_text_').concat(f, '" style="font-family:sans-serif">\n                                                ').concat(g, '</p>\n                                        <div class="news-bottom-container" style="z-index:8">\n                                            <a class="btn btn-primary shadow-primary btn-lg news-button-view"\n                                               href="').concat(b[f].link, "\" target=\"_blank\">\n                                                    \u041F\u043E\u0434\u0440\u043E\u0431\u043D\u0435\u0435</a>\n                                        </div>\n                                    </blockquote>\n                                </div>\n                            </div> \n                        </div>\n                    </figure>\n                    <span class=\"news-date-text\">\n                        ").concat(h.toLocaleDateString(), " \n                        ").concat(h.toLocaleTimeString("ru-RU", {
            hour: "2-digit",
            minute: "2-digit"
          }), "\n                    </span>\n                </div>\n            ");
          document.getElementById("background-news-".concat(f)).style.backgroundImage = "url(".concat(b[f].cover, ")");
          g = document.getElementById("news_text_".concat(f));
          g.style.width = "100%";
          g.classList.add("text-light");
          h = g.innerText.length;
          g.innerText.split(" ");
          h = .4 * (h - -8) / 100;
          var k = function k(l, n) {
            var p = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : .32,
              q = 3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : .26,
              r = 4 < arguments.length && void 0 !== arguments[4] ? arguments[4] : .9;
            l = l < p ? n / q * p : l;
            return r ? l < r ? l : r : l;
          };
          g.style.fontSize = "calc(".concat(k(parseFloat(1.8 - h), h), "vw + ").concat(k(parseFloat(1.8 - h), h), "vh + ").concat(k(parseFloat(1.9 - h), h), "vmin)");
          g.style.padding = "".concat(k(parseFloat(1.3 - h), h, .22, 1.05), "rem");
          var m = function m() {
            var l = "news_text_".concat(f);
            l = document.getElementById(l);
            var n = parseFloat(window.getComputedStyle(l, null).getPropertyValue("font-size").replace("px", ""));
            l.style.maxHeight = "32vh";
            12 < n ? (l.style.position = "absolute", l.style.textAlign = "center", l.style.alignItems = "center", l.style.display = "inline-block", l.style.paddingBottom = "5rem", l.style.paddingRight = "3rem") : (l.style.position = "", l.style.textAlign = "", l.style.alignItems = "", l.style.display = "", l.style.paddingBottom = "", l.style.paddingRight = "");
          };
          addEventListener("resize", function (l) {
            return m();
          });
          setInterval(m, 50);
          getImageLightness(b[f].cover, function (l) {
            l = "#000000".concat(((parseFloat(l) / 255 * 100).toFixed() + 64).toString(16).slice(0, 2));
            document.getElementById("news-overlay-".concat(f)).style.background = l;
          });
        }, e = 0; e < b.length; e++) d(e);
      d = function d() {
        setTimeout(function () {
          var f = document.getElementById("telegram_block_load"),
            g = document.getElementById("news_zlp_buttons");
          try {
            f.parentNode.removeChild(f), g.style.display = "";
          } catch (h) {}
        }, 150);
      };
      b && (new Swiper("#news_swipe_container", {
        spaceBetween: 12,
        loop: !0,
        observer: !0,
        observeParents: !0,
        preventClicks: !1,
        preventClicksPropagation: !1,
        autoplay: {
          delay: 1E4
        },
        pagination: {
          el: "#news_swiper_pagination",
          clickable: !0
        },
        navigation: {
          prevEl: "#prev_news",
          nextEl: "#next_news"
        }
      }), d());
    };
    get_news_(function (b) {
      a(b);
    }, 1);
  },
  closeButtonDonateAdaptive = function closeButtonDonateAdaptive() {
    is_apple_platform() || (document.getElementById("exit-button-container-donate").style.minHeight = "100%");
  },
  donateSwitchContainer = function donateSwitchContainer(a) {
    var b = document.querySelector(".donate-global-container"),
      c = document.getElementById("super-klassniy-sticker-0").style,
      d = document.querySelector("main").style;
    c.opacity = 0;
    var e = function e(g) {
      setTimeout(function () {
        b.style.zIndex = g;
      }, 850);
    };
    if (!donate_displayed || a) {
      var f = document.getElementById("donateButtonLandingTop");
      f.setAttribute("disabled", "");
      notify("\u041F\u0435\u0440\u0435\u0445\u043E\u0434\u0438\u043C \u043A \u0434\u043E\u043D\u0430\u0442\u0443...");
      closeButtonDonateAdaptive();
      checkTelegramAuthData(function (g) {
        f.removeAttribute("disabled");
        g ? (document.body.style.overflowY = "hidden", window.scrollTo({
          top: 0,
          behavior: "smooth"
        }), b.style.minHeight = "", e(""), donate_displayed = !0, location.hash = "#donate", d.paddingTop = "50px") : openTelegramAuthModal(!0);
      });
    } else b.style.minHeight = "0", b.style.zIndex = "-1", document.body.style.overflowY = "", donate_displayed = !1, location.hash = "#", d.paddingTop = "0";
  },
  get_game_server_data = function get_game_server_data(a) {
    crypto_token ? requestCall(function (b) {
      setTimeout(function () {
        freeze_monitoring = !1;
      }, 800);
      b.success ? a(b.body) : crypto_token = "";
    }, "".concat(backend_host, "/server"), "POST", !0, {
      crypto_token: crypto_token
    }) : (initCrypto(), freeze_monitoring = !1);
  },
  monitoring_game_server_update = function monitoring_game_server_update() {
    freeze_monitoring || (freeze_monitoring = !0, get_game_server_data(function (a) {
      if (a.online) {
        "undefined" !== typeof gameServerUpdater_setter && clearInterval(gameServerUpdater_setter);
        var b = document.getElementById("server_online_status");
        b.classList.remove("loading-dots");
        b.innerHTML = "\u0421\u0435\u0439\u0447\u0430\u0441 \u0438\u0433\u0440\u0430\u0435\u0442 <span class=\"text-primary fw-semibold\">".concat(a.online, "</span>\n            <i class=\"emoji male-emoji\" style=\"margin-left: -.35rem!important;background-image:url('assets/images/emoji/male.png')\"><b>\u2642</b></i>\n            ").concat(getNoun(a.online), "\n            <i class=\"emoji male-emoji\" style=\"background-image:url('assets/images/emoji/male.png')\"><b>\u2642</b></i>\n            ");
      }
    }));
  },
  gameServerUpdater = function gameServerUpdater() {
    monitoring_game_server_update();
    gameServerUpdater_setter = setInterval(monitoring_game_server_update, 300);
    setInterval(monitoring_game_server_update, 6E3);
  },
  initEventsList = function initEventsList() {
    var a = document.getElementById("events-row-container");
    document.getElementById("events_block_load");
    var b = document.getElementById("events-c-button"),
      c = ["row-cols-md-2", "row-cols-lg-2", "row-cols-xl-3"];
    get_events_(function (d) {
      b.removeAttribute("disabled");
      if (d && d.length) {
        glob_events_status = !0;
        events_block_load.remove();
        d.sort(function (m, l) {
          m = new Date(m.date_start);
          l = new Date(l.date_start);
          return m < l ? -1 : m > l ? 1 : 0;
        });
        for (var e = 0; e < d.length; e++) {
          3 > e > 0 && a.classList.add(c[e]);
          var f = time_correction(new Date(d[e].date_start)),
            g = time_correction(new Date(d[e].date_end)),
            h = time_in_moscow_get(),
            k = "";
          f > h ? k = "\u0421\u043A\u043E\u0440\u043E" : h > g && (k = "\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043D\u043E");
          f = '\n                    <div class="col">\n                        <div class="object-block-col">\n                            <h1>'.concat(d[e].title, '</h1>\n                            <h4 class="text-primary" style="margin-top: -1.2rem">').concat(k, "</h4>\n                            <h6 style=\"margin-top: -1rem\">\u0421 <span class=\"text-primary\">\n                                ").concat(f.toLocaleDateString("ru-RU"), " ").concat(("0" + f.getHours()).slice(-2), ":").concat(("0" + f.getMinutes()).slice(-2), "\n                                </span> \u043F\u043E <span class=\"text-primary\">\n                                ").concat(g.toLocaleDateString("ru-RU"), " ").concat(("0" + g.getHours()).slice(-2), ":").concat(("0" + g.getMinutes()).slice(-2), "\n                                </span></h6>\n                            <p>").concat(d[e].text, "</p>\n                        </div>\n                    </div>\n                ");
          a.innerHTML += f;
        }
      }
    });
  },
  get_donate_services = function get_donate_services(a) {
    re_check(function (b) {
      requestCall(function (c) {
        a(c.services);
      }, "".concat(backend_host, "/donate/services"), "POST", !0, {
        token: b
      });
    });
  },
  create_payment = function create_payment(a, b, c, d) {
    var e = 4 < arguments.length && void 0 !== arguments[4] ? arguments[4] : "",
      f = 5 < arguments.length && void 0 !== arguments[5] ? arguments[5] : "";
    re_check(function (g) {
      requestCall(function (h) {
        a(h.payment);
      }, "".concat(backend_host, "/donate/payment/create"), "POST", !0, {
        customer: b,
        products: c,
        email: e,
        coupon: f,
        token: g,
        server_id: d,
        success_url: "https://".concat(work_domain_v),
        tg_auth_data: getTelegramAuth(!0)
      });
    });
  },
  generateGiftLink = function generateGiftLink(a, b) {
    getCrypto(function (c) {
      a("".concat(backend_host, "/gift/private_server?") + "payment_id=".concat(b, "&") + "crypto_token=".concat(encodeURIComponent(c), "&") + "sign=".concat(generateRandomHex(24)));
    });
  },
  check_coupon = function check_coupon(a, b) {
    re_check(function (c) {
      requestCall(function (d) {
        d.coupon && d.success ? a(d.coupon) : a(null);
      }, "".concat(backend_host, "/donate/coupon"), "POST", !0, {
        code: b,
        token: c
      });
    });
  },
  testImage = function testImage(a) {
    var b = new Image();
    b.addEventListener("error", reInitTelegramAuth);
    b.src = a;
  },
  loadPlayerAvatar = function loadPlayerAvatar(a) {
    if (crypto_token && crypto_token.length) {
      console.debug("Load avatar : ".concat(a));
      document.getElementById("tg-user-avatar-text").innerText = "";
      var b = document.getElementById("telegram-auth-avatar");
      a = "".concat(backend_host, "/profile/avatar/?texture_hash=").concat(a, "&crypto_token=").concat(encodeURIComponent(crypto_token), "&tg_auth=").concat(encodeURIComponent(getTelegramAuth(!0)));
      var c = prepare_img_link(a);
      testImage(a);
      b.setAttribute("style", 'background-image: url("'.concat(c, '");border-radius:.15rem;'));
    } else initCrypto();
  },
  reInitTelegramAuth = function reInitTelegramAuth() {
    checkTelegramAuthData(function (a) {});
  },
  checkTelegramAuthData = function checkTelegramAuthData(a) {
    var b = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : !1,
      c = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : !1,
      d = getTelegramAuth(!0);
    d ? telegram_glob_session.auth_data === d ? a(telegram_glob_session.response.success) : b ? a(!0) : re_check(function (e) {
      requestCall(function (f) {
        if (f) {
          if (console.debug(f), f.success) {
            var g = document.getElementById("telegram-auth-avatar");
            if (glob_auth_player_data = f.player_data) {
              var h = f.player_data,
                k = h.SKIN;
              loadPlayerAvatar(k);
              g.setAttribute("data-bs-toggle", "tooltip");
              g.setAttribute("data-bs-placement", "bottom");
              g.setAttribute("title", h.NICKNAME);
              setInterval(function () {
                (!g.style.backgroundImage || 1 > g.style.backgroundImage.length) && loadPlayerAvatar(k);
              }, 150);
            }
            telegram_glob_session = {
              auth_data: d,
              response: f
            };
            a(c ? f : f.success);
          } else openLoginHint(), a(!1);
        } else a(!1);
      }, "".concat(backend_host, "/telegram/auth/check"), "POST", !0, {
        token: e,
        tg_auth_data: d
      });
    }) : a(!1);
  },
  getIPClient = function getIPClient(a) {
    requestCall(function (b) {
      b && b.success ? (client_ip = b.ip, a(b.ip)) : a(null);
    }, "".concat(backend_host, "/ip"), "GET", !0);
  },
  checkFeedbackStatus = function checkFeedbackStatus(a) {
    var b = getTelegramAuth(!0);
    b && re_check(function (c) {
      requestCall(function (d) {
        d ? a(d.success) : a(!1);
      }, "".concat(backend_host, "/feedback/check"), "POST", !0, {
        token: c,
        tg_auth_data: b
      });
    });
  },
  sendFeedback = function sendFeedback(a, b) {
    var c = getTelegramAuth(!0);
    c && re_check(function (d) {
      requestCall(function (e) {
        e ? a(e.success) : a(!1);
      }, "".concat(backend_host, "/feedback/send"), "POST", !0, {
        text: b,
        token: d,
        tg_auth_data: c
      });
    });
  },
  sendFeedbackAction = function sendFeedbackAction() {
    var a = document.getElementById("send-feedback-button"),
      b = document.getElementById("admin-message").value;
    if (20 > b.length) notify("\u0421\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435 \u043E\u0447\u0435\u043D\u044C \u043A\u043E\u0440\u043E\u0442\u043A\u043E\u0435!");else {
      var c = function c() {
        var d = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : !0;
        d ? a.setAttribute("disabled", "") : a.removeAttribute("disabled");
        a.innerText = d ? "\u041E\u0436\u0438\u0434\u0430\u0439\u0442\u0435..." : "\u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C";
      };
      c();
      checkFeedbackStatus(function (d) {
        d ? sendFeedback(function (e) {
          e ? notify("\u0421\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435 \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u043E \u0430\u0434\u043C\u0438\u043D\u0430\u043C.") : notify("\u041E\u0448\u0438\u0431\u043A\u0430 \u043D\u0430 \u0441\u0442\u043E\u0440\u043E\u043D\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u0430, \u043F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u043F\u043E\u0437\u0436\u0435.");
          c(!1);
        }, b) : (c(!1), notify("\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u043F\u0440\u043E\u0439\u0442\u0438 \u043F\u0440\u043E\u0432\u0435\u0440\u043A\u0443, \u043F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u043F\u043E\u0437\u0436\u0435."));
      });
    }
  },
  checkPayment = function checkPayment(a, b) {
    re_check(function (c) {
      requestCall(function (d) {
        a(d.payment);
      }, "".concat(backend_host, "/donate/payment_get"), "POST", !0, {
        payment_id: parseInt(b),
        token: c,
        tokens_send: coins_sell_mode
      });
    });
  },
  getPaymentHistory = function getPaymentHistory(a) {
    re_check(function (b) {
      requestCall(function (c) {
        try {
          a(c.payment);
        } catch (d) {
          a(null);
        }
      }, "".concat(backend_host, "/donate/payment_history"), "POST", !0, {
        token: b
      });
    });
  },
  getPlayersSkins = function getPlayersSkins(a, b) {
    2 < arguments.length && void 0 !== arguments[2] && arguments[2] ? re_check(function (c) {
      requestCall(function (d) {
        a(d.skins);
      }, "".concat(backend_host, "/profile/skins/get"), "POST", !0, {
        token: c,
        players: b
      });
    }) : a(null);
  },
  appendServices = function appendServices() {
    get_donate_services(function (a) {
      donate_services_array = a;
      var b = ["row-cols-sm-2", "row-cols-md-3", "row-cols-lg-4"],
        c = document.getElementById("donate_items_list"),
        d = function d(n, p) {
          n = n.toLowerCase();
          p = p.toLowerCase();
          if (n.includes("\u0442\u043E\u043A\u0435\u043D") && "currency" === p) return 1;
          if (n.includes("\u043F\u0440\u043E\u0445\u043E\u0434\u043A\u0430") && "other" === p) return 2;
        };
      if (a.length) {
        donate_check_services_cart();
        for (var e = 0; e < a.length; e++) {
          var f = {
            name: a[e].name,
            price: a[e].price,
            count: a[e].number,
            description: a[e].description,
            type: a[e].type,
            service_id: a[e].id,
            server_id: a[e].server_id
          };
          products_by_serverid.push(a[e]);
          var g = "",
            h = "p-3",
            k = '\n                    <p class="mb-0">\n                        '.concat(a[e].price, " \n                        ").concat(getNoun(a[e].price, "\u0440\u0443\u0431\u043B\u044C", "\u0440\u0443\u0431\u043B\u044F", "\u0440\u0443\u0431\u043B\u0435\u0439"), " \n                        = \n                        ").concat(a[e].number, " \n                        ").concat(getNoun(a[e].number, "\u0435\u0434\u0438\u043D\u0438\u0446\u0430", "\u0435\u0434\u0438\u043D\u0438\u0446\u044B", "\u0435\u0434\u0438\u043D\u0438\u0446"), '\n                    </p>\n                    <p class="fs-sm mb-0">').concat(a[e].description, "</p>\n                "),
            m = "";
          e && b.length >= e && c.classList.add(b[e - 1]);
          var l = 'onClick="donate_element_click('.concat(JSON.stringify(f), ')"');
          coins_sell_mode ? (k = "\u0422\u043E\u0432\u0430\u0440 \u0431\u0435\u0437 \u043E\u043F\u0438\u0441\u0430\u043D\u0438\u044F.", a[e].description && (k = a[e].description), a[e].name.toLowerCase().includes("\u0442\u043E\u043A\u0435\u043D") ? (g = "".concat(a[e].price, " ").concat(getNoun(a[e].price, "\u0440\u0443\u0431\u043B\u044C", "\u0440\u0443\u0431\u043B\u044F", "\u0440\u0443\u0431\u043B\u0435\u0439"), " = ").concat(a[e].number, " ").concat(getNoun(a[e].number, "\u0442\u043E\u043A\u0435\u043D", "\u0442\u043E\u043A\u0435\u043D\u0430", "\u0442\u043E\u043A\u0435\u043D\u043E\u0432")), h = "p-0", k = "\n                        <p class=\"mb-0 token-description-dnt\">\n                            \u0418\u0433\u0440\u043E\u0432\u0430\u044F \u0432\u0430\u043B\u044E\u0442\u0430, \u043A\u043E\u0442\u043E\u0440\u0443\u044E \u043C\u043E\u0436\u043D\u043E \u043F\u043E\u043B\u0443\u0447\u0438\u0442\u044C \u043A\u0430\u043A \u0432 \u0438\u0433\u0440\u0435, \u0442\u0430\u043A \u0438 \u0437\u0430 \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u043A\u0443 \u043F\u0440\u043E\u0435\u043A\u0442\u0430.\n                        </p>") : (a[e].type = "other", g = '\n                        <span class="text-primary">'.concat(a[e].name, "</span>,\n                        ").concat(a[e].price, " ").concat(getNoun(a[e].price, "\u0440\u0443\u0431\u043B\u044C", "\u0440\u0443\u0431\u043B\u044F", "\u0440\u0443\u0431\u043B\u0435\u0439")), h = "p-0", k = '\n                        <p class="mb-0 token-description-dnt">\n                            '.concat(k, "\n                        </p>")), l = "", m = '\n                        <button class="btn btn-primary shadow-primary btn-shadow-hide btn-lg min-w-zl donate-item-butt-bottom" \n                            onclick="donateModalCall('.concat(d(f.name, f.type), ", ").concat(f.service_id, ')">\n                            ').concat("\u041F\u0440\u0438\u043E\u0431\u0440\u0435\u0441\u0442\u0438", "\n                        </button>")) : g = a[e].name;
          a[e].image = prepare_img_link(a[e].image);
          c.innerHTML += '\n                    <div class="col" id="donate_item_'.concat(a[e].id, '">\n                        <div class="card border-0 bg-transparent" ').concat(l, '>\n                          <div class="position-relative container-item-donate-n">\n                            <div class="parent-image-shadow donate_item_hover" \n                                id="donate_item_hover_').concat(a[e].id, '">\n                                <div class="imageContainer item-levitaion-dec">\n                                    <div \n                                    class="foregroundImg" \n                                    style="background-image: url(').concat(a[e].image, ')"\n                                    ></div>\n                                    <div \n                                    class="backgroundImg" \n                                    style="background-image: url(').concat(a[e].image, ')"\n                                    ></div>                               \n                                 </div>\n                            </div>\n                            <div class="card-img-overlay d-flex flex-column align-items-center \n                                        justify-content-center rounded-3" \n                                 style="margin: auto">\n                            </div>\n                          </div>\n                          <div class="card-body text-center ').concat(h, '">\n                                <h3 class="fs-lg fw-semibold pt-1 mb-2">').concat(g, "</h3>\n                                ").concat(k, "\n                                ").concat(m, "\n                          </div>\n                        </div>\n                    </div>\n                ");
        }
        checkPrivateServerBuy();
        setTimeout(function () {
          var n = document.getElementById("donate_block_load"),
            p = ["donate_items_list", "donate-header-container", "donate-test-mode-enb", "donate-cart-container"];
          try {
            n.parentNode.removeChild(n);
          } catch (q) {}
          for (n = 0; n < p.length; n++) try {
            document.getElementById(p[n]).style.display = "";
          } catch (q) {
            console.log("Donate block loader error. Details: ".concat(q));
          }
        }, 100);
      } else c.innerHTML = "<span class=\"text-center\">\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u043F\u043E\u043B\u0443\u0447\u0438\u0442\u044C \u0441\u043F\u0438\u0441\u043E\u043A \u0442\u043E\u0432\u0430\u0440\u043E\u0432.</span>";
    });
  },
  switchEventsPages = function switchEventsPages(a) {
    var b = document.getElementById("news-c-container"),
      c = document.getElementById("events-c-container"),
      d = document.getElementById("news-c-button"),
      e = document.getElementById("events-c-button");
    a !== events_page_state && ("events" === a ? glob_events_status ? (b.style.display = "none", c.style.display = "block", d.removeAttribute("disabled"), e.setAttribute("disabled", ""), c.style.top = "0", b.style.top = "-2rem", events_page_state = "events") : notify("\u0421\u0435\u0439\u0447\u0430\u0441 \u0438\u0432\u0435\u043D\u0442\u043E\u0432 \u043D\u0435\u0442, \u041C\u0430\u0440\u0438\u043D \u043E\u0442\u0434\u044B\u0445\u0430\u0435\u0442") : "news" === a && (b.style.display = "block", c.style.display = "none", d.setAttribute("disabled", ""), e.removeAttribute("disabled"), c.style.top = "-2rem", b.style.top = "0", events_page_state = "news"));
  },
  redirect_ = function redirect_(a) {
    return window.location.replace(a);
  },
  ytVideoSetter = function ytVideoSetter() {
    for (var a = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : !1, b = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : !0, c = function c(k, m, l) {
        k.innerHTML = '\n            <iframe src="https://www.youtube.com/embed/'.concat(m, '" title="YouTube video player"\n                frameborder="0" class="video-container-yt" id="ytframe_').concat(m, '"\n                allow="accelerometer; ').concat(null != l.autoplay ? "autoplay" : "", '; clipboard-write; encrypted-media; gyroscope; picture-in-picture"\n                allowfullscreen="" loading="lazy"></iframe>\n        ');
      }, d = function d(k, m, l) {
        b ? c(k, m, l) : get_yt_video_(function (n) {
          n && n.video.x720.url && !a ? k.innerHTML = '\n                    <video class="video-container" '.concat(null != l.autoplay ? 'autoplay=""' : "", " ").concat(null != l.muted ? 'muted=""' : "", " ").concat(null != l.loop ? 'loop=""' : "", " ").concat(null != l.controls ? 'controls=""' : "", ' style="object-fit: contain">\n                        <source src="').concat(n.video.x720.url, '" type="video/mp4">\n                    </video>\n                ') : c(k, m, l);
        }, m, a);
      }, e = 0, f = Array.from(document.getElementsByClassName("ytVideoSetter")); e < f.length; e++) {
      var g = f[e],
        h = g.getAttribute("video_id");
      h && h.length && 20 > h.length && (d(g, h, {
        autoplay: g.getAttribute("autoplay"),
        muted: g.getAttribute("muted"),
        loop: g.getAttribute("loop"),
        controls: g.getAttribute("controls")
      }), g.getAttribute("bottomzero") && (document.getElementById("ytframe_".concat(h)).style.marginBottom = "0"));
    }
  },
  modal_close_ = function modal_close_() {
    if (modal_displayed) {
      document.body.classList.remove("modal-open");
      document.getElementById("scroll_butt_container").style.display = "";
      document.getElementsByTagName("html")[0].style.overflowY = "";
      var a = document.getElementById("donate_item_modal");
      a.style.opacity = 0;
      setTimeout(function () {
        a.style.display = "none";
      }, 350);
      modal_displayed = !1;
    }
  },
  modal_open_ = function modal_open_() {
    var a = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : !1;
    modal_displayed = !0;
    document.body.classList.add("modal-open");
    document.getElementById("scroll_butt_container").style.display = "none";
    document.getElementsByTagName("html")[0].style.overflowY = "hidden";
    try {
      document.getElementById("private_gift_button_modal").remove();
    } catch (c) {}
    var b = document.getElementById("donate_item_modal");
    b.style.display = "block";
    setTimeout(function () {
      b.style.opacity = 1;
    }, 50);
    a || (window.onclick = function (c) {
      c.target === b && modal_close_();
    });
  },
  switch_modal_containers = function switch_modal_containers() {
    var a = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : "service",
      b = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : {},
      c = document.getElementsByClassName("close_b")[0],
      d = document.getElementById("modal-info-container-c"),
      e = document.getElementById("modal-donate-container-c"),
      f = document.getElementById("modal-donate-finish-container-b"),
      g = document.getElementById("modal-donate-success-container"),
      h = document.getElementById("modal-donate-finish-container-c"),
      k = document.querySelector(".modal-title");
    d = [{
      name: "service",
      selector: e,
      title: "\u0422\u043E\u0432\u0430\u0440"
    }, {
      name: "service_coins",
      selector: f,
      title: "\u041E\u043F\u043B\u0430\u0442\u0430 \u043F\u043E\u0436\u0435\u0440\u0442\u0432\u043E\u0432\u0430\u043D\u0438\u044F"
    }, {
      name: "info",
      selector: d,
      title: "\u0421\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435"
    }, {
      name: "success",
      selector: g,
      title: "\u0427\u0435\u043A"
    }, {
      name: "donate_finish",
      selector: h,
      title: "\u041A\u043E\u0440\u0437\u0438\u043D\u0430"
    }];
    for (e = 0; e < d.length; e++) f = "none", a === d[e].name && (f = "block", k.innerText = d[e].title), d[e].selector.style.display = f;
    "info" === a && (k.innerText = b.title, b.content.length && (document.getElementById("info-content-modal").innerHTML = b.content));
    c.onclick = function () {
      modal_close_();
    };
  },
  discount_calculate = function discount_calculate(a, b) {
    return (b / 100 * a).toFixed();
  },
  get_cookie_cart = function get_cookie_cart() {
    var a = {};
    try {
      a = JSON.parse(Cookies.get(cart_cookie));
    } catch (b) {}
    return a;
  },
  updateCartCount = function updateCartCount() {
    document.getElementById("count_cart_items_dn").innerText = countProperties(get_cookie_cart());
  },
  groupAlreadyInCart = function groupAlreadyInCart(a) {
    a = Object.keys(a);
    for (var b = 0; b < donate_services_array.length; b++) if ("group" === donate_services_array[b].type && a.includes(donate_services_array[b].id.toString())) return !0;
    return !1;
  },
  displayTokens = function displayTokens() {
    var a = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : !0,
      b = glob_auth_player_data.BALANCE;
    if (tokens_system_enabled && (document.querySelector(".zalupa-card-container").style.display = "", b)) if (a) {
      a = document.querySelector(".number-card-zalupa");
      var c = document.querySelector(".card-holder-zalupa"),
        d = document.querySelector(".balance-value-card");
      a.innerText = glob_auth_player_data.UUID;
      c.innerText = glob_auth_player_data.NICKNAME;
      d.innerHTML = '<span class="text-primary">'.concat(b, "</span> ").concat(getNoun(b, "\u0442\u043E\u043A\u0435\u043D", "\u0442\u043E\u043A\u0435\u043D\u0430", "\u0442\u043E\u043A\u0435\u043D\u043E\u0432"));
      document.getElementById("card-zalupa").style.backgroundImage = 'url("'.concat(select_card_skin(b), '")');
    } else a = document.querySelector(".balance-container"), c = document.querySelector(".balance-value"), a.style.display = "", c.innerText = b;
  },
  select_card_skin = function select_card_skin(a) {
    var b = {
        0: "grass",
        100: "clay",
        200: "red_mashroom",
        300: "tube_coral",
        400: "gray_glazed_terracotta",
        500: "bee_nest",
        750: "bamboo",
        1E3: "",
        1200: "gilded_blackstone",
        1500: "raw_gold",
        2E3: "nether_wart",
        3E3: "sculk_crystal",
        4E3: "rainforced_deepslate",
        4500: "tinted_glass",
        5E3: "chiseled_quartz",
        5001: "tnt",
        5002: "warped_stem",
        5003: "respawn_anchor",
        5004: "dark_prismarine",
        8E3: "nether",
        1E4: "netherite"
      },
      c = Object.keys(b);
    c = c.reverse();
    for (var d = 0; d < c.length; d++) {
      var e = b[c[d]];
      if (a >= parseInt(c[d])) return console.debug(e), prepare_img_link("".concat("/assets/images/card_skins", "/").concat(e, ".png"));
    }
    return prepare_img_link("".concat("/assets/images/card_skins", "/grass.png"));
  },
  comment_show_action = function comment_show_action(a) {
    var c = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : !1,
      d = document.getElementById("comment_text_".concat(a)),
      e = document.getElementById("comment_show_".concat(a));
    swiper_comments.on("slideChange", function () {
      comment_show_action(a, !0);
    });
    c || "1" === d.getAttribute("fullShowComment") ? (d.style.height = "100px", d.setAttribute("fullShowComment", "0"), e.innerText = "\u0420\u0430\u0441\u043A\u0440\u044B\u0442\u044C") : (d.style.height = "100%", d.setAttribute("fullShowComment", "1"), e.innerText = "\u0421\u043A\u0440\u044B\u0442\u044C");
  },
  checkPrivateServerBuy = function checkPrivateServerBuy() {
    var a = function a() {
      var b = _createForOfIteratorHelper(donate_services_array),
        c;
      try {
        for (b.s(); !(c = b.n()).done;) {
          var d = c.value;
          if ("\u041F\u0440\u043E\u0445\u043E\u0434\u043A\u0430" === d.name && glob_auth_player_data.PRIVATE_SERVER) {
            var e = document.querySelector("#donate_item_".concat(d.id, ">div>div.card-body>button"));
            e.innerText = "\u041A\u0443\u043F\u043B\u0435\u043D\u043E";
            e.setAttribute("disabled", "");
            e.removeAttribute("onclick");
          }
        }
      } catch (f) {
        b.e(f);
      } finally {
        b.f();
      }
    };
    a();
    setInterval(a, 300);
  },
  initComments = function initComments() {
    var a = document.getElementById("comment_swipe_array"),
      b = function b(c) {
        requestCall(function (d) {
          c(d);
        }, "assets/data/players.json", "GET", !0);
      };
    requestCall(function (c) {
      shuffle(c);
      b(function (d) {
        for (var e = 0; e < c.length; e++) {
          var f;
          a: {
            for (f = 0; f < d.length; f++) if (d[f].name === c[e].name) {
              f = d[f];
              break a;
            }
            f = void 0;
          }
          a.innerHTML += "\n                        <div class=\"swiper-slide h-auto px-2\">\n                            <figure class=\"card h-100 position-relative border-0 shadow-sm py-3 p-0 p-xxl-4 my-0\">\n                                <span class=\"btn btn-primary btn-lg shadow-primary pe-none position-absolute top-0 start-0 translate-middle-y ms-4 ms-xxl-5 zlp-comment-icon\">\n                                  <i class=\"bx bxs-quote-left\"></i>\n                                  \u0417\u0430\u043B\u0443\u043F\u043D\u044B\u0439 \u043A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0439\n                                </span>\n                                <blockquote id=\"comment_block_".concat(e, '" class="card-body mt-2 mb-2" \n                                            style="transition: .8s height">\n                                    <p id="comment_text_').concat(e, "\" class=\"fs-md mb-0\">\n                                            \xAB").concat(c[e].text, "\xBB</p>\n                                    <span id=\"comment_show_").concat(e, '" onclick="comment_show_action(').concat(e, ")\" \n                                          class=\"pt-1 comment-show-button\">\n                                            \u0420\u0430\u0441\u043A\u0440\u044B\u0442\u044C</span>\n                                </blockquote>\n                                <figcaption class=\"card-footer d-flex align-items-center border-0 pt-0 mt-n2 mt-lg-0\">\n                                    <div>\n                                        <h6 class=\"fw-semibold lh-base mb-0\">").concat(c[e].name, "</h6>\n                                        ").concat(f ? '<span class="frame_badge_adaptive">'.concat(f.desc, "</span>") : "", "\n                                    </div>\n                                </figcaption>\n                            </figure>\n                        </div>\n                    ");
          f = document.getElementById("comment_text_".concat(e));
          var g = document.getElementById("comment_show_".concat(e));
          g.style.fontWeight = "400";
          f.style.transition = "height .8s cubic-bezier(1, -.3, 0, 1.21) 0s";
          f.setAttribute("fullShowComment", "0");
          112 < f.clientHeight ? (f.style.height = "100px", f.style.overflow = "hidden") : g.style.display = "none";
        }
      });
      swiper_comments = new Swiper("#comment_swipe_container", {
        spaceBetween: 12,
        loop: !0,
        observer: !0,
        observeParents: !0,
        preventClicks: !1,
        preventClicksPropagation: !1,
        autoplay: {
          delay: 3E3
        },
        pagination: {
          el: ".swiper-pagination",
          clickable: !0
        },
        navigation: {
          prevEl: "#prev_comment",
          nextEl: "#next_comment"
        }
      });
    }, "assets/data/comments.json", "GET", !0);
  },
  buildPlayersSwiper = function buildPlayersSwiper() {
    var a = document.getElementById("players-swiper-array");
    (function (b) {
      requestCall(function (c) {
        b(c);
      }, "assets/data/badges.json", "GET", !0);
    })(function (b) {
      requestCall(function (c) {
        shuffle(c);
        var d = [],
          e = _createForOfIteratorHelper(c),
          f;
        try {
          for (e.s(); !(f = e.n()).done;) d.push(f.value.name);
        } catch (g) {
          e.e(g);
        } finally {
          e.f();
        }
        getPlayersSkins(function (g) {
          g = function g(k) {
            glob_players.push(c[k].name);
            var m = function () {
                var n = "";
                c[k].badges.sort();
                for (var p = 0; p < c[k].badges.length; p++) {
                  var q = c[k].badges[p];
                  q && q.length && "verified" !== q && !q.includes("clan-") && (n += '\n                                        <div class="player_badge" \n                                            style="background-image: url(./assets/images/emoji/'.concat(b[q].item, '.png)"\n                                            data-bs-toggle="tooltip" data-bs-placement="bottom" \n                                            title="').concat(b[q].title, '">\n                                        </div>\n                                    '));
                }
                return n;
              }(),
              l = function () {
                for (var n = 0; n < c[k].badges.length; n++) if (c[k].badges[n].includes("clan-")) return c[k].badges[n].replace("clan-", "");
              }();
            c[k].head = prepare_img_link(c[k].head);
            a.innerHTML += '\n                        <div class="swiper-slide text-center">\n                            <span class="d-block py-3">\n                                <div class="player_head_container">\n                                    '.concat(l ? '<div \n                                        class="player_clan_badge"\n                                        data-bs-toggle="tooltip" data-bs-placement="top"\n                                        title="'.concat(l, '"\n                                    ></div>') : "", '\n                                    <div \n                                        class="player-head d-block mx-auto" \n                                        style="background-image: url(').concat(c[k].head, ')"\n                                    ></div>\n                                </div>\n                                <div class="card-body p-3">\n                                    <h3 class="fs-lg fw-semibold pt-1 mb-2">\n                                        ').concat(c[k].name, "\n                                        ").concat(c[k].badges.includes("verified") ? "\n                                            <i class=\"verified-icon\"\n                                            data-bs-toggle=\"tooltip\" data-bs-placement=\"top\"\n                                            title=\"\u041F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043D\u043D\u044B\u0439\"> \u2714</i>\n                                        " : "", '\n                                    </h3>\n                                    \x3c!-- <div class="player_badge_container" style="').concat(m.length ? "" : "display:none", '">\n                                        ').concat(m, '\n                                    </div> --\x3e\n                                    <p class="fs-sm mb-0">').concat(c[k].desc, "</p>\n                                </div>\n                            </span>\n                        </div>\n                    ");
          };
          for (var h = 0; h < c.length; h++) g(h);
          try {
            document.getElementById("players_block_load").remove();
          } catch (k) {}
          new Swiper("#players_swipe_container", {
            slidesPerView: 1,
            spaceBetween: 24,
            autoplay: {
              delay: 2E3
            },
            loop: !0,
            observer: !0,
            observeParents: !0,
            preventClicks: !1,
            pagination: {
              el: ".swiper-pagination",
              clickable: !0
            },
            breakpoints: {
              600: {
                slidesPerView: 2
              },
              920: {
                slidesPerView: 3
              },
              1200: {
                slidesPerView: 4
              },
              1600: {
                slidesPerView: 5
              },
              2E3: {
                slidesPerView: 6
              }
            }
          });
        }, d);
      }, "assets/data/players.json", "GET", !0);
    });
  },
  buildDonateHistorySwiper = function buildDonateHistorySwiper() {
    var a = document.getElementById("payments-history-swiper-array"),
      b = function b() {
        for (var c = document.querySelectorAll("#item-donate-history-desc>time"), d = 0; d < c.length; d++) {
          var e = c[d],
            f = e.getAttribute("datetime");
          e.innerHTML = formatDate(new Date(f), time_in_moscow_get());
        }
      };
    getPaymentHistory(function (c) {
      if (c && c.length) {
        for (var d = 0; d < c.length; d++) {
          var e = new Date(c[d].updated_at);
          c[d].product.image = prepare_img_link(c[d].product.image);
          a.innerHTML += '\n                    \x3c!-- use player template for donate history swiper --\x3e\n                    <div class="swiper-slide text-center">\n                        <span class="d-block py-3">\n                            <div class="player_head_container">\n                                <div \n                                    class="player-head d-block mx-auto" \n                                    style="background-image: url('.concat(c[d].product.image, ');height:65px!important"\n                                ></div>\n                            </div>\n                            <div class="card-body p-3">\n                                <h5 class="h5 fs-6 fw-semibold pt-1 mb-2">\n                                    ').concat(c[d].product.name, '\n                                </h5>\n                                <p class="fs-sm mb-0" id="item-donate-history-desc">\n                                    <span class="text-gradient-primary fw-bold">').concat(c[d].customer, '</span>\n                                    <br/>\n                                    <time datetime="').concat(e.toString(), '"></time>\n                                </p>\n                            </div>\n                        </span>\n                    </div>\n                ');
        }
        document.getElementById("last_donate_block_load").remove();
        new Swiper("#payments_history_container", {
          slidesPerView: 1,
          spaceBetween: 24,
          autoplay: {
            delay: 1500
          },
          loop: !0,
          observer: !0,
          observeParents: !0,
          preventClicks: !1,
          pagination: {
            el: ".payments-history-pagination",
            clickable: !0
          },
          breakpoints: {
            320: {
              slidesPerView: 2
            },
            600: {
              slidesPerView: 3
            },
            920: {
              slidesPerView: 4
            },
            1200: {
              slidesPerView: 5
            },
            1600: {
              slidesPerView: 6
            },
            1900: {
              slidesPerView: 7
            },
            2100: {
              slidesPerView: 8
            },
            2500: {
              slidesPerView: 9
            }
          }
        });
        setInterval(b, 1E3);
      }
    });
  },
  setSticker = function setSticker() {
    var a = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : 0,
      b = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : null,
      c = "assets/images/stickers/sticker".concat(randDiaps(0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : 0), ".webp");
    if (b) c = b;else if (lock_sticker_switch) return;
    b = prepare_img_link(c);
    document.getElementById("super-klassniy-sticker-".concat(a)).style.backgroundImage = "url(".concat(b, ")");
  },
  setRandomStickerLand = function setRandomStickerLand() {
    for (var a = document.getElementById("super-klassniy-sticker-0"), b = 0; 32 >= b; b++) getImageLightness("assets/images/stickers/sticker".concat(b, ".webp"), void 0, !1);
    setInterval(function () {
      1600 < window.pageYOffset || donate_displayed ? a.style.opacity = 0 : !donate_displayed && 1600 >= window.pageYOffset ? setTimeout(function () {
        a.style.opacity = .4;
      }, 800) : a.style.opacity = .4;
    }, 30);
    b = function b() {
      992 <= window.innerWidth ? (a.style.top = "".concat(randDiaps(85), "%"), a.style.left = "".concat(randDiaps(85), "%")) : (a.style.top = "".concat(randDiaps(100), "%"), a.style.left = "".concat(randDiaps(75), "%"));
    };
    setSticker(32);
    setInterval(setSticker, 6E3, 32);
    b();
    setInterval(b, 3E3);
  },
  donate_element_click = function donate_element_click(a) {
    switch_modal_containers("service");
    var b = ["group"],
      c = document.getElementById("donate_item_select_text"),
      d = "\u0422\u043E\u0432\u0430\u0440 <span class=\"text-primary fw-semibold\">".concat(a.name, "</span>,\n            \u0446\u0435\u043D\u0430 ").concat(a.count, " ").concat(getNoun(a.count, "\u0435\u0434\u0438\u043D\u0438\u0446\u044B", "\u0435\u0434\u0438\u043D\u0438\u0446", "\u0435\u0434\u0438\u043D\u0438\u0446"), '\n        <span class="text-primary fw-semibold">\n            ').concat(a.price, "\n            ").concat(getNoun(a.price, "\u0440\u0443\u0431\u043B\u044C", "\u0440\u0443\u0431\u043B\u044F", "\u0440\u0443\u0431\u043B\u0435\u0439"), "\n        </span>.\n    "),
      e = document.getElementById("items_count_donate"),
      f = document.getElementById("donate_count_text_hint"),
      g = document.getElementById("donate_button_add_to_cart"),
      h = get_cookie_cart(),
      k = function k() {
        g.setAttribute("onClick", "donate_cart(".concat(a.service_id, ", ").concat(e.value, ")"));
      };
    e.value = 1;
    k();
    var m = h.hasOwnProperty(a.service_id.toString());
    if ((b.includes(a.type) || "group" === a.type) && groupAlreadyInCart(h)) {
      switch_modal_containers("info");
      var l = "";
      l = "group" === a.type ? "\u0412\u044B \u0443\u0436\u0435 \u0432\u044B\u0431\u0440\u0430\u043B\u0438 \u043F\u0440\u0438\u0432\u0438\u043B\u0435\u0433\u0438\u044E. \u0423\u0434\u0430\u043B\u0438\u0442\u0435 \u0435\u0451 \u0438\u0437 \u043A\u043E\u0440\u0437\u0438\u043D\u044B, \u0435\u0441\u043B\u0438 \u0445\u043E\u0442\u0438\u0442\u0435 \u0432\u044B\u0431\u0440\u0430\u0442\u044C \u0434\u0440\u0443\u0433\u0443\u044E." : m ? "\u041E\u0448\u0438\u0431\u043A\u0430, \u0432\u044B \u043C\u043E\u0436\u0435\u0442\u0435 \u0434\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0442\u043E\u0432\u0430\u0440 \n                <span class=\"text-primary fw-semibold\">".concat(a.name, "</span> \n                \u0442\u043E\u043B\u044C\u043A\u043E \u043E\u0434\u0438\u043D \u0440\u0430\u0437.") : "\u041C\u044B \u043D\u0435 \u0437\u043D\u0430\u0435\u043C \u043F\u043E\u0447\u0435\u043C\u0443, \u043D\u043E \u044D\u0442\u0430 \u043E\u0448\u0438\u0431\u043A\u0430 \u0432\u044B\u0437\u0432\u0430\u043D\u0430 \u043F\u043E \u043D\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043D\u044B\u043C \u043F\u0440\u0438\u0447\u0438\u043D\u0430\u043C.";
      document.getElementById("donate_info_block_text").innerHTML = l;
    }
    m = "block";
    b.includes(a.type) && (m = "none");
    e.style.display = m;
    f.style.display = m;
    var n = function n() {
      e.value = e.value.replace(/\D+/g, "");
      if (!b.includes(a.type)) {
        var p = parseInt(e.value) * a.price,
          q = h[a.service_id],
          r = "";
        if (isNaN(p) || 1 > Math.sign(p)) p = 0;
        q && (r = "\n                    \u0423\u0436\u0435 \u0432 \u043A\u043E\u0440\u0437\u0438\u043D\u0435 - \n                        <span class=\"text-primary fw-semibold\">\n                            ".concat(q, "\n                        </span>\n                "));
        c.innerHTML = "".concat(d, "\n                    <br/>\n                    \u0421\u0442\u043E\u0438\u043C\u043E\u0441\u0442\u044C - \n                        <span class=\"text-primary fw-semibold\">\n                            ").concat(p, " \n                            ").concat(getNoun(p, "\u0440\u0443\u0431\u043B\u044C", "\u0440\u0443\u0431\u043B\u044F", "\u0440\u0443\u0431\u043B\u0435\u0439"), "\n                        </span>\n                    <br/>\n                    ").concat(r, "\n                ");
        k();
      }
    };
    c.innerHTML = d;
    n();
    e.addEventListener("input", function (p) {
      n();
    });
    modal_open_();
  },
  donate_get_service_by_id = function donate_get_service_by_id(a) {
    for (var b = 0; b < donate_services_array.length; b++) if (donate_services_array[b].id === parseInt(a)) return donate_services_array[b];
    return null;
  },
  donateResetPaymentState = function donateResetPaymentState() {
    var a = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : 1,
      b = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : !1,
      c = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : !1,
      d = document.getElementById("donate-coins-payment"),
      e = ["donate_sum", "donate_customer_c", "donate_email_c", "coupon-input-c"],
      f = "_c",
      g = document.getElementById("donate_sum").value.trim();
    coins_sell_mode || (f = "", g = 0);
    f = document.getElementById("payment-button-donate" + f);
    if (c) {
      d.innerHTML = "";
      for (d = 0; d < e.length; d++) if (!e[d].includes("coupon") || c) document.getElementById(e[d]).value = "";
      failed_coupon = checked_coupon = "";
    }
    f.setAttribute("onClick", "generatePaymentLink(".concat(a, ", ").concat(2 === a ? 1 : g, ")"));
    f.removeAttribute("disabled");
    f.innerText = b ? "\u041F\u043E\u0432\u0442\u043E\u0440\u0438\u0442\u044C" : "\u0414\u0430\u043B\u044C\u0448\u0435";
  },
  donate_cart = function donate_cart(a, b) {
    var c = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : !1,
      d = Cookies.get(cart_cookie),
      e = get_cookie_cart(),
      f = 0;
    try {
      var g = e[a];
      Number.isInteger(g) && (f = +g);
    } catch (h) {}
    Number.isInteger(a) && Number.isInteger(b) && (1 > Math.sign(b) ? notify("\u041A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E \u043D\u0435 \u043C\u043E\u0436\u0435\u0442 \u0431\u044B\u0442\u044C \u0440\u0430\u0432\u043D\u043E \u043D\u0443\u043B\u044E \u0438\u043B\u0438 \u043C\u0435\u043D\u044C\u0448\u0435") : 3E4 < f + b ? notify("\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u043E\u0435 \u043A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E - ".concat('<span style="color: #a4a6ff">').concat(3E4, "</span>")) : (d || Cookies.set(cart_cookie, JSON.stringify({})), d = JSON.parse(Cookies.get(cart_cookie)), e = donate_get_service_by_id(a), c ? (delete d[a], notify("\u0422\u043E\u0432\u0430\u0440 ".concat('<span style="color: #a4a6ff">', " ").concat(e.name, "</span> \u0443\u0431\u0440\u0430\u043D \u0438\u0437 \u043A\u043E\u0440\u0437\u0438\u043D\u044B"))) : d[a] ? (d[a] += b, notify("\u0412 \u043A\u043E\u0440\u0437\u0438\u043D\u0443 \u0434\u043E\u0431\u0430\u0432\u043B\u0435\u043D\u043E ".concat('<span style="color: #a4a6ff">', " ").concat(b, " \n                    </span>\n                    ").concat(getNoun(b, "\u0435\u0434\u0438\u043D\u0438\u0446\u0430", "\u0435\u0434\u0438\u043D\u0438\u0446\u044B", "\u0435\u0434\u0438\u043D\u0438\u0446"), " \n                    \u0442\u043E\u0432\u0430\u0440\u0430 ").concat('<span style="color: #a4a6ff">', " ").concat(e.name, " \n                    </span>"))) : (d[a] = b, notify("\u0422\u043E\u0432\u0430\u0440 ".concat('<span style="color: #a4a6ff">', " ").concat(e.name, "</span> \u0434\u043E\u0431\u0430\u0432\u043B\u0435\u043D \u0432 \u043A\u043E\u0440\u0437\u0438\u043D\u0443"))), Cookies.set(cart_cookie, JSON.stringify(d)), modal_close_(), initDonate(), updateCartCount(), donateResetPaymentState()));
  },
  donate_cart_button = function donate_cart_button() {
    var a = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : {},
      b = document.querySelectorAll(".donate-cart-button-cn");
    if (!coins_sell_mode) for (var c = function c(e) {
        var f = b[e].style;
        countProperties(a) ? (f.display = "flex", setTimeout(function () {
          f.opacity = 1;
          f.marginTop = "15px";
          b[e].removeAttribute("disabled");
        }, 50)) : (b[e].setAttribute("disabled", ""), f.opacity = 0, f.marginTop = "-50px", setTimeout(function () {
          f.display = "none";
        }, 350));
      }, d = 0; d < b.length; d++) c(d);
  },
  donateFlushCart = function donateFlushCart() {
    Cookies.remove(cart_cookie);
    donate_cart_button({});
    notify("\u041A\u043E\u0440\u0437\u0438\u043D\u0430 \u043E\u0447\u0438\u0449\u0435\u043D\u0430");
  },
  setAvatar = function setAvatar(a) {
    document.getElementById("telegram-auth-avatar").style.background = "linear-gradient(343deg, var(--telegram-bgcolor".concat(getAvatarColorIDforTG(a.id), "-top) 0%, var(--telegram-bgcolor").concat(getAvatarColorIDforTG(a.id), "-bottom) 100%)");
    var b = document.getElementById("tg-user-avatar-text");
    try {
      b.innerText = "".concat(a.first_name.slice(0, 1)).concat(a.last_name ? a.last_name.slice(0, 1) : "").toUpperCase();
    } catch (c) {
      b.innerHTML = "N/A";
    }
  },
  checkAuthAndDisplayDonate = function checkAuthAndDisplayDonate() {
    checkTelegramAuthData(function (a) {
      a.player_data.NICKNAME && donateSwitchContainer();
    }, !1, !0);
  },
  onTelegramAuth = function onTelegramAuth(a) {
    Cookies.set(telegram_cookie_token, utf8_to_b64(JSON.stringify(a)));
    modal_close_();
    notify("\u0412\u044B \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0430\u0432\u0442\u043E\u0440\u0438\u0437\u043E\u0432\u0430\u043B\u0438\u0441\u044C \u043A\u0430\u043A <span class=\"text-gradient-primary\">".concat(a.first_name, " ").concat(a.last_name ? a.last_name : "", "</span>"));
    autoAuthTelegramObserver();
  },
  debugWriteTelegramAuth = function debugWriteTelegramAuth(a) {
    Cookies.set(telegram_cookie_token, a);
  },
  getTelegramAuth = function getTelegramAuth() {
    var a = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : !1,
      b = Cookies.get(telegram_cookie_token);
    if (b) {
      if (a) return b;
      if (b) return JSON.parse(b64_to_utf8(b));
    }
  },
  couponCheck = function couponCheck() {
    var a = "";
    coins_sell_mode && (a = "-c");
    var b = document.getElementById("coupon-input" + a),
      c = document.getElementById("coupon-button" + a),
      d = "";
    try {
      d = b.value.trim().toUpperCase();
    } catch (h) {}
    var e = function e() {
        notify("\u041A\u0443\u043F\u043E\u043D <span class=\"text-primary fw-semibold\">".concat(failed_coupon, "</span> \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D"));
      },
      f = function f(h, k) {
        if (h) for (k = 0; k < h.length; k++) if (h[k].id === current_c_item) return !0;
        return !1;
      };
    if (d.length) {
      if (20 < d.length) notify("\u041A\u0443\u043F\u043E\u043D \u0441\u043B\u0438\u0448\u043A\u043E\u043C \u0434\u043B\u0438\u043D\u043D\u044B\u0439");else if (/^[A-z\d_]+$/.test(d)) {
        if (checked_coupon === d) notify("\u042D\u0442\u043E\u0442 \u043A\u0443\u043F\u043E\u043D \u0443\u0436\u0435 \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0435\u0442\u0441\u044F");else if (failed_coupon === d) e();else {
          var g = function g() {
            0 < arguments.length && void 0 !== arguments[0] && arguments[0] ? (b.setAttribute("disabled", ""), c.setAttribute("disabled", ""), c.innerText = "\u041F\u0440\u043E\u0432\u0435\u0440\u044F\u0435\u043C") : (b.removeAttribute("disabled"), c.removeAttribute("disabled"), c.innerText = "\u041F\u0440\u043E\u0432\u0435\u0440\u0438\u0442\u044C");
          };
          g(!0);
          check_coupon(function (h) {
            if (h) {
              var k = function k() {
                checked_coupon = d;
                notify("\u041A\u0443\u043F\u043E\u043D <span class=\"text-primary fw-semibold\">".concat(d, "</span> \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043B\u044C\u043D\u044B\u0439"));
              };
              coins_sell_mode ? f(h.products, current_c_item) ? (k(), document.getElementById("donate-coins-payment").innerHTML = "<li class=\"list-group-item d-flex justify-content-between bg-light\">\n                        <div class=\"text-primary\">\n                            <h6 class=\"my-0 text-start\">\u041A\u0443\u043F\u043E\u043D</h6>\n                            <small class=\"text-start\" style=\"float: left\">".concat(d, '</small>\n                        </div>\n                        <span class="text-muted text-end" style="width: 30%">\n                            ').concat(h.discount, "%</span>\n                    </li>")) : notify("\u042D\u0442\u043E\u0442 \u043A\u0443\u043F\u043E\u043D \u043D\u0435\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043B\u044C\u043D\u044B\u0439") : (k(), donateCartCall(d, !1));
            } else failed_coupon = d, e();
            g();
          }, d);
        }
      } else notify("\u041A\u0443\u043F\u043E\u043D \u0443\u043A\u0430\u0437\u0430\u043D \u043D\u0435\u0432\u0435\u0440\u043D\u043E");
    } else notify("\u0412\u044B \u043D\u0435 \u0443\u043A\u0430\u0437\u0430\u043B\u0438 \u043A\u0443\u043F\u043E\u043D");
  },
  donate_enable_coupon = function donate_enable_coupon() {
    var a = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : !0,
      b = document.getElementById("coupon-input"),
      c = document.getElementById("coupon-button");
    a ? (b.setAttribute("placeholder", "BRFF"), c.setAttribute("onClick", "couponCheck()"), b.removeAttribute("disabled"), c.removeAttribute("disabled")) : (b.setAttribute("disabled", ""), b.setAttribute("placeholder", "\u0421\u0435\u0439\u0447\u0430\u0441 \u043D\u0435\u0434\u043E\u0441\u0442\u0443\u043F\u043D\u043E"), c.setAttribute("disabled", ""));
  },
  get_data_service = function get_data_service(a) {
    for (var b = 0; b < products_by_serverid.length; b++) if (parseInt(products_by_serverid[b].id) === parseInt(a)) return products_by_serverid[b];
  },
  generatePaymentLink = function generatePaymentLink() {
    var a = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : 1,
      b = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : 0,
      c = "";
    coins_sell_mode && (c = "_c");
    var d = document.getElementById("payment-button-donate" + c),
      e = document.getElementById("donate_customer" + c).value.trim();
    c = document.getElementById("donate_email" + c).value.trim();
    var f = "";
    e = glob_auth_player_data.NICKNAME;
    try {
      f = checked_coupon.trim();
    } catch (g) {}
    if (1 === a) if (Number.isInteger(b) && Number.isInteger(b)) {
      if (1 > Math.sign(b)) {
        notify("\u0421\u0443\u043C\u043C\u0430 \u043D\u0435 \u043C\u043E\u0436\u0435\u0442 \u0440\u0430\u0432\u043D\u044F\u0442\u044C\u0441\u044F \u043D\u0443\u043B\u044E \u0438\u043B\u0438 \u043C\u0435\u043D\u044C\u0448\u0435");
        return;
      }
      if (3E4 < b) {
        notify("\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u0430\u044F \u0441\u0443\u043C\u043C\u0430 - ".concat('<span style="color: #a4a6ff">').concat(3E4, "</span>"));
        return;
      }
    } else {
      notify("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u043E\u0432\u0435\u0440\u043A\u0438 \u0441\u0443\u043C\u043C\u044B");
      return;
    }
    e.length ? 40 < e.length ? notify("\u0412\u0430\u0448 \u043D\u0438\u043A\u043D\u0435\u0439\u043C \u0441\u043B\u0438\u0448\u043A\u043E\u043C \u0434\u043B\u0438\u043D\u043D\u044B\u0439") : 3 > e.length ? notify("\u0412\u0430\u0448 \u043D\u0438\u043A\u043D\u0435\u0439\u043C \u0441\u043B\u0438\u0448\u043A\u043E\u043C \u043A\u043E\u0440\u043E\u0442\u043A\u0438\u0439") : /^[A-z\d_]+$/.test(e) ? c.length ? validateEmail(c) ? (f || (f = ""), products = coins_sell_mode ? JSON.parse('{"'.concat(current_c_item, '": ').concat(b, "}")) : get_cookie_cart(), d.setAttribute("disabled", ""), d.innerText = "\u041F\u0440\u043E\u0432\u0435\u0440\u044F\u0435\u043C \u0434\u0430\u043D\u043D\u044B\u0435...", b = get_data_service(current_c_item), create_payment(function (g) {
      g ? (d.removeAttribute("disabled"), d.innerText = "\u041E\u043F\u043B\u0430\u0442\u0438\u0442\u044C", payment_url_global = g.url, d.setAttribute("onClick", "payment_action_bt()")) : (notify("\u041E\u0448\u0438\u0431\u043A\u0430, \u043D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0441\u0444\u043E\u0440\u043C\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0447\u0435\u043A \u0434\u043B\u044F \u043E\u043F\u043B\u0430\u0442\u044B"), donateResetPaymentState(a, repeat = !0));
    }, e, products, b.server_id, c, f)) : notify("\u041E\u0448\u0438\u0431\u043A\u0430, \u0430\u0434\u0440\u0435\u0441 \u043F\u043E\u0447\u0442\u044B \u043D\u0435\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043B\u044C\u043D\u044B\u0439") : notify("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430 \u0432\u0430\u0448 email") : notify("\u041D\u0438\u043A\u043D\u0435\u0439\u043C \u043D\u0435 \u0441\u043E\u043E\u0442\u0432\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u0444\u043E\u0440\u043C\u0430\u0442\u0443") : notify("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430 \u0432\u0430\u0448 \u043D\u0438\u043A\u043D\u0435\u0439\u043C");
  },
  payment_action_bt = function payment_action_bt() {
    window.open(payment_url_global, "_blank");
    var a = document.getElementById("donate-cart-list-success"),
      b = document.getElementById("success-pay-text-js"),
      c = document.getElementById("only-ok-payment"),
      d = document.querySelector(".modal-title");
    switch_modal_containers("success");
    modal_open_();
    a.innerHTML = "";
    d.innerText = "";
    b.innerText = "\u0414\u0430\u0432\u0430\u0439, \u043F\u043B\u0430\u0442\u0438. \u0428\u0435\u0444 \u0436\u0434\u0451\u0442...";
    c.style.display = "";
    document.querySelector("img.payment-sucess-vova").setAttribute("src", "assets/images/vova-gay.webp");
    donateResetPaymentState();
    a = ["donate_sum", "donate_customer_c", "donate_email_c", "coupon-input-c"];
    for (b = 0; b < a.length; b++) document.getElementById(a[b]).value = "";
  },
  donate_check_services_cart = function donate_check_services_cart() {
    for (var a = Object.keys(get_cookie_cart()), b = donate_services_array, c = [], d = 0; d < b.length; d++) c.push(b[d].id);
    for (b = 0; b < a.length; b++) c.includes(parseInt(a[b])) || (d = JSON.parse(Cookies.get(cart_cookie)), delete d[parseInt(a[b])], Cookies.set(cart_cookie, JSON.stringify(d)), console.log("Remove ".concat(a[b], " from cart")));
  },
  initDonate = function initDonate() {
    var a = {};
    try {
      a = JSON.parse(Cookies.get(cart_cookie));
    } catch (b) {}
    donate_cart_button(a);
    donate_enable_coupon(!0);
  },
  donateCartCall = function donateCartCall() {
    var a = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : null,
      b = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : !0,
      c = get_cookie_cart(),
      d = Object.keys(c),
      e = document.getElementById("donate-cart-list"),
      f = [document.getElementById("donate_customer"), document.getElementById("donate_email"), document.getElementById("coupon-input")];
    switch_modal_containers("donate_finish");
    modal_open_();
    e.innerHTML = "";
    for (var g = 0, h = 0; h < f.length; h++) f[h].addEventListener("input", function (m) {
      donateResetPaymentState();
    });
    for (f = 0; f < d.length; f++) {
      h = donate_get_service_by_id(d[f]);
      var k = h.price * c[h.id];
      g += k;
      e.innerHTML += '\n            <li class="list-group-item d-flex justify-content-between lh-sm">\n                <div>\n                    <h6 class="my-0 text-start">\n                        <span class="text-primary fw-semibold">\n                            x'.concat(h.number, "</span> \n                        ").concat(h.name, '\n                    </h6>\n                    <small class="text-muted text-start cart-desc-td">').concat(h.description, '</small>\n                </div>\n                <span class="text-muted text-end" style="width: 30%">\n                    ').concat(k, " ").concat(getNoun(k, "\u0440\u0443\u0431\u043B\u044C", "\u0440\u0443\u0431\u043B\u044F", "\u0440\u0443\u0431\u043B\u0435\u0439"), "\n                    <br/>x").concat(c[h.id], "</span>\n            </li>\n        ");
    }
    a && (e.innerHTML += "<li class=\"list-group-item d-flex justify-content-between bg-light\">\n                <div class=\"text-primary\">\n                    <h6 class=\"my-0 text-start\">\u041A\u0443\u043F\u043E\u043D</h6>\n                    <small class=\"text-start\" style=\"float: left\">".concat(a, "</small>\n                </div>\n            </li>"));
    e.innerHTML += "<li class=\"list-group-item d-flex justify-content-between\">\n                <span>\u0421\u0443\u043C\u043C\u0430</span>\n                <strong>".concat(g, " ").concat(getNoun(g, "\u0440\u0443\u0431\u043B\u044C", "\u0440\u0443\u0431\u043B\u044F", "\u0440\u0443\u0431\u043B\u0435\u0439"), "</strong>\n            </li>");
    b && (shuffle(glob_players), document.querySelector("input#donate_customer").setAttribute("placeholder", glob_players[0]));
  },
  donateCoinsPay = function donateCoinsPay() {
    var a = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : 1,
      b = document.getElementById("payment-button-donate_c"),
      c = document.getElementById("donate_sum");
    c = c.value || /^[\d]+$/.test(c.value) ? c.value : 0;
    b.setAttribute("onClick", "generatePaymentLink(".concat(a, ", ").concat(2 === a ? 1 : c, ")"));
  },
  donateModalCall = function donateModalCall(a, b) {
    var c = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : !0,
      d = document.getElementById("donate_sum"),
      e = document.getElementById("donate_customer_c"),
      f = document.getElementById("sum-tokens-container"),
      g = document.getElementById("customer-email-tokens-container").classList,
      h = document.getElementById("donate-text-span"),
      k = [document.getElementById("donate_sum"), document.getElementById("donate_customer_c"), document.getElementById("donate_email_c"), document.getElementById("coupon-input-c")],
      m = document.querySelector(".modal-title");
    current_c_item = b;
    current_c_item_name = get_data_service(b).name;
    if (1 === a) {
      f.style.display = "";
      g.remove("col-sm-6");
      g.add("col-12");
      var l = "\n            \u0412\u043E\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0432\u0448\u0438\u0441\u044C \u044D\u0442\u043E\u0439 \u0444\u043E\u0440\u043C\u043E\u0439, \u0432\u044B \u043C\u043E\u0436\u0435\u0442\u0435 \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u0430\u0442\u044C \u043F\u0440\u043E\u0435\u043A\u0442 \u0444\u0438\u043D\u0430\u043D\u0441\u043E\u0432\u043E.\n            \u0417\u0430 \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u043A\u0443 \u0432\u044B \u043F\u043E\u043B\u0443\u0447\u0438\u0442\u0435 \u0432\u043E\u0437\u043D\u0430\u0433\u0440\u0430\u0436\u0434\u0435\u043D\u0438\u0435 \u2013 \u0437\u0430 \u043A\u0430\u0436\u0434\u044B\u0439 \u0440\u0443\u0431\u043B\u044C \u043F\u043E \u043E\u0434\u043D\u043E\u043C\u0443 \u0438\u0433\u0440\u043E\u0432\u043E\u043C\u0443 \u0442\u043E\u043A\u0435\u043D\u0443.\n        ";
      var n = "\u0422\u043E\u043A\u0435\u043D\u044B";
      d.addEventListener("input", function (p) {
        donateCoinsPay();
      });
    } else 2 === a && (f.style.display = "none", g.remove("col-12"), g.add("col-sm-6"), (desc_get = get_data_service(current_c_item).description) || (desc_get = ""), l = "\n            \u0424\u043E\u0440\u043C\u0430 \u043E\u043F\u043B\u0430\u0442\u044B \u043F\u043E\u0436\u0435\u0440\u0442\u0432\u043E\u0432\u0430\u043D\u0438\u044F \u0434\u043B\u044F \u0438\u0433\u0440\u043E\u0432\u043E\u0433\u043E \u043F\u0440\u043E\u0435\u043A\u0442\u0430 Zalupa.Online\n            <br/>\n            <span class=\"text-primary\">\n                ".concat(desc_get, "\n            </span>\n        "), n = current_c_item_name, e.addEventListener("input", function (p) {
      donateCoinsPay(a);
    }));
    h.innerHTML = l.replaceAll("\n", "");
    for (d = 0; d < k.length; d++) k[d].addEventListener("input", function (p) {
      donateResetPaymentState(a);
    });
    switch_modal_containers("service_coins");
    modal_open_();
    c && (c = document.querySelector("input#donate_customer_c"), c.setAttribute("placeholder", glob_auth_player_data.NICKNAME), c.value = glob_auth_player_data.NICKNAME, c.setAttribute("disabled", ""));
    donateResetPaymentState(a, !1, !0);
    (function (p) {
      m.innerText = m.innerText.replace(/\([\s\S]*?\)/).trim();
      m.innerText = "".concat(m.innerText, " (").concat(p, ")");
    })(n);
  },
  linksSet = function linksSet(a) {
    for (var b = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : !1, c = document.getElementById(a), d = "margin-left: 0 !important", e = 0; e < links_lt.length; e++) {
      if (!b || e) d = "";
      c.innerHTML += '<a href="'.concat(links_lt[e].link, '" \n                target="_blank" style="').concat(d, '"\n                class="btn btn-icon btn-secondary btn-').concat(links_lt[e].name, ' mx-2">\n                    <i class="bx bxl-').concat(links_lt[e].name, '"></i>\n            </a>');
    }
  },
  initCrypto = function initCrypto() {
    freeze_crypto || (freeze_crypto = !0, crypto_token = "", getCrypto(function (a) {
      crypto_token = a;
      freeze_crypto = !1;
    }));
  },
  initLanding = function initLanding() {
    development_hosts.includes(window.location.hostname) && lock_of && (document.getElementById("landing_description_gb").innerText = "\u042D\u0442\u043E\u0442 \u0441\u0430\u0439\u0442 - preview-\u0432\u0435\u0440\u0441\u0438\u044F!", document.getElementById("donate-test-mode-enb").innerText = "\u042D\u0442\u043E\u0442 \u0431\u043B\u043E\u043A \u0440\u0430\u0431\u043E\u0442\u0430\u0435\u0442 \u0432 \u0434\u0435\u043C\u043E\u043D\u0441\u0442\u0440\u0430\u0442\u0438\u0432\u043D\u043E\u043C \u0440\u0435\u0436\u0438\u043C\u0435 \u0438 \u043D\u0435 \u044F\u0432\u043B\u044F\u0435\u0442\u0441\u044F \u0444\u0443\u043D\u043A\u0446\u0438\u043E\u043D\u0430\u043B\u044C\u043D\u044B\u043C.");
    linksSet("landing-links-tp", !0);
    linksSet("links-block-footer-v");
  },
  finishLoad = function finishLoad() {
    document.querySelector("main").setAttribute("style", "");
    document.querySelector("footer").setAttribute("style", "");
    document.getElementById("footer-text-blc").innerHTML = "\u0421\u043E\u0437\u0434\u0430\u043B KovalYRS \u0441 ".concat("<i class=\"emoji\" style=\"background-image:url('assets/images/emoji/red-heart.png');font-size: .7rem;bottom:-1px\"><b>\u2764\uFE0F</b></i>", ", \u0441\u043F\u0435\u0446\u0438\u0430\u043B\u044C\u043D\u043E \u0434\u043B\u044F ZALUPA.ONLINE");
    grecaptcha && (document.getElementById("re-badge-text").innerText = "This site uses Google ReCaptcha technology");
  },
  buildSignCN = function buildSignCN() {},
  observerSystemTheme = function observerSystemTheme() {
    for (var a = ["dark", "light"], b = document.querySelector('[data-bs-toggle="mode"]').querySelector(".form-check-input"), c = function c(e) {
        window.matchMedia("(prefers-color-scheme: ".concat(a[e], ")")).addEventListener("change", function (f) {
          if (f = f.matches) "dark" === a[e] ? (root.classList.add("dark-mode"), b.checked = !0) : (root.classList.remove("dark-mode"), b.checked = !1), f = void 0;
          return f;
        });
      }, d = 0; d < a.length; d++) c(d);
  },
  callSucessPayModal = function callSucessPayModal() {
    var a = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : 0,
      b,
      c = document.getElementById("donate-cart-list-success"),
      d = document.getElementById("success-pay-text-js"),
      e = document.getElementById("only-ok-payment"),
      f = document.querySelector(".modal-title");
    donateSwitchContainer(!0);
    checkPayment(function (g) {
      if ("undefined" !== typeof g.status) {
        if (g.status && a == parseInt(g.id)) {
          b = g;
          d.innerText = "\u041E\u043F\u043B\u0430\u0442\u0430 \u043F\u0440\u043E\u0448\u043B\u0430 \u0443\u0441\u043F\u0435\u0448\u043D\u043E, \u0428\u0435\u0444 \u0434\u043E\u0432\u043E\u043B\u0435\u043D, \u0441\u043F\u0430\u0441\u0438\u0431\u043E \u0442\u0435\u0431\u0435.";
          e.style.display = "";
          var h = document.createElement("button");
          h.id = "private_gift_button_modal";
          h.setAttribute("class", "btn btn-primary shadow-primary btn-lg mb-2 btn-shadow-hide");
          h.innerText = "button::init";
          var k = g.product.name.toLowerCase().includes("\u0442\u043E\u043A\u0435\u043D") ? 1 : 2,
            m = "\n                <li class=\"list-group-item d-flex justify-content-between lh-sm\">\n                    <div>\n                        <h6 class=\"my-0 text-start\">\n                            \u0421\u0438\u0441\u0442\u0435\u043C\u0430\n                        </h6>\n                    </div>\n                    <span>".concat(g.payment_system, "</span>\n                </li>\n            "),
            l = "\n                <li class=\"list-group-item d-flex justify-content-between\">\n                    <span>\u0421\u0443\u043C\u043C\u0430 \u0437\u0430\u0447\u0438\u0441\u043B\u0435\u043D\u0438\u044F</span>\n                    <strong class=\"bottom-line-set bottom-line-set-zlp color-set-zlp\">".concat(g.enrolled, " ").concat(getNoun(g.enrolled, "\u0440\u0443\u0431\u043B\u044C", "\u0440\u0443\u0431\u043B\u044F", "\u0440\u0443\u0431\u043B\u0435\u0439"), "</strong>\n                </li>\n            ");
          coins_sell_mode && (1 === k ? l = "\n                        <li class=\"list-group-item d-flex justify-content-between\">\n                            <span>\u0421\u0443\u043C\u043C\u0430</span>\n                            <strong class=\"bottom-line-set bottom-line-set-zlp color-set-zlp\">".concat(g.enrolled, " ").concat(getNoun(g.enrolled, "\u0442\u043E\u043A\u0435\u043D", "\u0442\u043E\u043A\u0435\u043D\u0430", "\u0442\u043E\u043A\u0435\u043D\u043E\u0432"), "</strong>\n                        </li>\n                    ") : 2 === k && (l = "\n                        <li class=\"list-group-item d-flex justify-content-between\">\n                            <span>\u0421\u0443\u043C\u043C\u0430</span>\n                            <strong class=\"bottom-line-set bottom-line-set-zlp color-set-zlp\">".concat(g.product.price, " ").concat(getNoun(g.enrolled, "\u0440\u0443\u0431\u043B\u044C", "\u0440\u0443\u0431\u043B\u044F", "\u0440\u0443\u0431\u043B\u0435\u0439"), "</strong>\n                        </li>\n                    "), document.querySelector("div.modal-footer").prepend(h)));
          if (!g.enrolled || 1 > g.enrolled) l = "";
          if (!g.email.length || g.email.match("undefined")) g.email = "\u041D\u0443 \u0443\u043A\u0430\u0437\u0430\u043D\u043E";
          if (!g.payment_system || g.payment_system.match("undefined")) m = "";
          g.created_at && g.created_at.length ? (h = new Date(g.created_at), g.created_at = "".concat(h.toLocaleDateString(), " ").concat(h.toLocaleTimeString())) : g.created_at = "\u041D\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043D\u043E";
          h = "";
          g.private_invite && (h = '\n                    <li class="list-group-item d-flex justify-content-between lh-sm mb-2 mb-lg-3 mt-4 mt-lg-5">\n                        <a href="'.concat(g.private_invite, "\" id=\"private-chat-button\" target=\"_blank\" style=\"margin:auto\"\n                                   class=\"btn btn-primary shadow-primary btn-lg btn-shadow-hide\">\n                                \u041F\u0440\u0438\u0433\u043B\u0430\u0448\u0435\u043D\u0438\u0435 \u0432 \u043F\u0440\u0438\u0432\u0430\u0442\u043D\u044B\u0439 \u0447\u0430\u0442 <i class=\"ms-1 bx bxl-telegram\"></i></a>\n                    </li>\n                "));
          c.innerHTML = "\n                <li class=\"list-group-item d-flex justify-content-between lh-sm\">\n                    <div>\n                        <h6 class=\"my-0 text-start\">\n                            \u041D\u0438\u043A\u043D\u0435\u0439\u043C\n                        </h6>\n                    </div>\n                    <span>".concat(g.customer, "</span>\n                </li>\n                <li class=\"list-group-item d-flex justify-content-between lh-sm\">\n                    <div>\n                        <h6 class=\"my-0 text-start\">\n                            \u041F\u043E\u0447\u0442\u0430\n                        </h6>\n                    </div>\n                    <span>").concat(g.email, "</span>\n                </li>\n                ").concat(m, "\n                <li class=\"list-group-item d-flex justify-content-between lh-sm\">\n                    <div>\n                        <h6 class=\"my-0 text-start\">\n                            \u0412\u0440\u0435\u043C\u044F\n                        </h6>\n                    </div>\n                    <span>").concat(g.created_at, "</span>\n                </li>\n                ").concat(l, "\n                ").concat(h, "\n            ");
        } else d.innerText = "\u0427\u0435\u043A \u043D\u0435\u043E\u043F\u043B\u0430\u0447\u0435\u043D, \u0428\u0435\u0444 \u043D\u0435\u0434\u043E\u0432\u043E\u043B\u0435\u043D.", document.querySelector("img.payment-sucess-vova").setAttribute("src", "assets/images/vova-fail.webp");
        switch_modal_containers("success");
        modal_open_();
        (m = b.product.image) && m.length && (document.querySelector(".payment-sucess-vova").src = m, document.querySelector(".item-name-payment-result").style.marginBottom = "4vh");
        f.innerText = "\u0427\u0435\u043A #".concat(g.id);
      } else notify("\u041E\u0448\u0438\u0431\u043A\u0430, \u0447\u0435\u043A \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D \u0438\u043B\u0438 EasyDonate \u0432\u0435\u0440\u043D\u0443\u043B \u043D\u0435\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043B\u044C\u043D\u044B\u0439 \u043E\u0442\u0432\u0435\u0442");
    }, a);
  },
  successPay = function successPay() {
    var a = new URL(window.location.href).searchParams.get("pg_order_id");
    a && callSucessPayModal(a);
  },
  displayPromotion = function displayPromotion() {
    var a = document.querySelector("div.promotion-header");
    document.querySelector("main");
    requestCall(function (b) {
      if (b.active) {
        var c = b.text;
        a.style.minHeight = "40px";
        a.style.height = "100%";
        a.setAttribute("onclick", "clipboardFunc(\"input.promotionInput\", \"\u041F\u0440\u043E\u043C\u043E\u043A\u043E\u0434 <span class=\\\"text-primary\\\" style=\\\"font-weight:800\\\">".concat(b["var"], "</span> \u0441\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D \u0432 \u0431\u0443\u0444\u0435\u0440 \u043E\u0431\u043C\u0435\u043D\u0430.\")"));
        a.innerHTML = '\n                <p class="text-center" style="color:#fff!important;line-height:200%">'.concat(c, '</p>\n                <input class="promotionInput" value="').concat(b["var"], '" style="display:none">\n            ');
        b = document.querySelector("div.promotion-header>p").style;
        b.marginBottom = "0";
        b.paddingRight = "1.25rem";
        b.paddingLeft = "1.25rem";
        b.paddingTop = ".18rem";
      }
    }, "assets/data/promotion.json", "GET", !0);
  },
  adaptiveDisplayLand = function adaptiveDisplayLand() {
    var a = function a() {
      var b = document.querySelector("header").offsetHeight,
        c = document.getElementById("head-container"),
        d = document.querySelector("div.vova-bg-landing"),
        e = document.querySelector("div.vova-bg-landing-mask");
      0 === first_init_head_adapt && 0 === first_init_head_adapt_vova && (first_init_head_adapt = c.offsetHeight, first_init_head_adapt_vova = d.offsetHeight);
      c.style.height = "".concat(first_init_head_adapt - b, "px");
      d.style.height = "".concat(first_init_head_adapt_vova - b, "px");
      e.style.height = "".concat(first_init_head_adapt_vova - b, "px");
      c.style.marginTop = "".concat(b, "px");
    };
    a();
    setInterval(a, 100);
  },
  clipboardFunc = function clipboardFunc(a, b) {
    a = document.querySelector(a);
    a.select();
    a.setSelectionRange(0, 99999);
    navigator.clipboard.writeText(a.value);
    notify(b);
    return a.value;
  },
  spClownLoad = function spClownLoad() {
    var a = document.getElementById("zlp_land_buttons");
    getImageLightness("assets/images/Clown-Face.gif", void 0, !1);
    a.innerHTML += "\n        <button onclick=\"spClownShow()\" \n                class=\"col btn btn-primary shadow-primary btn-lg me-sm-3 me-xl-4 mb-3 btn-shadow-hide\">\n            \u042F \u043B\u044E\u0431\u043B\u044E \u0421\u041F\n        </button>\n    ";
  },
  spClownShow = function spClownShow() {
    lock_sticker_switch = !0;
    setTimeout(function () {
      lock_sticker_switch = !1;
    }, 3500);
    setSticker(0, 0, "assets/images/emoji/clown-face.png");
    notify("\u041D\u0430 \u0445\u0443\u0439 \u043E\u0442\u0441\u044E\u0434\u0430 \u0438\u0434\u0438 \u0442\u043E\u0433\u0434\u0430");
  },
  donateContainerHash = function donateContainerHash() {
    observerContainerHash(["donate", "donate_block"], function () {
      donate_displayed = !0;
      donateSwitchContainer(donate_displayed);
    });
  },
  rulesModalOpen = function rulesModalOpen() {
    var a = "";
    get_rules_private_server(function (b) {
      for (var c = 0; c < b.length; c++) a += '\n                    <li class="list-group-item d-flex justify-content-between lh-sm">\n                        <div>\n                            <h6 class="my-0 text-start">\n                                '.concat(c + 1, '\n                            </h6>\n                        </div>\n                        <span class="ps-2 pe-2 text-start">').concat(b[c].text, "</span>\n                    </li>\n                ");
      switch_modal_containers("info", {
        title: "\u041F\u0440\u0430\u0432\u0438\u043B\u0430 \u043F\u0440\u0438\u0432\u0430\u0442\u043D\u043E\u0433\u043E \u0441\u0435\u0440\u0432\u0435\u0440\u0430",
        content: '\n                <ul class="list-group mb-4 mb-lg-5">\n                    '.concat(a, "\n                </ul>\n            ")
      });
      modal_open_();
    });
  },
  rulesPrivateContainerHash = function rulesPrivateContainerHash() {
    observerContainerHash(["private_rules"], function () {
      rulesModalOpen();
    });
  },
  openAdminContact = function openAdminContact() {
    checkTelegramAuthData(function (a) {
      if (a || feedback_tg_auth_skip) {
        glob_players.length || (glob_players = ["Player"]);
        shuffle(glob_players);
        switch_modal_containers("info", {
          title: "\u041E\u0431\u0440\u0430\u0442\u043D\u0430\u044F \u0441\u0432\u044F\u0437\u044C",
          content: "\n                        <p class=\"mb-2 mb-lg-3 mb-xl-4 text-start\">\n                            \u042D\u0442\u043E \u0444\u043E\u0440\u043C\u0430 \u0434\u043B\u044F \u043F\u0440\u0435\u0434\u043B\u043E\u0436\u0435\u043D\u0438\u0439 \u0438 \u0436\u0430\u043B\u043E\u0431, \u043E\u043F\u0438\u0448\u0438\u0442\u0435 \u043F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430 \u043A\u0440\u0430\u0442\u043A\u043E \u0438 \n                            \u044F\u0441\u043D\u043E \u0441\u0432\u043E\u044E \u0438\u0434\u0435\u044E \u0438\u043B\u0438 \u043F\u0440\u0435\u0434\u043B\u043E\u0436\u0435\u043D\u0438\u0435 \u0431\u0435\u0437 \u0432\u043E\u0434\u044B.\n                        </p>\n                        <div class=\"row mb-3\">\n                            <div id=\"customer-tokens-container\" class=\"col-md-6\">\n                                <label for=\"feedback_nickname_init\" class=\"form-label\">\u041D\u0438\u043A\u043D\u0435\u0439\u043C</label>\n                                <input type=\"text\" class=\"form-control\" id=\"feedback_nickname_init\" placeholder=\"".concat(glob_players[0], "\" value=\"\" required=\"\">\n                            </div>\n                            <div id=\"customer-tokens-container\" class=\"col-md-6\">\n                                <label for=\"feedback_reason_init\" class=\"form-label\">\u041F\u0440\u0438\u0447\u0438\u043D\u0430</label>\n                                <select name=\"feedback_reason_init\" class=\"form-control\" id=\"feedback_reason_init\" value=\"game_question\" required=\"\">\n                                    <option value=\"tech_problem\">\u0422\u0435\u0445\u043D\u0438\u0447\u0435\u0441\u043A\u0438\u0435 \u043F\u0440\u043E\u0431\u043B\u0435\u043C\u044B</option>\n                                    <option value=\"game_question\">\u0412\u043E\u043F\u0440\u043E\u0441 \u043F\u043E \u0438\u0433\u0440\u0435</option>\n                                    <option value=\"player_report\">\u0416\u0430\u043B\u043E\u0431\u0430 \u043D\u0430 \u0438\u0433\u0440\u043E\u043A\u0430</option>\n                                    <option value=\"offer\">\u041F\u0440\u0435\u0434\u043B\u043E\u0436\u0435\u043D\u0438\u0435</option>\n                                </select>\n                            </div>\n                        </div>\n                        <div id=\"contant-input-container\">\n                            <label for=\"admin-message\">0/0</label>\n                            <textarea id=\"admin-message\" name=\"admin-message\" class=\"form-control\" maxlength=\"0\">\n                            </textarea>\n                        </div>\n                        <button onclick=\"sendFeedbackAction()\" class=\"w-100 btn btn-primary btn-lg btn-shadow-hide mt-3 mt-lg-4\" id=\"send-feedback-button\" type=\"button\">\n                            \u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C\n                        </button>\n                    ")
        });
        var b = document.getElementById("admin-message"),
          c = document.querySelector('label[for="admin-message"]');
        b.value.includes(" ".repeat(3)) && (b.value = b.value.trim());
        b.maxLength = 3E3;
        var d = function d() {
          c.innerText = "".concat(b.value.length, "/").concat(3E3);
        };
        d();
        addEventListener("keydown", function (e) {
          return d();
        });
        addEventListener("keyup", function (e) {
          return d();
        });
        modal_open_(onclick_lock = !0);
      } else console.log("Error check Telegram auth"), openTelegramAuthModal(), notify("\u0412\u0430\u043C \u043D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u043E \u0430\u0432\u0442\u043E\u0440\u0438\u0437\u043E\u0432\u0430\u0442\u0441\u044F \u0434\u043B\u044F \u044D\u0442\u043E\u0439 \u0444\u0443\u043D\u043A\u0446\u0438\u0438");
    });
  },
  initSOptimizeGA = function initSOptimizeGA() {
    function a() {
      dataLayer.push(arguments);
    }
    window.dataLayer = window.dataLayer || [];
    a("js", new Date());
    a("config", "G-VGRQSK1J7M");
  },
  adminsContactContainerHash = function adminsContactContainerHash() {
    observerContainerHash(["contact", "support", "bug", "report"], function () {
      openAdminContact();
    });
  },
  observerContainerHash = function observerContainerHash(a, b) {
    a.includes(linkHash()) && b();
    addEventListener("hashchange", function (c) {
      a.includes(linkHash()) && b();
    });
  },
  openTelegramAuthModal = function openTelegramAuthModal() {
    checkTelegramAuthData(function (a) {
      if (!a) {
        console.log("Telegram auth preparing...");
        a = document.createElement("script");
        a.src = "https://telegram.org/js/telegram-widget.js?21";
        a.setAttribute("async", "");
        a.setAttribute("data-telegram-login", telegram_bot_username);
        a.setAttribute("data-size", "large");
        a.setAttribute("data-radius", "8");
        a.setAttribute("data-onauth", "onTelegramAuth(user)");
        a.setAttribute("data-request-access", "write");
        a.onload = function () {
          switch_modal_containers("info", {
            title: "",
            content: ""
          });
          modal_open_();
        };
        var b = document.getElementById("info-content-modal"),
          c = document.createElement("div"),
          d = document.createElement("p");
        b.innerHTML = "";
        b.appendChild(c);
        b.appendChild(d);
        d.innerHTML = "\n                \u0414\u043B\u044F \u043D\u0435\u043A\u043E\u0442\u043E\u0440\u044B\u0445 \u0444\u0443\u043D\u043A\u0446\u0438\u0439 \u043D\u0430 \u044D\u0442\u043E\u043C \u0441\u0430\u0439\u0442\u0435 \u043D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u043E \u0430\u0432\u0442\u043E\u0440\u0438\u0437\u0438\u0440\u043E\u0432\u0430\u0442\u044C\u0441\u044F. \n                \u041C\u044B \u043D\u0435 \u043F\u043E\u043B\u0443\u0447\u0438\u043C \u043D\u0438\u043A\u0430\u043A\u0438\u0445 \u043A\u043E\u043D\u0444\u0438\u0434\u0435\u043D\u0446\u0438\u0430\u043B\u044C\u043D\u044B\u0445 \u0434\u0430\u043D\u043D\u044B\u0445 \u043E \u0432\u0430\u0441, \u043D\u0430\u043F\u0440\u0438\u043C\u0435\u0440, \n                \u0432\u0430\u0448 \u043D\u043E\u043C\u0435\u0440 \u0438\u043B\u0438 \u043B\u043E\u043A\u0430\u0446\u0438\u044E, \u044D\u0442\u043E \u043D\u0443\u0436\u043D\u043E \u0442\u043E\u043B\u044C\u043A\u043E \u0434\u043B\u044F \u0442\u043E\u0433\u043E, \u0447\u0442\u043E\u0431\u044B Telegram \n                \u043F\u043E\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u043B, \u0447\u0442\u043E \u0432\u044B \u044F\u0432\u043B\u044F\u0435\u0442\u0435\u0441\u044C \u0432\u043B\u0430\u0434\u0435\u043B\u044C\u0446\u0435\u043C \u0441\u0432\u043E\u0435\u0433\u043E \u0430\u043A\u043A\u0430\u0443\u043D\u0442\u0430. \u0422\u0430\u043A\u0436\u0435 \n                \u043D\u0435 \u0437\u0430\u0431\u0443\u0434\u044C\u0442\u0435 \u0441\u0432\u044F\u0437\u0430\u0442\u044C \u0441\u0432\u043E\u0439 \u0430\u043A\u043A\u0430\u0443\u043D\u0442 Telegram \u0441 \u0438\u0433\u0440\u043E\u0432\u044B\u043C \u0430\u043A\u043A\u0430\u0443\u043D\u0442\u043E\u043C \n                \u0432 <a href=\"".concat(telegram_social_bot, "\" target=\"_blank\" class=\"text-primary\">\u043D\u0430\u0448\u0435\u043C \u0431\u043E\u0442\u0435</a>.\n            ");
        d.setAttribute("class", "text-start px-3 pt-1 pt-lg-2");
        c.id = "telegram-auth-container";
        c.appendChild(a);
      }
    }, 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : !1);
  },
  openLoginHint = function openLoginHint() {
    var a = document.getElementById("info-content-modal"),
      b = document.createElement("div"),
      c = document.createElement("p");
    a.innerHTML = "";
    a.appendChild(b);
    a.appendChild(c);
    c.innerHTML = "\n                \u041F\u043E\u0445\u043E\u0436\u0435 \u0447\u0442\u043E \u0442\u044B \u043D\u0435 \u043F\u0440\u043E\u0447\u0438\u0442\u0430\u043B \u0442\u0435\u043A\u0441\u0442 \u0432 \u043F\u0435\u0440\u0432\u043E\u043C \u043E\u043A\u043D\u0435 \u0430\u0432\u0442\u043E\u0440\u0438\u0437\u0430\u0446\u0438\u0438,\n                \u043F\u043E\u0432\u0442\u043E\u0440\u0438\u043C \u043F\u0440\u043E\u0446\u0435\u0434\u0443\u0440\u0443. \u0427\u0442\u043E\u0431\u044B \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044C \u0430\u0432\u0442\u043E\u0440\u0438\u0437\u0430\u0446\u0438\u044E \u043D\u0430 \u0441\u0430\u0439\u0442\u0435 - \u0442\u0435\u0431\u0435 \u043D\u0443\u0436\u043D\u043E \n                \u0441\u0432\u044F\u0437\u0430\u0442\u044C \u0441\u0432\u043E\u0439 Telegram \u0441 \u0441\u0432\u043E\u0438\u043C \u0438\u0433\u0440\u043E\u0432\u044B\u043C \u0430\u043A\u043A\u0430\u0443\u043D\u0442\u043E\u043C \u0432&nbsp;\n                <a href=\"".concat(telegram_social_bot, "\" target=\"_blank\" class=\"text-primary\">\u043D\u0430\u0448\u0435\u043C \u0431\u043E\u0442\u0435</a>.\n            ");
    c.setAttribute("class", "text-start px-3 pt-1 pt-lg-2");
    b.id = "telegram-auth-hint";
    notify("\u041F\u0440\u043E\u0447\u0438\u0442\u0430\u0439 \u0432\u043D\u0438\u043C\u0430\u0442\u0435\u043B\u044C\u043D\u043E \u0438\u043D\u0441\u0442\u0440\u0443\u043A\u0446\u0438\u044E!");
    switch_modal_containers("info", {
      title: "\u041F\u043E\u043C\u043E\u0449\u044C \u0430\u0432\u0442\u043E\u0440\u0438\u0437\u0430\u0446\u0438\u0438",
      content: ""
    });
    modal_open_();
  },
  initJarallax = function initJarallax() {
    jarallax(document.querySelectorAll(".jarallax"), {
      speed: .15,
      type: "scale-opacity"
    });
  },
  initTooltip = function initTooltip() {
    [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')).map(function (a) {
      tooltip_instance = new bootstrap.Tooltip(a, {
        template: '\n                                <div class="tooltip" role="tooltip">\n                                    <div class="tooltip-inner"></div>\n                                </div>\n                            '
      });
    });
    tooltip_instance && setInterval(function () {
      tooltip_instance.update();
    }, 1E3);
  },
  initSmoothScrollObserver = function initSmoothScrollObserver() {
    var a = new SmoothScroll("section"),
      b = function b() {
        var c = linkHash().toLowerCase();
        if (c && c.length && !["private_rules"].includes(c)) try {
          a.animateScroll(document.querySelector('section[id="'.concat(c, '"]')), null, {
            offset: 50
          });
        } catch (d) {}
      };
    b();
    window.onhashchange = b;
  },
  privateServerModuleInit = function privateServerModuleInit() {
    document.getElementById("private-server-hub-description").innerHTML = "\n        \u041F\u0440\u043E\u0435\u043A\u0442 Zalupa.Online \u0437\u0430 \u043F\u0435\u0440\u0438\u043E\u0434 \u0441\u0432\u043E\u0435\u0433\u043E \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043E\u0432\u0430\u043D\u0438\u044F \u043E\u0442 \u0435\u0434\u0438\u043D\u043E\u0433\u043E \u0441\u0435\u0440\u0432\u0435\u0440\u0430\n        \u0410\u043D\u0430\u0440\u0445\u0438\u0438 \u043F\u0435\u0440\u0435\u0440\u043E\u0441 \u0432 \u043F\u0440\u043E\u0435\u043A\u0442 \u0441 \u043D\u0435\u0441\u043A\u043E\u043B\u044C\u043A\u0438\u043C\u0438 \u0440\u0435\u0436\u0438\u043C\u0430\u043C\u0438, \u043E\u0434\u0438\u043D \u0438\u0437 \u0442\u0430\u043A\u0438\u0445 \u2013 \u043F\u0440\u0438\u0432\u0430\u0442\u043D\u044B\u0439\n        \u0441\u0435\u0440\u0432\u0435\u0440 \u0441 \u0432\u0430\u043D\u0438\u043B\u044C\u043D\u044B\u043C \u0432\u044B\u0436\u0438\u0432\u0430\u043D\u0438\u0435\u043C. \u041E\u0441\u043E\u0431\u0435\u043D\u043D\u043E\u0441\u0442\u044C \u044D\u0442\u043E\u0433\u043E \u0441\u0435\u0440\u0432\u0435\u0440\u0430, \u0447\u0442\u043E \u0442\u0443\u0434\u0430 \u043F\u043E\u043F\u0430\u0434\u0430\u044E\u0442\n        \u0442\u043E\u043B\u044C\u043A\u043E \u0442\u0435, \u043A\u0442\u043E \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u0430\u043B \u0441\u0435\u0440\u0432\u0435\u0440 \u0444\u0438\u043D\u0430\u043D\u0441\u043E\u0432\u043E. \u0422\u0430\u043A\u0436\u0435 \u0435\u0434\u0438\u043D\u0441\u0442\u0432\u0435\u043D\u043D\u044B\u0439 \u0440\u0435\u0436\u0438\u043C, \u0433\u0434\u0435 \u0432\u044B\n        \u043C\u043E\u0436\u0435\u0442\u0435 \u0431\u044B\u0442\u044C \u043D\u0430 \u0443\u0440\u043E\u0432\u043D\u0435 \u0441 \u0430\u0434\u043C\u0438\u043D\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0435\u0439, \u0432\u0435\u0434\u044C \u0437\u0434\u0435\u0441\u044C \u043C\u043E\u0436\u043D\u043E \u0438\u0433\u0440\u0430\u0442\u044C \u0442\u043E\u043B\u044C\u043A\u043E \u0441\n        \u043F\u0440\u0430\u0432\u0430\u043C\u0438 \u043E\u0431\u044B\u0447\u043D\u043E\u0433\u043E \u0438\u0433\u0440\u043E\u043A\u0430, \u043D\u0438\u043A\u0430\u043A\u0438\u0445 \u043F\u0440\u0438\u0432\u0438\u043B\u0435\u0433\u0438\u0439. \u0422\u0430\u043A\u0436\u0435 \u043D\u0435 \u0437\u0430\u0431\u0443\u0434\u044C\n        <a class=\"text-gradient-primary\" href=\"#private_rules\" onclick=\"rulesModalOpen()\">\n            \u043F\u0440\u043E\u0447\u0438\u0442\u0430\u0442\u044C \u043F\u0440\u0430\u0432\u0438\u043B\u0430</a>.\n    ";
  },
  tonyComeBack = function tonyComeBack() {
    var a = document.getElementById("AppleTony_comeback_days"),
      b = function b(e) {
        a.innerText = "".concat(e, " ").concat(getNoun(e, "\u0434\u0435\u043D\u044C", "\u0434\u043D\u044F", "\u0434\u043D\u0435\u0439"));
      },
      c = new Date();
    c = new Date("11/30/2023").getTime() - c.getTime();
    var d = parseInt(c / 864E5);
    b(d);
    setInterval(function () {
      b(d);
    }, 9999);
  },
  autoAuthTelegramObserver = function autoAuthTelegramObserver() {
    telegram_auth_enabled && (document.getElementById("telegram-auth-avatar").style.display = "");
    checkTelegramAuthData(function (a) {
      console.debug("Telegram auth check status : ".concat(a));
      if (a) {
        a = document.getElementById("contact-button-land");
        var b = document.querySelector(".avatar-container"),
          c = document.getElementById("telegram-auth-avatar");
        b.removeAttribute("onclick");
        feedback_module_enabled && (a.style.display = "");
        c.style.display = "";
        setAvatar(getTelegramAuth());
      }
    });
    setInterval(displayTokens, 300);
  },
  initCore = function initCore() {
    initHost();
    initCrypto();
    getIPClient(function () {});
    initLanding();
    observerSystemTheme();
    buildPlayersSwiper();
    buildDonateHistorySwiper();
    appendPostsNews();
    initComments();
    appendServices();
    updateCartCount();
    gameServerUpdater();
    initDonate();
    initEventsList();
    initJarallax();
    finishLoad();
    successPay();
    ytVideoSetter();
    setRandomStickerLand();
    donateContainerHash();
    rulesPrivateContainerHash();
    adminsContactContainerHash();
    privateServerModuleInit();
    autoAuthTelegramObserver();
    tonyComeBack();
    displayPromotion();
    adaptiveDisplayLand();
    var a = document.getElementById("dark-perm-set-bv");
    a.parentNode.removeChild(a);
    window.onload = function () {
      if (!debug_lock_init) {
        var b = document.querySelector(".page-loading");
        setTimeout(function () {
          b.classList.remove("active");
          donate_displayed || (document.body.style.overflowY = "");
          window.scrollTo({
            top: 0
          });
        }, 1500);
        setTimeout(function () {
          b.remove();
          initTooltip();
          initSmoothScrollObserver();
        }, 1600);
      }
    };
  };
script_core.onload = function () {
  initCore();
};
//# sourceMappingURL=core.min.js.map