const cart_cookie="cart_box",channels=2,backend_host="https://backend.zalupa.world",re_token="6LfoCqYhAAAAAOLwNkJt45YPE-cCGCZ9ZSqI5Na_",development_hosts=["localhost","zalupa.world"],links_lt=[{name:"twitch",link:"https://www.twitch.tv/bratishkinoff"},{name:"youtube",link:"https://www.youtube.com/channel/UCg2uAOEoY-la2d-95uMmLuQ"},{name:"telegram",link:"https://t.me/zalupaonline"},{name:"discord",link:"https://discord.gg/qEqbVbMeEx"}];
var donate_services_array=[],notify_hidden=!0,glob_players=[],timer_notify,payment_url_global,checked_coupon,failed_coupon;function shuffle(a){let b=a.length,d;for(;0!==b;)d=Math.floor(Math.random()*b),b--,[a[b],a[d]]=[a[d],a[b]];return a}function validateEmail(a){return String(a).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}
function request_call(a,b,d,c=!1,e=null){let f=new XMLHttpRequest,h={};f.open(d,b,!0);"POST"===d.toUpperCase()&&(f.setRequestHeader("Content-Type","application/json;charset=UTF-8"),h=JSON.stringify(e));f.onload=function(){200<=f.status&&400>f.status?c?a(JSON.parse(f.responseText)):a(f.responseText):console.log(`Request status code is ${f.status}`)};f.onerror=function(g){console.log(`Error make request! Details: ${g}`)};f.onreadystatechange=()=>{400<=f.status&&(c?a({success:!1}):a(null))};f.send(h)}
function notify(a){const b=document.querySelector(".error_box_cst"),d=document.querySelector(".error_text_cst"),c=document.querySelector(".btn-scroll-top");let e=function(){b.style.marginBottom="-150px";c.setAttribute("style","");notify_hidden=!0},f=function(){notify_hidden=!1;d.innerHTML=a;c.style.marginBottom=`calc(${document.getElementById("error_box_cst_id").offsetHeight}px)`;b.style.marginBottom=0};notify_hidden?f():(e(),setTimeout(f,200));clearTimeout(timer_notify);timer_notify=setTimeout(e,
2500)}function url_builder_(a,b){a=new URL(a);for(let d=0;d<b.length;d++)a.searchParams.set(b[d].name,b[d].value);return a.href}function countProperties(a){return Object.keys(a).length}function getNoun(a,b="\u0438\u0433\u0440\u043e\u043a",d="\u0438\u0433\u0440\u043e\u043a\u0430",c="\u0438\u0433\u0440\u043e\u043a\u043e\u0432"){a=Math.abs(a);a%=100;if(5<=a&&20>=a)return c;a%=10;return 1===a?b:2<=a&&4>=a?d:c}
function get_last_tg_post_id(a,b){request_call(function(d){if(d.success)return a(d.last_post)},`${backend_host}/channel?choice=${b}`,"GET",!0)}
function append_posts(){for(let a=0;a<channels;a++)get_last_tg_post_id(function(b){let d=document.querySelector(".telegram_frames"),c=document.createElement("script");c.src="https://telegram.org/js/telegram-widget.js?19";c.setAttribute("async","");c.setAttribute("data-telegram-post",b);c.setAttribute("data-width","100%");c.setAttribute("data-userpic","true");c.setAttribute("data-dark","1");d.appendChild(c);setTimeout(function(){let e=document.getElementById("telegram_block_load");try{e.parentNode.removeChild(e)}catch(f){}},
100)},a)}function get_game_server_data(a){request_call(function(b){b.success&&a(b.body)},`${backend_host}/server`,"GET",!0)}function monitoring_game_server_update(){get_game_server_data(function(a){document.getElementById("server_online_status").innerHTML=`\u0421\u0435\u0439\u0447\u0430\u0441 \u0438\u0433\u0440\u0430\u0435\u0442 <span class="text-primary fw-semibold">${a.online}</span> ${getNoun(a.online)}`})}
function game_server_updater(){monitoring_game_server_update();setInterval(monitoring_game_server_update,5E3)}function get_donate_services(a){grecaptcha.ready(function(){grecaptcha.execute(re_token,{action:"submit"}).then(function(b){request_call(function(d){d.success&&a(d.services)},`${backend_host}/donate/services`,"POST",!0,{token:b})})})}
function create_payment(a,b,d,c="",e=""){grecaptcha.ready(function(){grecaptcha.execute(re_token,{action:"submit"}).then(function(f){request_call(function(h){h.success?a(h.payment):a(null)},`${backend_host}/donate/payment/create`,"POST",!0,{customer:b,products:d,email:c,coupon:e,token:f})})})}
function check_coupon(a,b){grecaptcha.ready(function(){grecaptcha.execute(re_token,{action:"submit"}).then(function(d){request_call(function(c){c.success?a(c.coupon):a(null)},`${backend_host}/donate/coupon`,"POST",!0,{code:b,token:d})})})}
function append_services(){get_donate_services(function(a){donate_services_array=a;const b=["row-cols-sm-2","row-cols-md-3","row-cols-lg-4"];let d=document.getElementById("donate_items_list");if(a.length)for(let c=0;c<a.length;c++){let e={name:a[c].name,price:a[c].price,count:a[c].number,description:a[c].description,type:a[c].type,service_id:a[c].id};c&&b.length>=c&&d.classList.add(b[c-1]);d.innerHTML+=`
                    <div class="col" id="donate_item_${a[c].id}">
                        <div class="card border-0 bg-transparent" 
                            onClick='donate_element_click(${JSON.stringify(e)})'>
                          <div class="position-relative">
                            <div class="parent-image-shadow donate_item_hover" 
                                id="donate_item_hover_${a[c].id}">
                                <div class="imageContainer">
                                    <img src="${a[c].image}"
                                     class="rounded-3 foregroundImg" alt="${a[c].name}" 
                                     style="display: block; margin: auto; width: 100px" loading="lazy">
                                    <img src="${a[c].image}"
                                     class="rounded-3 backgroundImg" alt="${a[c].name}" 
                                     style="display: block; margin: auto; width: 100px" loading="lazy">
                                 </div>
                            </div>
                            <div class="card-img-overlay d-flex flex-column align-items-center 
                                        justify-content-center rounded-3" 
                                 style="margin: auto">
                            </div>
                          </div>
                          <div class="card-body text-center p-3">
                                <h3 class="fs-lg fw-semibold pt-1 mb-2">${a[c].name}</h3>
                                <p class="mb-0">
                                    ${a[c].price} 
                                    ${getNoun(a[c].price,"\u0440\u0443\u0431\u043b\u044c","\u0440\u0443\u0431\u043b\u044f","\u0440\u0443\u0431\u043b\u0435\u0439")} 
                                    = 
                                    ${a[c].number} 
                                    ${getNoun(a[c].number,"\u0435\u0434\u0438\u043d\u0438\u0446\u0430","\u0435\u0434\u0438\u043d\u0438\u0446\u044b","\u0435\u0434\u0438\u043d\u0438\u0446")}
                                </p>
                                <p class="fs-sm mb-0">${a[c].description}</p>
                          </div>
                        </div>
                    </div>
                `}else d.innerHTML='<span class="text-center">\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0442\u043e\u0432\u0430\u0440\u043e\u0432.</span>';setTimeout(function(){var c=document.getElementById("donate_block_load");const e=["donate_items_list","donate-title-desc","donate-test-mode-enb","donate-cart-container"];try{c.parentNode.removeChild(c)}catch(f){}for(c=0;c<e.length;c++)try{document.getElementById(e[c]).style.display=
""}catch(f){console.log(`Donate block loader error. Details: ${f}`)}},100)})}function redirect_(a){return window.location.replace(a)}function modal_close_(){document.body.classList.remove("modal-open");let a=document.getElementById("donate_item_modal");a.style.opacity=0;setTimeout(function(){a.style.display="none"},350)}
function modal_open_(){document.body.classList.add("modal-open");let a=document.getElementById("donate_item_modal");a.style.display="block";setTimeout(function(){a.style.opacity=1},50);window.onclick=function(b){b.target===a&&modal_close_()}}
function switch_modal_containers(a="service"){const b=document.getElementsByClassName("close_b")[0];var d=document.getElementById("modal-info-container-c"),c=document.getElementById("modal-donate-container-c"),e=document.getElementById("modal-donate-finish-container-c");const f=document.querySelector(".modal-title");d=[{name:"service",selector:c,title:"\u0422\u043e\u0432\u0430\u0440"},{name:"info",selector:d,title:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"},{name:"donate_finish",selector:e,
title:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"}];for(c=0;c<d.length;c++)e="none",a===d[c].name&&(e="block",f.innerText=d[c].title),d[c].selector.style.display=e;b.onclick=function(){modal_close_()}}function discount_calculate(a,b){return(b/100*a).toFixed()}function get_cookie_cart(){let a={};try{a=JSON.parse(Cookies.get(cart_cookie))}catch(b){}return a}function update_cart_count(){document.getElementById("count_cart_items_dn").innerText=countProperties(get_cookie_cart())}
function group_already_in_cart(a){a=Object.keys(a);for(let b=0;b<donate_services_array.length;b++)if("group"===donate_services_array[b].type&&a.includes(donate_services_array[b].id.toString()))return!0;return!1}function comments_init(){let a=document.getElementById("comment_swipe_array");request_call(function(b){shuffle(b);for(let d=0;d<b.length;d++)a.innerHTML+=`
                <div class="swiper-slide h-auto px-2">
                    <figure class="card h-100 position-relative border-0 shadow-sm py-3 p-0 p-xxl-4 my-0">
                        <span class="btn btn-primary btn-lg shadow-primary pe-none position-absolute top-0 start-0 translate-middle-y ms-4 ms-xxl-5 zlp-comment-icon">
                          <i class="bx bxs-quote-left"></i>
                          \u0417\u0430\u043b\u0443\u043f\u043d\u044b\u0439 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439
                        </span>
                        <blockquote class="card-body mt-2 mb-2">
                            <p class="fs-lg mb-0" style="font-family: sans-serif">&#171;${b[d].text}&#187;</p>
                        </blockquote>
                        <figcaption class="card-footer d-flex align-items-center border-0 pt-0 mt-n2 mt-lg-0">
                            <div>
                                <h6 class="fw-semibold lh-base mb-0">${b[d].name}</h6>
                                <span class="fs-sm text-muted">${b[d].sign}</span>
                            </div>
                        </figcaption>
                    </figure>
                </div>
            `;new Swiper("#comment_swipe_container",{spaceBetween:12,loop:!0,observer:!0,observeParents:!0,autoplay:{delay:6E3},pagination:{el:".swiper-pagination",clickable:!0},navigation:{prevEl:"#prev_comment",nextEl:"#next_comment"}})},"assets/data/comments.json","GET",!0)}function build_players_swiper(){let a=document.getElementById("players-swiper-array");request_call(function(b){shuffle(b);for(let d=0;d<b.length;d++)glob_players.push(b[d].name),a.innerHTML+=`
                <div class="swiper-slide">
                    <span class="d-block py-3">
                        <img src="${b[d].head}" class="d-block mx-auto" width="154"
                           alt="${b[d].name}" loading="lazy"
                        <div class="card-body text-center p-3">
                            <h3 class="fs-lg fw-semibold pt-1 mb-2">${b[d].name}</h3>
                            <p class="fs-sm mb-0">${b[d].desc}</p>
                        </div>
                    </span>
                </div>
            `;new Swiper("#players_swipe_container",{slidesPerView:2,spaceBetween:24,autoplay:{delay:3E3},loop:!0,observer:!0,observeParents:!0,pagination:{el:".swiper-pagination-players",clickable:!0},breakpoints:{500:{slidesPerView:3},650:{slidesPerView:4},900:{slidesPerView:5},1100:{slidesPerView:6}}})},"assets/data/players.json","GET",!0)}
function donate_element_click(a){switch_modal_containers("service");const b=["group"];let d=document.getElementById("donate_item_select_text"),c=`\u0422\u043e\u0432\u0430\u0440 <span class="text-primary fw-semibold">${a.name}</span>,`+`\u0446\u0435\u043d\u0430 ${a.count} ${getNoun(a.count,"\u0435\u0434\u0438\u043d\u0438\u0446\u044b","\u0435\u0434\u0438\u043d\u0438\u0446","\u0435\u0434\u0438\u043d\u0438\u0446")} `+`<span class="text-primary fw-semibold">${a.price} `+`${getNoun(a.price,"\u0440\u0443\u0431\u043b\u044c",
"\u0440\u0443\u0431\u043b\u044f","\u0440\u0443\u0431\u043b\u0435\u0439")}</span>.`,e=document.getElementById("items_count_donate"),f=document.getElementById("donate_count_text_hint"),h=document.getElementById("donate_button_add_to_cart");const g=get_cookie_cart();let l=function(){h.setAttribute("onClick",`donate_cart(${a.service_id}, ${e.value})`)};e.value=1;l();var m=g.hasOwnProperty(a.service_id.toString());if((b.includes(a.type)||"group"===a.type)&&group_already_in_cart(g)){switch_modal_containers("info");
let k="";k="group"===a.type?"\u0412\u044b \u0443\u0436\u0435 \u0432\u044b\u0431\u0440\u0430\u043b\u0438 \u043f\u0440\u0438\u0432\u0438\u043b\u0435\u0433\u0438\u044e. \u0423\u0434\u0430\u043b\u0438\u0442\u0435 \u0435\u0451 \u0438\u0437 \u043a\u043e\u0440\u0437\u0438\u043d\u044b, \u0435\u0441\u043b\u0438 \u0445\u043e\u0442\u0438\u0442\u0435 \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0434\u0440\u0443\u0433\u0443\u044e.":m?"\u041e\u0448\u0438\u0431\u043a\u0430, \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u043e\u0432\u0430\u0440 "+
`<span class="text-primary fw-semibold">${a.name}</span> `+"\u0442\u043e\u043b\u044c\u043a\u043e \u043e\u0434\u0438\u043d \u0440\u0430\u0437.":"\u041c\u044b \u043d\u0435 \u0437\u043d\u0430\u0435\u043c \u043f\u043e\u0447\u0435\u043c\u0443, \u043d\u043e \u044d\u0442\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0432\u044b\u0437\u0432\u0430\u043d\u0430 \u043f\u043e \u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u043c \u043f\u0440\u0438\u0447\u0438\u043d\u0430\u043c.";document.getElementById("donate_info_block_text").innerHTML=
k}m="block";b.includes(a.type)&&(m="none");e.style.display=m;f.style.display=m;const q=function(){e.value=e.value.replace(/\D+/g,"");if(!b.includes(a.type)){let k=parseInt(e.value)*a.price,n=g[a.service_id],p="";if(isNaN(k)||1>Math.sign(k))k=0;n&&(p='\u0423\u0436\u0435 \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0435 -  <span class="text-primary fw-semibold">'+`${n}</span>`);d.innerHTML=`${c}<br/>\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c - `+`<span class="text-primary fw-semibold">${k} `+
`${getNoun(k,"\u0440\u0443\u0431\u043b\u044c","\u0440\u0443\u0431\u043b\u044f","\u0440\u0443\u0431\u043b\u0435\u0439")}</span>`+`<br/>${p}`;l()}};d.innerHTML=c;q();e.addEventListener("input",function(k){q()});modal_open_()}function donate_get_service_by_id(a){for(let b=0;b<donate_services_array.length;b++)if(donate_services_array[b].id===parseInt(a))return donate_services_array[b];return null}
function donate_reset_payment_state(a=!1){const b=document.getElementById("payment-button-donate");b.setAttribute("onClick","generate_payment_link()");b.removeAttribute("disabled");b.innerText=a?"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c":"\u0414\u0430\u043b\u044c\u0448\u0435"}
function donate_cart(a,b,d=!1){var c=Cookies.get(cart_cookie),e=get_cookie_cart();let f=0;try{let h=e[a];Number.isInteger(h)&&(f=+h)}catch(h){}Number.isInteger(a)&&Number.isInteger(b)?1>Math.sign(b)?notify("\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0440\u0430\u0432\u043d\u043e \u043d\u0443\u043b\u044e \u0438\u043b\u0438 \u043c\u0435\u043d\u044c\u0448\u0435"):15E3<f+b?notify('\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e - <span style="color: #a4a6ff">15000</span>'):
(c||Cookies.set(cart_cookie,JSON.stringify({})),c=JSON.parse(Cookies.get(cart_cookie)),e=donate_get_service_by_id(a),d?(delete c[a],notify(`\u0422\u043e\u0432\u0430\u0440 ${'<span style="color: #a4a6ff">'} ${e.name}</span> \u0443\u0431\u0440\u0430\u043d \u0438\u0437 \u043a\u043e\u0440\u0437\u0438\u043d\u044b`)):c[a]?(c[a]+=b,notify(`\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0443 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e ${'<span style="color: #a4a6ff">'} ${b} </span>`+`${getNoun(b,
"\u0435\u0434\u0438\u043d\u0438\u0446\u0430","\u0435\u0434\u0438\u043d\u0438\u0446\u044b","\u0435\u0434\u0438\u043d\u0438\u0446")}`+`\u0442\u043e\u0432\u0430\u0440\u0430 ${'<span style="color: #a4a6ff">'} ${e.name} </span>`)):(c[a]=b,notify(`\u0422\u043e\u0432\u0430\u0440 ${'<span style="color: #a4a6ff">'} ${e.name}</span> \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443`)),Cookies.set(cart_cookie,JSON.stringify(c)),modal_close_(),donate_init(),update_cart_count(),
donate_reset_payment_state()):console.log("Error data donate_cart")}function donate_cart_button(a={}){const b=document.querySelectorAll(".donate-cart-button-cn");for(let d=0;d<b.length;d++){let c=b[d].style;countProperties(a)?(c.display="flex",setTimeout(function(){c.opacity=1;c.marginTop="15px";b[d].removeAttribute("disabled")},50)):(b[d].setAttribute("disabled",""),c.opacity=0,c.marginTop="-50px",setTimeout(function(){c.display="none"},350))}}
function donate_flush_cart(){Cookies.remove(cart_cookie);donate_cart_button({});notify("\u041a\u043e\u0440\u0437\u0438\u043d\u0430 \u043e\u0447\u0438\u0449\u0435\u043d\u0430")}
function coupon_check(){const a=document.getElementById("coupon-input"),b=document.getElementById("coupon-button"),d=a.value.trim(),c=function(){notify(`\u041a\u0443\u043f\u043e\u043d <span class="text-primary fw-semibold">${failed_coupon}</span> \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d`)};if(d.length)if(20<d.length)notify("\u041a\u0443\u043f\u043e\u043d \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u0434\u043b\u0438\u043d\u043d\u044b\u0439");else if(/^[A-z\d_]+$/.test(d))if(checked_coupon===
d)notify("\u042d\u0442\u043e\u0442 \u043a\u0443\u043f\u043e\u043d \u0443\u0436\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f");else if(failed_coupon===d)c();else{var e=function(f=!1){f?(a.setAttribute("disabled",""),b.setAttribute("disabled",""),b.innerText="\u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c"):(a.removeAttribute("disabled"),b.removeAttribute("disabled"),b.innerText="\u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c")};e(!0);check_coupon(function(f){f?
(checked_coupon=d,notify(`\u041a\u0443\u043f\u043e\u043d <span class="text-primary fw-semibold">${d}</span> \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439`),donate_cart_call(d,!1)):(failed_coupon=d,c());e()},d)}else notify("\u041a\u0443\u043f\u043e\u043d \u0443\u043a\u0430\u0437\u0430\u043d \u043d\u0435\u0432\u0435\u0440\u043d\u043e");else notify("\u0412\u044b \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043b\u0438 \u043a\u0443\u043f\u043e\u043d")}
function donate_enable_coupon(a=!0){const b=document.getElementById("coupon-input"),d=document.getElementById("coupon-button");a?(b.setAttribute("placeholder","BRFF"),d.setAttribute("onClick","coupon_check()"),b.removeAttribute("disabled"),d.removeAttribute("disabled")):(b.setAttribute("disabled",""),b.setAttribute("placeholder","\u0421\u0435\u0439\u0447\u0430\u0441 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e"),d.setAttribute("disabled",""))}
function generate_payment_link(){const a=document.getElementById("payment-button-donate"),b=document.getElementById("donate_customer").value.trim();let d=document.getElementById("donate_email").value.trim(),c=checked_coupon.trim();if(b.length)if(40<b.length)notify("\u0412\u0430\u0448 \u043d\u0438\u043a\u043d\u0435\u0439\u043c \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u0434\u043b\u0438\u043d\u043d\u044b\u0439");else{/^[A-z\d_]+$/.test(b)||notify("\u041d\u0438\u043a\u043d\u0435\u0439\u043c \u043d\u0435 \u0441\u043e\u043e\u0442\u0432\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u0444\u043e\u0440\u043c\u0430\u0442\u0443");
if(!d.length)d=null;else if(!validateEmail(d)){notify("\u041e\u0448\u0438\u0431\u043a\u0430, \u0430\u0434\u0440\u0435\u0441 \u043f\u043e\u0447\u0442\u044b \u043d\u0435\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439");return}c||=null;a.setAttribute("disabled","");a.innerText="\u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0435...";create_payment(function(e){e?(a.removeAttribute("disabled"),a.innerText="\u041e\u043f\u043b\u0430\u0442\u0438\u0442\u044c",
payment_url_global=e.url,a.setAttribute("onClick","payment_action_bt()")):(notify("\u041e\u0448\u0438\u0431\u043a\u0430, \u043d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0447\u0435\u043a \u0434\u043b\u044f \u043e\u043f\u043b\u0430\u0442\u044b"),donate_reset_payment_state(!0))},b,get_cookie_cart(),d,c)}else notify("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u0430\u0448 \u043d\u0438\u043a\u043d\u0435\u0439\u043c")}
function payment_action_bt(){window.open(payment_url_global,"_blank")}function donate_check_services_cart(){const a=Object.keys(get_cookie_cart());get_donate_services(function(b){let d=[];for(var c=0;c<b.length;c++)d.push(b[c].id);for(b=0;b<a.length;b++)d.includes(parseInt(a[b]))||(c=JSON.parse(Cookies.get(cart_cookie)),delete c[parseInt(a[b])],Cookies.set(cart_cookie,JSON.stringify(c)),console.log(`Remove ${a[b]} from cart`))})}
function donate_init(){let a={};try{a=JSON.parse(Cookies.get(cart_cookie))}catch(b){}donate_cart_button(a);donate_check_services_cart();donate_enable_coupon(!0)}
function donate_cart_call(a=null,b=!0){const d=get_cookie_cart(),c=Object.keys(d),e=document.getElementById("donate-cart-list");var f=[document.getElementById("donate_customer"),document.getElementById("donate_email"),document.getElementById("coupon-input")];switch_modal_containers("donate_finish");modal_open_();e.innerHTML="";let h=0;for(var g=0;g<f.length;g++)f[g].addEventListener("input",function(l){donate_reset_payment_state()});for(f=0;f<c.length;f++){g=donate_get_service_by_id(c[f]);let l=g.price*
d[g.id];h+=l;e.innerHTML+=`
            <li class="list-group-item d-flex justify-content-between lh-sm">
                <div>
                    <h6 class="my-0 text-start">
                        <span class="text-primary fw-semibold">
                            x${g.number}</span> 
                        ${g.name}
                    </h6>
                    <small class="text-muted text-start cart-desc-td">${g.description}</small>
                </div>
                <span class="text-muted text-end" style="width: 30%">
                    ${l} ${getNoun(l,"\u0440\u0443\u0431\u043b\u044c","\u0440\u0443\u0431\u043b\u044f","\u0440\u0443\u0431\u043b\u0435\u0439")}
                    <br/>x${d[g.id]}</span>
            </li>
        `}a&&(e.innerHTML=e.innerHTML+'<li class="list-group-item d-flex justify-content-between bg-light"><div class="text-primary"><h6 class="my-0 text-start">\u041a\u0443\u043f\u043e\u043d</h6>'+`<small class="text-start font-monospace" style="float: left">${a}</small>`+"</div></li>");e.innerHTML=e.innerHTML+'<li class="list-group-item d-flex justify-content-between"><span>\u0421\u0443\u043c\u043c\u0430</span>'+`<strong>${h} ${getNoun(h,"\u0440\u0443\u0431\u043b\u044c","\u0440\u0443\u0431\u043b\u044f",
"\u0440\u0443\u0431\u043b\u0435\u0439")}</strong>`+"</li>";b&&(shuffle(glob_players),document.querySelector("input#donate_customer").setAttribute("placeholder",glob_players[0]))}
function links_set_(a,b=!1){a=document.getElementById(a);let d="margin-left: 0 !important";for(let c=0;c<links_lt.length;c++){if(!b||c)d="";a.innerHTML=a.innerHTML+`<a href="${links_lt[c].link}" target="_blank" style="${d}"`+`class="btn btn-icon btn-secondary btn-${links_lt[c].name} mx-2">`+`<i class="bx bxl-${links_lt[c].name}"></i></a>`}}
function discord_init(){document.getElementById("discord-embed").innerHTML='<iframe src="https://discordapp.com/widget?id=259124796971941890&theme=dark" width="100%" height="300px" allowTransparency="true" frameBorder="0" loading="lazy" sandbox="allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts"></iframe>'}
function landing_init(){development_hosts.includes(window.location.hostname)&&(document.getElementById("landing_description_gb").innerText="\u042d\u0442\u043e\u0442 \u0441\u0430\u0439\u0442 - development-\u0432\u0435\u0440\u0441\u0438\u044f!",document.getElementById("donate-test-mode-enb").innerText="\u042d\u0442\u043e\u0442 \u0431\u043b\u043e\u043a \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0432 \u0434\u0435\u043c\u043e\u043d\u0441\u0442\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u043c \u0440\u0435\u0436\u0438\u043c\u0435 \u0438 \u043d\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u043c.");
links_set_("landing-links-tp",!0);links_set_("links-block-footer-v");discord_init()}function finish_load(){document.querySelector("main").setAttribute("style","");document.querySelector("footer").setAttribute("style","");document.getElementById("footer-text-blc").innerHTML="Made with &#10084;&#65039; by KovalYRS for Zalupa.Online";grecaptcha&&(document.getElementById("re-badge-text").innerText="This site uses Google ReCaptcha technology")}
document.addEventListener("DOMContentLoaded",function(){landing_init();build_players_swiper();append_posts();comments_init();append_services();update_cart_count();game_server_updater();donate_init();finish_load();let a=document.getElementById("dark-perm-set-bv");a.parentNode.removeChild(a);window.onload=function(){const b=document.querySelector(".page-loading");b.classList.remove("active");setTimeout(function(){b.remove()},600)}});
