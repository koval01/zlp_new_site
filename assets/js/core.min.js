const site_domains={prod:domain_site,dev:development_hosts[0],test:development_hosts[1]},cart_cookie="cart_box",channels=2,links_lt=[{name:"twitch",link:"https://www.twitch.tv/bratishkinoff"},{name:"youtube",link:"https://www.youtube.com/channel/UCg2uAOEoY-la2d-95uMmLuQ"},{name:"telegram",link:"https://t.me/zalupaonline"},{name:"discord",link:"https://discord.gg/qEqbVbMeEx"}],lock_of=!0,coins_sell_mode=!0;
var donate_services_array=[],notify_hidden=!0,glob_players=[],timer_notify,swiper_comments,payment_url_global,checked_coupon="",failed_coupon="",crypto_token="",tooltip_instance,events_page_state="news",donate_displayed=!1,modal_displayed=!1,freeze_crypto=!1,debug_lock_init=!1,freeze_monitoring=!1,gameServerUpdater_setter,work_domain_v="zalupa.online",products_by_serverid=[],current_c_item=0,telegram_cookie_token="telegram_auth";
function initHost(){let a=Object.keys(site_domains);for(let b=0;b<a.length;b++)site_domains[a[b]]===window.location.hostname&&(work_domain_v=site_domains[a[b]])}function linkHash(){return window.location.hash.substring(1)}function utf8_to_b64(a){return window.btoa(unescape(encodeURIComponent(a)))}function b64_to_utf8(a){return decodeURIComponent(escape(window.atob(a)))}
function getHash(a){a=window.location.hash.substr(1);return Object.keys(a.split("&").reduce(function(b,c){c=c.split("=");b[c[0]]=c[1];return b},{}))[0]}function re_check(a){grecaptcha.ready(function(){grecaptcha.execute(re_token,{action:"submit"}).then(function(b){a(b)})})}function shuffle(a){let b=a.length,c;for(;0!==b;)c=Math.floor(Math.random()*b),b--,[a[b],a[c]]=[a[c],a[b]];return a}
function alternateSort(a){let b;for(let d=0;d<a.length;d++){b=d;var c=a[d];for(let f=d+1;f<a.length;f++)a[f]<c&&(c=a[f],b=f);c<a[d]&&(c=a[d],a[d]=a[b],a[b]=c)}}
function getImageLightness(a,b){let c=document.createElement("img");c.src=a;c.crossOrigin="Anonymous";c.style.display="none";document.body.appendChild(c);let d=0;c.onload=function(){var f=document.createElement("canvas");f.width=this.width;f.height=this.height;var e=f.getContext("2d");e.drawImage(this,0,0);f=e.getImageData(0,0,f.width,f.height).data;let g,h;for(let k=0,l=f.length;k<l;k+=4)e=f[k],g=f[k+1],h=f[k+2],e=Math.floor((e+g+h)/3),d+=e;b(Math.floor(d/(this.width*this.height)));c.remove()}}
function validateEmail(a){return String(a).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}function url_builder_(a,b){a=new URL(a);for(let c=0;c<b.length;c++)a.searchParams.set(b[c].name,b[c].value);return a.href}function countProperties(a){return Object.keys(a).length}
function getNoun(a,b="\u0438\u0433\u0440\u043e\u043a",c="\u0438\u0433\u0440\u043e\u043a\u0430",d="\u0438\u0433\u0440\u043e\u043a\u043e\u0432"){a=Math.abs(a);a%=100;if(5<=a&&20>=a)return d;a%=10;return 1===a?b:2<=a&&4>=a?c:d}function getCrypto(a,b){re_check(function(c){requestCall(function(d){d.success?a(d.token):a("")},`${backend_host}/crypto`,"POST",!0,{token:c})})}function get_events_(a){re_check(function(b){requestCall(function(c){a(c.events)},`${backend_host}/events`,"POST",!0,{token:b})})}
function get_yt_video_(a,b,c=!1){c?a(null):re_check(function(d){requestCall(function(f){a(f.body)},`${backend_host}/youtube_get`,"POST",!0,{token:d,video_id:b})})}function get_news_(a,b){re_check(function(c){requestCall(function(d){a(d.messages)},`${backend_host}/channel_parse?choice=${b}`,"POST",!0,{token:c})})}function get_rules_private_server(a){requestCall(function(b){a(b)},"assets/data/private_server_rules.json","GET",!0)}
function appendPostsNews(){let a=function(b){var c=document.getElementById("news_swipe_array");b=b.reverse();for(let e=0;e<b.length;e++){var d=b[e].text,f=new Date(b[e].datetime_utc);b[e].cover||(b[e].cover="assets/images/spawn.webp");c.innerHTML+=`
                <div class="swiper-slide h-auto px-2">
                    <figure class="card h-100 position-relative border-0 shadow-sm news-figure" id="news_figure_${e}">
                        <div class="background-news" id="background-news-${e}">
                            <div class="background-news-overlay" id="news-overlay-${e}">
                                <div class="background-news-overlay-dark-mode">
                                    <blockquote class="card-body mt-2 mb-3 news-text-container">
                                        <p class="fs-md mb-0 news-text h6" id="news_text_${e}" style="font-family:sans-serif">
                                                ${d}</p>
                                        <div class="news-bottom-container">
                                            <a class="btn btn-primary shadow-primary btn-lg news-button-view"
                                               href="${b[e].link}" target="_blank">
                                                    \u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435</a>
                                        </div>
                                    </blockquote>
                                </div>
                            </div> 
                        </div>
                    </figure>
                    <span class="news-date-text">
                        ${f.toLocaleDateString()} 
                        ${f.toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"})}
                    </span>
                </div>
            `;f=document.getElementById(`background-news-${e}`);d=document.getElementById(`news_text_${e}`);f.style.backgroundImage=`url(${b[e].cover})`;d.style.width="100%";d.classList.add("text-light");f=d.innerText.length;d.innerText.split(" ");f=.4*(f- -8)/100;let g=(k,l,n=.32,m=.9,p=0)=>{k=k<n?l/m*n:k;return p?k<p?k:p:k};d.style.fontSize=`calc(${g(parseFloat(1.3-f),f)}vw + ${g(parseFloat(1.5-f),f)}vh + ${g(parseFloat(1.65-f),f)}vmin)`;d.style.padding=`${g(parseFloat(1.3-f),f,.22,1.05)}rem`;getImageLightness(b[e].cover,
function(k){k=`#000000${((parseFloat(k)/255*100).toFixed()+64).toString(16).slice(0,2)}`;document.getElementById(`news-overlay-${e}`).style.background=k});let h=()=>{let k=document.getElementById(`news_text_${e}`);24<parseFloat(window.getComputedStyle(k,null).getPropertyValue("font-size").replace("px",""))?(k.style.position="absolute",k.style.textAlign="center",k.style.alignItems="center",k.style.height="100%",k.style.display="inline-block",k.style.paddingBottom="5rem",k.style.paddingRight="3rem"):
(k.style.position="",k.style.textAlign="",k.style.alignItems="",k.style.height="",k.style.display="",k.style.paddingBottom="",k.style.paddingRight="")};addEventListener("resize",k=>h());setInterval(h,200)}c=function(){setTimeout(function(){let e=document.getElementById("telegram_block_load"),g=document.getElementById("news_zlp_buttons");try{e.parentNode.removeChild(e),g.style.display=""}catch(h){}},150)};b&&(new Swiper("#news_swipe_container",{spaceBetween:12,loop:!0,observer:!0,observeParents:!0,
preventClicks:!1,preventClicksPropagation:!1,autoplay:{delay:1E4},pagination:{el:"#news_swiper_pagination",clickable:!0},navigation:{prevEl:"#prev_news",nextEl:"#next_news"}}),c())};get_news_(function(b){a(b)},1)}
function donateSwitchContainer(a){let b=document.querySelector(".donate-global-container"),c=function(d){setTimeout(function(){b.style.zIndex=d},850)};!donate_displayed||a?(document.body.style.overflowY="hidden",window.scrollTo({top:0,behavior:"smooth"}),b.style.minHeight="",c(""),donate_displayed=!0,location.hash="#donate"):(b.style.minHeight="0",b.style.zIndex="-1",document.body.style.overflowY="",donate_displayed=!1,location.hash="#")}
function get_game_server_data(a){crypto_token?requestCall(function(b){setTimeout(function(){freeze_monitoring=!1},800);b.success?a(b.body):crypto_token=""},`${backend_host}/server`,"POST",!0,{crypto_token}):(initCrypto(),freeze_monitoring=!1)}
function monitoring_game_server_update(){freeze_monitoring||(freeze_monitoring=!0,get_game_server_data(function(a){if(a.online){"undefined"!==typeof gameServerUpdater_setter&&clearInterval(gameServerUpdater_setter);let b=document.getElementById("server_online_status");b.classList.remove("loading-dots");b.innerHTML=`\u0421\u0435\u0439\u0447\u0430\u0441 \u0438\u0433\u0440\u0430\u0435\u0442 <span class="text-primary fw-semibold">${a.online}</span>
            <i class="emoji male-emoji" style="margin-left: -.35rem!important;background-image:url('assets/images/emoji/male.png')"><b>\u2642</b></i>
            ${getNoun(a.online)}
            <i class="emoji male-emoji" style="background-image:url('assets/images/emoji/male.png')"><b>\u2642</b></i>
            `}}))}function gameServerUpdater(){monitoring_game_server_update();gameServerUpdater_setter=setInterval(monitoring_game_server_update,300);setInterval(monitoring_game_server_update,6E3)}
function initEventsList(){let a=document.getElementById("events-row-container");document.getElementById("events_block_load");let b=document.getElementById("events-c-button"),c=["row-cols-md-2","row-cols-lg-2","row-cols-xl-3"];get_events_(function(d){if(d&&d.length){events_block_load.remove();d.sort(function(g,h){g=new Date(g.date_start);h=new Date(h.date_start);return g<h?-1:g>h?1:0});let e=function(g){let h=6E4*-g.getTimezoneOffset();return new Date(g.getTime()-h)};for(let g=0;g<d.length;g++){b.removeAttribute("disabled");
3>g>0&&a.classList.add(c[g]);var f=e(new Date(d[g].date_start));let h=e(new Date(d[g].date_end)),k=new Date((new Date).toLocaleString("en-US",{timeZone:"Europe/Moscow"})),l="";f>k?l="\u0421\u043a\u043e\u0440\u043e":k>h&&(l="\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e");f=`
                    <div class="col">
                        <div class="object-block-col">
                            <h1>${d[g].title}</h1>
                            <h4 class="text-primary" style="margin-top: -1.2rem">${l}</h4>
                            <h6 style="margin-top: -1rem">\u0421 <span class="text-primary">
                                ${f.toLocaleDateString("ru-RU")} ${("0"+f.getHours()).slice(-2)}:${("0"+f.getMinutes()).slice(-2)}
                                </span> \u043f\u043e <span class="text-primary">
                                ${h.toLocaleDateString("ru-RU")} ${("0"+h.getHours()).slice(-2)}:${("0"+h.getMinutes()).slice(-2)}
                                </span></h6>
                            <p>${d[g].text}</p>
                        </div>
                    </div>
                `;a.innerHTML+=f}}})}function get_donate_services(a){re_check(function(b){requestCall(function(c){a(c.services)},`${backend_host}/donate/services`,"POST",!0,{token:b})})}function create_payment(a,b,c,d,f="",e=""){re_check(function(g){requestCall(function(h){a(h.payment)},`${backend_host}/donate/payment/create`,"POST",!0,{customer:b,products:c,email:f,coupon:e,token:g,server_id:d,success_url:`https://${work_domain_v}`})})}
function check_coupon(a,b){re_check(function(c){requestCall(function(d){d.coupon&&d.success?a(d.coupon):a(null)},`${backend_host}/donate/coupon`,"POST",!0,{code:b,token:c})})}function checkTelegramAuthData(a){let b=getTelegramAuth(!0);b?requestCall(function(c){c?a(c.success):a(!1)},`${backend_host}/telegram/auth/check`,"POST",!0,{tg_auth_data:b}):a(!1)}
function checkFeedbackStatus(a){let b=getTelegramAuth(!0);b&&re_check(function(c){requestCall(function(d){d?a(d.success):a(!1)},`${backend_host}/feedback/check`,"POST",!0,{token:c,tg_auth_data:b})})}function sendFeedback(a,b){let c=getTelegramAuth(!0);c&&re_check(function(d){requestCall(function(f){f?a(f.success):a(!1)},`${backend_host}/feedback/send`,"POST",!0,{text:b,token:d,tg_auth_data:c})})}
function sendFeedbackAction(){let a=document.getElementById("send-feedback-button"),b=document.getElementById("admin-message").value;if(20>b.length)notify("\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043e\u0447\u0435\u043d\u044c \u043a\u043e\u0440\u043e\u0442\u043a\u043e\u0435!");else{var c=(d=!0)=>{d?a.setAttribute("disabled",""):a.removeAttribute("disabled");a.innerText=d?"\u041e\u0436\u0438\u0434\u0430\u0439\u0442\u0435...":"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"};
c();checkFeedbackStatus(function(d){d?sendFeedback(function(f){f?notify("\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u0430\u0434\u043c\u0438\u043d\u0430\u043c."):notify("\u041e\u0448\u0438\u0431\u043a\u0430 \u043d\u0430 \u0441\u0442\u043e\u0440\u043e\u043d\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u0430, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435.");c(!1)},b):(c(!1),notify("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u0440\u043e\u0439\u0442\u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0443, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435."))})}}
function checkPayment(a,b){re_check(function(c){requestCall(function(d){a(d.payment)},`${backend_host}/donate/payment_get`,"POST",!0,{payment_id:parseInt(b),token:c,tokens_send:coins_sell_mode})})}
function appendServices(){get_donate_services(function(a){donate_services_array=a;let b=["row-cols-sm-2","row-cols-md-3","row-cols-lg-4"],c=document.getElementById("donate_items_list"),d=(e,g)=>{e=e.toLowerCase();g=g.toLowerCase();if(e.includes("\u0442\u043e\u043a\u0435\u043d")&&"currency"===g)return 1;if(e.includes("\u043f\u0440\u043e\u0445\u043e\u0434\u043a\u0430")&&"other"===g)return 2};if(a.length){donate_check_services_cart();for(let e=0;e<a.length;e++){let g={name:a[e].name,price:a[e].price,
count:a[e].number,description:a[e].description,type:a[e].type,service_id:a[e].id,server_id:a[e].server_id};products_by_serverid.push(a[e]);let h="",k="p-3",l=`
                    <p class="mb-0">
                        ${a[e].price} 
                        ${getNoun(a[e].price,"\u0440\u0443\u0431\u043b\u044c","\u0440\u0443\u0431\u043b\u044f","\u0440\u0443\u0431\u043b\u0435\u0439")} 
                        = 
                        ${a[e].number} 
                        ${getNoun(a[e].number,"\u0435\u0434\u0438\u043d\u0438\u0446\u0430","\u0435\u0434\u0438\u043d\u0438\u0446\u044b","\u0435\u0434\u0438\u043d\u0438\u0446")}
                    </p>
                    <p class="fs-sm mb-0">${a[e].description}</p>
                `;var f="";e&&b.length>=e&&c.classList.add(b[e-1]);let n=`onClick="donate_element_click(${JSON.stringify(g)})"`;coins_sell_mode?(f="",a[e].name.toLowerCase().includes("\u0442\u043e\u043a\u0435\u043d")?(h=`${a[e].price} ${getNoun(a[e].price,"\u0440\u0443\u0431\u043b\u044c","\u0440\u0443\u0431\u043b\u044f","\u0440\u0443\u0431\u043b\u0435\u0439")} = ${a[e].number} ${getNoun(a[e].number,"\u0442\u043e\u043a\u0435\u043d","\u0442\u043e\u043a\u0435\u043d\u0430","\u0442\u043e\u043a\u0435\u043d\u043e\u0432")}`,
k="p-0",l='\n                        <p class="mb-0 token-description-dnt">\n                            \u0418\u0433\u0440\u043e\u0432\u0430\u044f \u0432\u0430\u043b\u044e\u0442\u0430, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043a\u0430\u043a \u0432 \u0438\u0433\u0440\u0435, \u0442\u0430\u043a \u0438 \u0437\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0443 \u043f\u0440\u043e\u0435\u043a\u0442\u0430.\n                        </p>',
f="\u041f\u0440\u0438\u043e\u0431\u0440\u0435\u0441\u0442\u0438 \u0442\u043e\u043a\u0435\u043d\u044b",n=""):a[e].name.toLowerCase().includes("\u043f\u0440\u043e\u0445\u043e\u0434\u043a\u0430")&&(h=`
                        <span class="text-primary">${a[e].name}</span>,
                        ${a[e].price} ${getNoun(a[e].price,"\u0440\u0443\u0431\u043b\u044c","\u0440\u0443\u0431\u043b\u044f","\u0440\u0443\u0431\u043b\u0435\u0439")}`,k="p-0",l='\n                        <p class="mb-0 token-description-dnt">\n                            \u0417\u0430 \u0444\u0438\u043d\u0430\u043d\u0441\u043e\u0432\u0443\u044e \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0443 \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0442\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u0448\u044c \u043f\u0440\u043e\u043f\u0443\u0441\u043a \u043d\u0430 \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u044b\u0439 \u0441\u0435\u0440\u0432\u0435\u0440.\n                        </p>',
f="\u041f\u0440\u0438\u043e\u0431\u0440\u0435\u0441\u0442\u0438 \u043f\u0440\u043e\u043f\u0443\u0441\u043a",n=""),f=`
                        <button class="btn btn-primary shadow-primary btn-shadow-hide btn-lg min-w-zl donate-item-butt-bottom" 
                            onclick="donateModalCall(${d(g.name,g.type)}, ${g.service_id})">
                            ${f}
                        </button>`):h=a[e].name;c.innerHTML+=`
                    <div class="col" id="donate_item_${a[e].id}">
                        <div class="card border-0 bg-transparent" ${n}>
                          <div class="position-relative container-item-donate-n">
                            <div class="parent-image-shadow donate_item_hover" 
                                id="donate_item_hover_${a[e].id}">
                                <div class="imageContainer item-levitaion-dec">
                                    <img src="${a[e].image}"
                                     class="rounded-3 foregroundImg" alt="${a[e].name}" 
                                     style="display: block; margin: auto; width: 100px" loading="lazy">
                                    <img src="${a[e].image}"
                                     class="rounded-3 backgroundImg" alt="${a[e].name}" 
                                     style="display: block; margin: auto; width: 100px" loading="lazy">
                                 </div>
                            </div>
                            <div class="card-img-overlay d-flex flex-column align-items-center 
                                        justify-content-center rounded-3" 
                                 style="margin: auto">
                            </div>
                          </div>
                          <div class="card-body text-center ${k}">
                                <h3 class="fs-lg fw-semibold pt-1 mb-2">${h}</h3>
                                ${l}
                                ${f}
                          </div>
                        </div>
                    </div>
                `}setTimeout(function(){var e=document.getElementById("donate_block_load");let g=["donate_items_list","donate-header-container","donate-test-mode-enb","donate-cart-container"];try{e.parentNode.removeChild(e)}catch(h){}for(e=0;e<g.length;e++)try{document.getElementById(g[e]).style.display=""}catch(h){console.log(`Donate block loader error. Details: ${h}`)}},100)}else c.innerHTML='<span class="text-center">\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0442\u043e\u0432\u0430\u0440\u043e\u0432.</span>'})}
function switchEventsPages(a){let b=document.getElementById("news-c-container"),c=document.getElementById("events-c-container"),d=document.getElementById("news-c-button"),f=document.getElementById("events-c-button");a!==events_page_state&&("events"===a?(b.style.display="none",c.style.display="block",d.removeAttribute("disabled"),f.setAttribute("disabled",""),c.style.top="0",b.style.top="-2rem",events_page_state="events"):"news"===a&&(b.style.display="block",c.style.display="none",d.setAttribute("disabled",
""),f.removeAttribute("disabled"),c.style.top="-2rem",b.style.top="0",events_page_state="news"))}function redirect_(a){return window.location.replace(a)}function ytVideoSetter(a=!1){let b=function(c,d,f){get_yt_video_(function(e){c.innerHTML=e&&e.video.x720.url&&!a?`
                    <video class="video-container" ${null!=f.autoplay?'autoplay=""':""} ${null!=f.muted?'muted=""':""} ${null!=f.loop?'loop=""':""} ${null!=f.controls?'controls=""':""} style="object-fit: contain">
                        <source src="${e.video.x720.url}" type="video/mp4">
                    </video>
                `:`
                    <iframe src="https://www.youtube.com/embed/${d}" title="YouTube video player"
                        frameborder="0" class="video-container-yt"
                        allow="accelerometer; ${null!=f.autoplay?"autoplay":""}; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                        allowfullscreen="" loading="lazy"></iframe>
                `},d,a)};for(let c of Array.from(document.getElementsByClassName("ytVideoSetter"))){let d=c.getAttribute("video_id");d&&d.length&&20>d.length&&b(c,d,params={autoplay:c.getAttribute("autoplay"),muted:c.getAttribute("muted"),loop:c.getAttribute("loop"),controls:c.getAttribute("controls")})}}
function modal_close_(){if(modal_displayed){document.body.classList.remove("modal-open");document.getElementById("scroll_butt_container").style.display="";document.getElementsByTagName("html")[0].style.overflowY="";let a=document.getElementById("donate_item_modal");a.style.opacity=0;setTimeout(function(){a.style.display="none"},350);modal_displayed=!1}}
function modal_open_(a=!1){modal_displayed=!0;document.body.classList.add("modal-open");document.getElementById("scroll_butt_container").style.display="none";document.getElementsByTagName("html")[0].style.overflowY="hidden";let b=document.getElementById("donate_item_modal");b.style.display="block";setTimeout(function(){b.style.opacity=1},50);a||(window.onclick=function(c){c.target===b&&modal_close_()})}
function switch_modal_containers(a="service",b={}){let c=document.getElementsByClassName("close_b")[0];var d=document.getElementById("modal-info-container-c"),f=document.getElementById("modal-donate-container-c"),e=document.getElementById("modal-donate-finish-container-b");let g=document.getElementById("modal-donate-success-container"),h=document.getElementById("modal-donate-finish-container-c"),k=document.querySelector(".modal-title");d=[{name:"service",selector:f,title:"\u0422\u043e\u0432\u0430\u0440"},
{name:"service_coins",selector:e,title:"\u041e\u043f\u043b\u0430\u0442\u0430 \u043f\u043e\u0436\u0435\u0440\u0442\u0432\u043e\u0432\u0430\u043d\u0438\u044f"},{name:"info",selector:d,title:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"},{name:"success",selector:g,title:"\u0427\u0435\u043a"},{name:"donate_finish",selector:h,title:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"}];for(f=0;f<d.length;f++)e="none",a===d[f].name&&(e="block",k.innerText=d[f].title),d[f].selector.style.display=e;"info"===
a&&(k.innerText=b.title,b.content.length&&(document.getElementById("info-content-modal").innerHTML=b.content));c.onclick=function(){modal_close_()}}function discount_calculate(a,b){return(b/100*a).toFixed()}function get_cookie_cart(){let a={};try{a=JSON.parse(Cookies.get(cart_cookie))}catch(b){}return a}function updateCartCount(){document.getElementById("count_cart_items_dn").innerText=countProperties(get_cookie_cart())}
function groupAlreadyInCart(a){a=Object.keys(a);for(let b=0;b<donate_services_array.length;b++)if("group"===donate_services_array[b].type&&a.includes(donate_services_array[b].id.toString()))return!0;return!1}
function comment_show_action(a,b=!1){let c=document.getElementById(`comment_text_${a}`),d=document.getElementById(`comment_show_${a}`);swiper_comments.on("slideChange",function(){comment_show_action(a,!0)});b||"1"===c.getAttribute("fullShowComment")?(c.style.height="100px",c.setAttribute("fullShowComment","0"),d.innerText="\u0420\u0430\u0441\u043a\u0440\u044b\u0442\u044c"):(c.style.height="100%",c.setAttribute("fullShowComment","1"),d.innerText="\u0421\u043a\u0440\u044b\u0442\u044c")}
function initComments(){let a=document.getElementById("comment_swipe_array"),b=function(c){requestCall(function(d){c(d)},"assets/data/players.json","GET",!0)};requestCall(function(c){shuffle(c);b(function(d){for(let e=0;e<c.length;e++){var f;a:{for(f=0;f<d.length;f++)if(d[f].name===c[e].name){f=d[f];break a}f=void 0}a.innerHTML+=`
                        <div class="swiper-slide h-auto px-2">
                            <figure class="card h-100 position-relative border-0 shadow-sm py-3 p-0 p-xxl-4 my-0">
                                <span class="btn btn-primary btn-lg shadow-primary pe-none position-absolute top-0 start-0 translate-middle-y ms-4 ms-xxl-5 zlp-comment-icon">
                                  <i class="bx bxs-quote-left"></i>
                                  \u0417\u0430\u043b\u0443\u043f\u043d\u044b\u0439 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439
                                </span>
                                <blockquote id="comment_block_${e}" class="card-body mt-2 mb-2" 
                                            style="transition: .8s height">
                                    <p id="comment_text_${e}" class="fs-md mb-0">
                                            &#171;${c[e].text}&#187;</p>
                                    <span id="comment_show_${e}" onclick="comment_show_action(${e})" 
                                          class="pt-1 comment-show-button">
                                            \u0420\u0430\u0441\u043a\u0440\u044b\u0442\u044c</span>
                                </blockquote>
                                <figcaption class="card-footer d-flex align-items-center border-0 pt-0 mt-n2 mt-lg-0">
                                    <div>
                                        <h6 class="fw-semibold lh-base mb-0">${c[e].name}</h6>
                                        ${f?`<span class="frame_badge_adaptive">${f.desc}</span>`:""}
                                    </div>
                                </figcaption>
                            </figure>
                        </div>
                    `;f=document.getElementById(`comment_text_${e}`);let g=document.getElementById(`comment_show_${e}`);g.style.fontWeight="400";f.style.transition="height 0.8s cubic-bezier(1, -0.3, 0, 1.21) 0s";f.setAttribute("fullShowComment","0");112<f.clientHeight?(f.style.height="100px",f.style.overflow="hidden"):g.style.display="none"}});swiper_comments=new Swiper("#comment_swipe_container",{spaceBetween:12,loop:!0,observer:!0,observeParents:!0,preventClicks:!1,preventClicksPropagation:!1,autoplay:{delay:8E3},
pagination:{el:".swiper-pagination",clickable:!0},navigation:{prevEl:"#prev_comment",nextEl:"#next_comment"}})},"assets/data/comments.json","GET",!0)}
function buildPlayersSwiper(){let a=document.getElementById("players-swiper-array");(function(b){requestCall(function(c){b(c)},"assets/data/badges.json","GET",!0)})(function(b){requestCall(function(c){shuffle(c);for(let d=0;d<c.length;d++){glob_players.push(c[d].name);let f=function(){let g="";c[d].badges.sort();for(let h=0;h<c[d].badges.length;h++){let k=c[d].badges[h];k&&k.length&&"verified"!==k&&!k.includes("clan-")&&(g+=`
                                    <div class="player_badge" 
                                        style="background-image: url(./assets/images/emoji/${b[k].item}.png)"
                                        data-bs-toggle="tooltip" data-bs-placement="bottom" 
                                        title="${b[k].title}">
                                    </div>
                                `)}return g}(),e=function(){for(let g=0;g<c[d].badges.length;g++)if(c[d].badges[g].includes("clan-"))return c[d].badges[g].replace("clan-","")}();a.innerHTML+=`
                    <div class="swiper-slide text-center">
                        <span class="d-block py-3">
                            <div class="player_head_container">
                                ${e?`<div 
                                    class="player_clan_badge"
                                    data-bs-toggle="tooltip" data-bs-placement="top"
                                    title="${e}"
                                ></div>`:""}
                                <div 
                                    class="player-head d-block mx-auto" 
                                    style="background-image: url(${c[d].head})"
                                ></div>
                            </div>
                            <div class="card-body p-3">
                                <h3 class="fs-lg fw-semibold pt-1 mb-2">
                                    ${c[d].name}
                                    ${c[d].badges.includes("verified")?'\n                                        <i class="verified-icon"\n                                        data-bs-toggle="tooltip" data-bs-placement="top"\n                                        title="\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u043d\u044b\u0439"> \u2714</i>\n                                    ':""}
                                </h3>
                                <div class="player_badge_container" style="${f.length?"":"display:none"}">
                                    ${f}
                                </div>
                                <p class="fs-sm mb-0">${c[d].desc}</p>
                            </div>
                        </span>
                    </div>
                `}new Swiper("#players_swipe_container",{slidesPerView:1,spaceBetween:24,autoplay:{delay:2E3},loop:!0,observer:!0,observeParents:!0,preventClicks:!1,pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{600:{slidesPerView:2},920:{slidesPerView:3},1200:{slidesPerView:4},1600:{slidesPerView:5}}})},"assets/data/players.json","GET",!0)})}function donate_element_click(a){switch_modal_containers("service");let b=["group"],c=document.getElementById("donate_item_select_text"),d=`\u0422\u043e\u0432\u0430\u0440 <span class="text-primary fw-semibold">${a.name}</span>,
            \u0446\u0435\u043d\u0430 ${a.count} ${getNoun(a.count,"\u0435\u0434\u0438\u043d\u0438\u0446\u044b","\u0435\u0434\u0438\u043d\u0438\u0446","\u0435\u0434\u0438\u043d\u0438\u0446")}
        <span class="text-primary fw-semibold">
            ${a.price}
            ${getNoun(a.price,"\u0440\u0443\u0431\u043b\u044c","\u0440\u0443\u0431\u043b\u044f","\u0440\u0443\u0431\u043b\u0435\u0439")}
        </span>.
    `,f=document.getElementById("items_count_donate"),e=document.getElementById("donate_count_text_hint"),g=document.getElementById("donate_button_add_to_cart"),h=get_cookie_cart(),k=function(){g.setAttribute("onClick",`donate_cart(${a.service_id}, ${f.value})`)};f.value=1;k();var l=h.hasOwnProperty(a.service_id.toString());if((b.includes(a.type)||"group"===a.type)&&groupAlreadyInCart(h)){switch_modal_containers("info");let m="";m="group"===a.type?"\u0412\u044b \u0443\u0436\u0435 \u0432\u044b\u0431\u0440\u0430\u043b\u0438 \u043f\u0440\u0438\u0432\u0438\u043b\u0435\u0433\u0438\u044e. \u0423\u0434\u0430\u043b\u0438\u0442\u0435 \u0435\u0451 \u0438\u0437 \u043a\u043e\u0440\u0437\u0438\u043d\u044b, \u0435\u0441\u043b\u0438 \u0445\u043e\u0442\u0438\u0442\u0435 \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0434\u0440\u0443\u0433\u0443\u044e.":
l?`\u041e\u0448\u0438\u0431\u043a\u0430, \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u043e\u0432\u0430\u0440 
                <span class="text-primary fw-semibold">${a.name}</span> 
                \u0442\u043e\u043b\u044c\u043a\u043e \u043e\u0434\u0438\u043d \u0440\u0430\u0437.`:"\u041c\u044b \u043d\u0435 \u0437\u043d\u0430\u0435\u043c \u043f\u043e\u0447\u0435\u043c\u0443, \u043d\u043e \u044d\u0442\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0432\u044b\u0437\u0432\u0430\u043d\u0430 \u043f\u043e \u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u043c \u043f\u0440\u0438\u0447\u0438\u043d\u0430\u043c.";document.getElementById("donate_info_block_text").innerHTML=m}l=
"block";b.includes(a.type)&&(l="none");f.style.display=l;e.style.display=l;let n=function(){f.value=f.value.replace(/\D+/g,"");if(!b.includes(a.type)){let m=parseInt(f.value)*a.price,p=h[a.service_id],q="";if(isNaN(m)||1>Math.sign(m))m=0;p&&(q=`
                    \u0423\u0436\u0435 \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0435 - 
                        <span class="text-primary fw-semibold">
                            ${p}
                        </span>
                `);c.innerHTML=`${d}
                    <br/>
                    \u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c - 
                        <span class="text-primary fw-semibold">
                            ${m} 
                            ${getNoun(m,"\u0440\u0443\u0431\u043b\u044c","\u0440\u0443\u0431\u043b\u044f","\u0440\u0443\u0431\u043b\u0435\u0439")}
                        </span>
                    <br/>
                    ${q}
                `;k()}};c.innerHTML=d;n();f.addEventListener("input",function(m){n()});modal_open_()}function donate_get_service_by_id(a){for(let b=0;b<donate_services_array.length;b++)if(donate_services_array[b].id===parseInt(a))return donate_services_array[b];return null}
function donateResetPaymentState(a=1,b=!1,c=!1){var d=document.getElementById("donate-coins-payment");let f=["donate_sum","donate_customer_c","donate_email_c","coupon-input-c"];var e="_c";let g=document.getElementById("donate_sum").value.trim();coins_sell_mode||(e="",g=0);e=document.getElementById("payment-button-donate"+e);if(c){d.innerHTML="";for(d=0;d<f.length;d++)if(!f[d].includes("coupon")||c)document.getElementById(f[d]).value="";failed_coupon=checked_coupon=""}e.setAttribute("onClick",`generatePaymentLink(${a}, ${2===
a?1:g})`);e.removeAttribute("disabled");e.innerText=b?"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c":"\u0414\u0430\u043b\u044c\u0448\u0435"}
function donate_cart(a,b,c=!1){var d=Cookies.get(cart_cookie),f=get_cookie_cart();let e=0;try{let g=f[a];Number.isInteger(g)&&(e=+g)}catch(g){}Number.isInteger(a)&&Number.isInteger(b)&&(1>Math.sign(b)?notify("\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0440\u0430\u0432\u043d\u043e \u043d\u0443\u043b\u044e \u0438\u043b\u0438 \u043c\u0435\u043d\u044c\u0448\u0435"):15E3<e+b?notify('\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e - <span style="color: #a4a6ff">15000</span>'):
(d||Cookies.set(cart_cookie,JSON.stringify({})),d=JSON.parse(Cookies.get(cart_cookie)),f=donate_get_service_by_id(a),c?(delete d[a],notify(`\u0422\u043e\u0432\u0430\u0440 ${'<span style="color: #a4a6ff">'} ${f.name}</span> \u0443\u0431\u0440\u0430\u043d \u0438\u0437 \u043a\u043e\u0440\u0437\u0438\u043d\u044b`)):d[a]?(d[a]+=b,notify(`\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0443 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e ${'<span style="color: #a4a6ff">'} ${b} 
                    </span>
                    ${getNoun(b,"\u0435\u0434\u0438\u043d\u0438\u0446\u0430","\u0435\u0434\u0438\u043d\u0438\u0446\u044b","\u0435\u0434\u0438\u043d\u0438\u0446")} 
                    \u0442\u043e\u0432\u0430\u0440\u0430 ${'<span style="color: #a4a6ff">'} ${f.name} 
                    </span>`)):(d[a]=b,notify(`\u0422\u043e\u0432\u0430\u0440 ${'<span style="color: #a4a6ff">'} ${f.name}</span> \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443`)),Cookies.set(cart_cookie,JSON.stringify(d)),modal_close_(),initDonate(),updateCartCount(),donateResetPaymentState()))}
function donate_cart_button(a={}){let b=document.querySelectorAll(".donate-cart-button-cn");if(!coins_sell_mode)for(let c=0;c<b.length;c++){let d=b[c].style;countProperties(a)?(d.display="flex",setTimeout(function(){d.opacity=1;d.marginTop="15px";b[c].removeAttribute("disabled")},50)):(b[c].setAttribute("disabled",""),d.opacity=0,d.marginTop="-50px",setTimeout(function(){d.display="none"},350))}}
function donateFlushCart(){Cookies.remove(cart_cookie);donate_cart_button({});notify("\u041a\u043e\u0440\u0437\u0438\u043d\u0430 \u043e\u0447\u0438\u0449\u0435\u043d\u0430")}
function onTelegramAuth(a){Cookies.set(telegram_cookie_token,utf8_to_b64(JSON.stringify(a)));modal_close_();notify(`\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043b\u0438\u0441\u044c \u043a\u0430\u043a <span class="text-gradient-primary">${a.first_name} ${a.last_name}</span>`)}function getTelegramAuth(a=!1){let b=Cookies.get(telegram_cookie_token);if(a)return b;if(b)return JSON.parse(b64_to_utf8(b))}
function couponCheck(a){a="";coins_sell_mode&&(a="-c");let b=document.getElementById("coupon-input"+a),c=document.getElementById("coupon-button"+a),d="";try{d=b.value.trim()}catch(h){}let f=function(){notify(`\u041a\u0443\u043f\u043e\u043d <span class="text-primary fw-semibold">${failed_coupon}</span> \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d`)},e=function(h,k){if(h)for(k=0;k<h.length;k++)if(h[k].id===current_c_item)return!0;return!1};if(d.length)if(20<d.length)notify("\u041a\u0443\u043f\u043e\u043d \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u0434\u043b\u0438\u043d\u043d\u044b\u0439");
else if(/^[A-z\d_]+$/.test(d))if(checked_coupon===d)notify("\u042d\u0442\u043e\u0442 \u043a\u0443\u043f\u043e\u043d \u0443\u0436\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f");else if(failed_coupon===d)f();else{var g=function(h=!1){h?(b.setAttribute("disabled",""),c.setAttribute("disabled",""),c.innerText="\u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c"):(b.removeAttribute("disabled"),c.removeAttribute("disabled"),c.innerText="\u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c")};
g(!0);check_coupon(function(h){if(h){let k=function(){checked_coupon=d;notify(`\u041a\u0443\u043f\u043e\u043d <span class="text-primary fw-semibold">${d}</span> \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439`)};coins_sell_mode?e(h.products,current_c_item)?(k(),document.getElementById("donate-coins-payment").innerHTML=`<li class="list-group-item d-flex justify-content-between bg-light">
                        <div class="text-primary">
                            <h6 class="my-0 text-start">\u041a\u0443\u043f\u043e\u043d</h6>
                            <small class="text-start" style="float: left">${d}</small>
                        </div>
                        <span class="text-muted text-end" style="width: 30%">
                            ${h.discount}%</span>
                    </li>`):notify("\u042d\u0442\u043e\u0442 \u043a\u0443\u043f\u043e\u043d \u043d\u0435\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439"):(k(),donateCartCall(d,!1))}else failed_coupon=d,f();g()},d)}else notify("\u041a\u0443\u043f\u043e\u043d \u0443\u043a\u0430\u0437\u0430\u043d \u043d\u0435\u0432\u0435\u0440\u043d\u043e");else notify("\u0412\u044b \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043b\u0438 \u043a\u0443\u043f\u043e\u043d")}
function donate_enable_coupon(a=!0){let b=document.getElementById("coupon-input"),c=document.getElementById("coupon-button");a?(b.setAttribute("placeholder","BRFF"),c.setAttribute("onClick","couponCheck()"),b.removeAttribute("disabled"),c.removeAttribute("disabled")):(b.setAttribute("disabled",""),b.setAttribute("placeholder","\u0421\u0435\u0439\u0447\u0430\u0441 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e"),c.setAttribute("disabled",""))}
function generatePaymentLink(a=1,b=0){var c="";coins_sell_mode&&(c="_c");let d=document.getElementById("payment-button-donate"+c),f=document.getElementById("donate_customer"+c).value.trim();c=document.getElementById("donate_email"+c).value.trim();let e="";try{e=checked_coupon.trim()}catch(g){}if(1===a)if(Number.isInteger(b)&&Number.isInteger(b)){if(1>Math.sign(b)){notify("\u0421\u0443\u043c\u043c\u0430 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0440\u0430\u0432\u043d\u044f\u0442\u044c\u0441\u044f \u043d\u0443\u043b\u044e \u0438\u043b\u0438 \u043c\u0435\u043d\u044c\u0448\u0435");
return}if(15E3<b){notify('\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0443\u043c\u043c\u0430 - <span style="color: #a4a6ff">15000</span>');return}}else{notify("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u0441\u0443\u043c\u043c\u044b");return}if(f.length)if(40<f.length)notify("\u0412\u0430\u0448 \u043d\u0438\u043a\u043d\u0435\u0439\u043c \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u0434\u043b\u0438\u043d\u043d\u044b\u0439");
else{/^[A-z\d_]+$/.test(f)||notify("\u041d\u0438\u043a\u043d\u0435\u0439\u043c \u043d\u0435 \u0441\u043e\u043e\u0442\u0432\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u0444\u043e\u0440\u043c\u0430\u0442\u0443");if(!c.length)c="";else if(!validateEmail(c)){notify("\u041e\u0448\u0438\u0431\u043a\u0430, \u0430\u0434\u0440\u0435\u0441 \u043f\u043e\u0447\u0442\u044b \u043d\u0435\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439");return}e||="";products=coins_sell_mode?
JSON.parse(`{"${donate_services_array[a-1].id}": ${b}}`):get_cookie_cart();d.setAttribute("disabled","");d.innerText="\u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0435...";b=(g=>{for(let h=0;h<products_by_serverid.length;h++)if(parseInt(products_by_serverid[h].id)===parseInt(g))return products_by_serverid[h]})(current_c_item);create_payment(function(g){g?(d.removeAttribute("disabled"),d.innerText="\u041e\u043f\u043b\u0430\u0442\u0438\u0442\u044c",payment_url_global=
g.url,d.setAttribute("onClick","payment_action_bt()")):(notify("\u041e\u0448\u0438\u0431\u043a\u0430, \u043d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0447\u0435\u043a \u0434\u043b\u044f \u043e\u043f\u043b\u0430\u0442\u044b"),donateResetPaymentState(a,repeat=!0))},f,products,b.server_id,c,e)}else notify("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u0430\u0448 \u043d\u0438\u043a\u043d\u0435\u0439\u043c")}
function payment_action_bt(){window.open(payment_url_global,"_blank");var a=document.getElementById("donate-cart-list-success"),b=document.getElementById("success-pay-text-js");let c=document.getElementById("only-ok-payment"),d=document.querySelector(".modal-title");switch_modal_containers("success");modal_open_();a.innerHTML="";d.innerText="";b.innerText="\u0414\u0430\u0432\u0430\u0439, \u043f\u043b\u0430\u0442\u0438. \u0428\u0435\u0444 \u0436\u0434\u0451\u0442...";c.style.display="";document.querySelector("img.payment-sucess-vova").setAttribute("src",
"assets/images/vova-gay.webp");donateResetPaymentState();a=["donate_sum","donate_customer_c","donate_email_c","coupon-input-c"];for(b=0;b<a.length;b++)document.getElementById(a[b]).value=""}
function donate_check_services_cart(){let a=Object.keys(get_cookie_cart());var b=donate_services_array;let c=[];for(var d=0;d<b.length;d++)c.push(b[d].id);for(b=0;b<a.length;b++)c.includes(parseInt(a[b]))||(d=JSON.parse(Cookies.get(cart_cookie)),delete d[parseInt(a[b])],Cookies.set(cart_cookie,JSON.stringify(d)),console.log(`Remove ${a[b]} from cart`))}function initDonate(){let a={};try{a=JSON.parse(Cookies.get(cart_cookie))}catch(b){}donate_cart_button(a);donate_enable_coupon(!0)}
function donateCartCall(a=null,b=!0){let c=get_cookie_cart(),d=Object.keys(c),f=document.getElementById("donate-cart-list");var e=[document.getElementById("donate_customer"),document.getElementById("donate_email"),document.getElementById("coupon-input")];switch_modal_containers("donate_finish");modal_open_();f.innerHTML="";let g=0;for(var h=0;h<e.length;h++)e[h].addEventListener("input",function(k){donateResetPaymentState()});for(e=0;e<d.length;e++){h=donate_get_service_by_id(d[e]);let k=h.price*
c[h.id];g+=k;f.innerHTML+=`
            <li class="list-group-item d-flex justify-content-between lh-sm">
                <div>
                    <h6 class="my-0 text-start">
                        <span class="text-primary fw-semibold">
                            x${h.number}</span> 
                        ${h.name}
                    </h6>
                    <small class="text-muted text-start cart-desc-td">${h.description}</small>
                </div>
                <span class="text-muted text-end" style="width: 30%">
                    ${k} ${getNoun(k,"\u0440\u0443\u0431\u043b\u044c","\u0440\u0443\u0431\u043b\u044f","\u0440\u0443\u0431\u043b\u0435\u0439")}
                    <br/>x${c[h.id]}</span>
            </li>
        `}a&&(f.innerHTML+=`<li class="list-group-item d-flex justify-content-between bg-light">
                <div class="text-primary">
                    <h6 class="my-0 text-start">\u041a\u0443\u043f\u043e\u043d</h6>
                    <small class="text-start" style="float: left">${a}</small>
                </div>
            </li>`);f.innerHTML+=`<li class="list-group-item d-flex justify-content-between">
                <span>\u0421\u0443\u043c\u043c\u0430</span>
                <strong>${g} ${getNoun(g,"\u0440\u0443\u0431\u043b\u044c","\u0440\u0443\u0431\u043b\u044f","\u0440\u0443\u0431\u043b\u0435\u0439")}</strong>
            </li>`;b&&(shuffle(glob_players),document.querySelector("input#donate_customer").setAttribute("placeholder",glob_players[0]))}function donateCoinsPay(a=1){let b=document.getElementById("payment-button-donate_c"),c=document.getElementById("donate_sum");c=c.value||/^[\d]+$/.test(c.value)?c.value:0;b.setAttribute("onClick",`generatePaymentLink(${a}, ${2===a?1:c})`)}
function donateModalCall(a,b,c=!0){let d=document.getElementById("donate_sum"),f=document.getElementById("donate_customer_c"),e=document.getElementById("sum-tokens-container"),g=document.getElementById("customer-email-tokens-container").classList,h=document.getElementById("donate-text-span"),k,l=[document.getElementById("donate_sum"),document.getElementById("donate_customer_c"),document.getElementById("donate_email_c"),document.getElementById("coupon-input-c")],n=document.querySelector(".modal-title"),
m;current_c_item=b;1===a?(e.style.display="",g.remove("col-sm-6"),g.add("col-12"),k="\n            \u0412\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0432\u0448\u0438\u0441\u044c \u044d\u0442\u043e\u0439 \u0444\u043e\u0440\u043c\u043e\u0439, \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043f\u0440\u043e\u0435\u043a\u0442 \u0444\u0438\u043d\u0430\u043d\u0441\u043e\u0432\u043e.\n            \u0417\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0443 \u0432\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u0435 \u0432\u043e\u0437\u043d\u0430\u0433\u0440\u0430\u0436\u0434\u0435\u043d\u0438\u0435 \u2013 \u0437\u0430 \u043a\u0430\u0436\u0434\u044b\u0439 \u0440\u0443\u0431\u043b\u044c \u043f\u043e \u043e\u0434\u043d\u043e\u043c\u0443 \u0438\u0433\u0440\u043e\u0432\u043e\u043c\u0443 \u0442\u043e\u043a\u0435\u043d\u0443.\n        ",
m="\u0422\u043e\u043a\u0435\u043d\u044b",d.addEventListener("input",function(p){donateCoinsPay()})):2===a&&(e.style.display="none",g.remove("col-12"),g.add("col-sm-6"),k="\n            \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0441\u043e\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u0440\u0430\u0437\u043e\u0432\u044b\u0439 \u043f\u043b\u0430\u0442\u0435\u0436 \u0438 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043f\u0440\u043e\u043f\u0443\u0441\u043a \u043d\u0430 \u0441\u0435\u0437\u043e\u043d \u043a \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u043e\u043c\u0443 \u0441\u0435\u0440\u0432\u0435\u0440\u0443 \n            \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0432\u043e\u0437\u043d\u0430\u0433\u0440\u0430\u0436\u0434\u0435\u043d\u0438\u044f \u0437\u0430 \u0444\u0438\u043d\u0430\u043d\u0441\u043e\u0432\u0443\u044e \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0443 \u043f\u0440\u043e\u0435\u043a\u0442\u0430.\n        ",
m="\u041f\u0440\u043e\u043f\u0443\u0441\u043a",f.addEventListener("input",function(p){donateCoinsPay(a)}));h.innerText=k.replaceAll("\n","");for(b=0;b<l.length;b++)l[b].addEventListener("input",function(p){donateResetPaymentState(a)});switch_modal_containers("service_coins");modal_open_();c&&(shuffle(glob_players),document.querySelector("input#donate_customer_c").setAttribute("placeholder",glob_players[0]));donateResetPaymentState(a,!1,!0);(p=>{n.innerText=n.innerText.replace(/\([\s\S]*?\)/).trim();
n.innerText=`${n.innerText} (${p})`})(m)}function linksSet(a,b=!1){a=document.getElementById(a);let c="margin-left: 0 !important";for(let d=0;d<links_lt.length;d++){if(!b||d)c="";a.innerHTML+=`<a href="${links_lt[d].link}" 
                target="_blank" style="${c}"
                class="btn btn-icon btn-secondary btn-${links_lt[d].name} mx-2">
                    <i class="bx bxl-${links_lt[d].name}"></i>
            </a>`}}function initCrypto(){freeze_crypto||(freeze_crypto=!0,crypto_token="",getCrypto(function(a){crypto_token=a;freeze_crypto=!1}))}
function initLanding(){development_hosts.includes(window.location.hostname)&&lock_of&&(document.getElementById("landing_description_gb").innerText="\u042d\u0442\u043e\u0442 \u0441\u0430\u0439\u0442 - preview-\u0432\u0435\u0440\u0441\u0438\u044f!",document.getElementById("donate-test-mode-enb").innerText="\u042d\u0442\u043e\u0442 \u0431\u043b\u043e\u043a \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0432 \u0434\u0435\u043c\u043e\u043d\u0441\u0442\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u043c \u0440\u0435\u0436\u0438\u043c\u0435 \u0438 \u043d\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u043c.");linksSet("landing-links-tp",
!0);linksSet("links-block-footer-v")}
function finishLoad(){document.querySelector("main").setAttribute("style","");document.querySelector("footer").setAttribute("style","");document.getElementById("footer-text-blc").innerHTML='\u0421\u043e\u0437\u0434\u0430\u043b KovalYRS \u0441 <i class="emoji" style="background-image:url(\'assets/images/emoji/red-heart.png\');font-size: 0.7rem;bottom:-1px"><b>\u2764\ufe0f</b></i>, \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e \u0434\u043b\u044f ZALUPA.ONLINE';grecaptcha&&(document.getElementById("re-badge-text").innerText=
"This site uses Google ReCaptcha technology")}function observerSystemTheme(){let a=["dark","light"],b=document.querySelector('[data-bs-toggle="mode"]').querySelector(".form-check-input");for(let c=0;c<a.length;c++)window.matchMedia(`(prefers-color-scheme: ${a[c]})`).addEventListener("change",d=>{if(d=d.matches)"dark"===a[c]?(root.classList.add("dark-mode"),b.checked=!0):(root.classList.remove("dark-mode"),b.checked=!1),d=void 0;return d})}
function callSucessPayModal(a=0){let b,c=document.getElementById("donate-cart-list-success"),d=document.getElementById("success-pay-text-js"),f=document.getElementById("only-ok-payment"),e=document.querySelector(".modal-title");donateSwitchContainer(!0);checkPayment(function(g){if("undefined"!==typeof g.status){if(g.status&&a==parseInt(g.id)){b=g;d.innerText="\u041e\u043f\u043b\u0430\u0442\u0430 \u043f\u0440\u043e\u0448\u043b\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e, \u0428\u0435\u0444 \u0434\u043e\u0432\u043e\u043b\u0435\u043d, \u0441\u043f\u0430\u0441\u0438\u0431\u043e \u0442\u0435\u0431\u0435.";
f.style.display="";var h=g.product.name.toLowerCase();var k=h.includes("\u0442\u043e\u043a\u0435\u043d")?1:h.includes("\u043f\u0440\u043e\u0445\u043e\u0434\u043a\u0430")?2:void 0;h=`
                <li class="list-group-item d-flex justify-content-between lh-sm">
                    <div>
                        <h6 class="my-0 text-start">
                            \u0421\u0438\u0441\u0442\u0435\u043c\u0430
                        </h6>
                    </div>
                    <span>${g.payment_system}</span>
                </li>
            `;let l=`
                <li class="list-group-item d-flex justify-content-between">
                    <span>\u0421\u0443\u043c\u043c\u0430 \u0437\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f</span>
                    <strong class="text-primary">${g.enrolled} ${getNoun(g.enrolled,"\u0440\u0443\u0431\u043b\u044c","\u0440\u0443\u0431\u043b\u044f","\u0440\u0443\u0431\u043b\u0435\u0439")}</strong>
                </li>
            `;coins_sell_mode&&(1===k?l=`
                        <li class="list-group-item d-flex justify-content-between">
                            <span>\u0421\u0443\u043c\u043c\u0430</span>
                            <strong class="text-primary">${g.enrolled} ${getNoun(g.enrolled,"\u0442\u043e\u043a\u0435\u043d","\u0442\u043e\u043a\u0435\u043d\u0430","\u0442\u043e\u043a\u0435\u043d\u043e\u0432")}</strong>
                        </li>
                    `:2===k&&(l=`
                        <li class="list-group-item d-flex justify-content-between">
                            <span>\u0421\u0443\u043c\u043c\u0430</span>
                            <strong class="text-primary">${g.product.price} ${getNoun(g.enrolled,"\u0440\u0443\u0431\u043b\u044c","\u0440\u0443\u0431\u043b\u044f","\u0440\u0443\u0431\u043b\u0435\u0439")}</strong>
                        </li>
                    `));if(!g.enrolled||1>g.enrolled)l="";if(!g.email.length||g.email.match("undefined"))g.email="\u041d\u0443 \u0443\u043a\u0430\u0437\u0430\u043d\u043e";if(!g.payment_system||g.payment_system.match("undefined"))h="";g.created_at&&g.created_at.length?(k=new Date(g.created_at),g.created_at=`${k.toLocaleDateString()} ${k.toLocaleTimeString()}`):g.created_at="\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e";c.innerHTML=`
                <li class="list-group-item d-flex justify-content-between lh-sm">
                    <div>
                        <h6 class="my-0 text-start">
                            \u041d\u0438\u043a\u043d\u0435\u0439\u043c
                        </h6>
                    </div>
                    <span>${g.customer}</span>
                </li>
                <li class="list-group-item d-flex justify-content-between lh-sm">
                    <div>
                        <h6 class="my-0 text-start">
                            \u041f\u043e\u0447\u0442\u0430
                        </h6>
                    </div>
                    <span>${g.email}</span>
                </li>
                ${h}
                <li class="list-group-item d-flex justify-content-between lh-sm">
                    <div>
                        <h6 class="my-0 text-start">
                            \u0412\u0440\u0435\u043c\u044f
                        </h6>
                    </div>
                    <span>${g.created_at}</span>
                </li>
                ${l}
            `}else d.innerText="\u0427\u0435\u043a \u043d\u0435\u043e\u043f\u043b\u0430\u0447\u0435\u043d, \u0428\u0435\u0444 \u043d\u0435\u0434\u043e\u0432\u043e\u043b\u0435\u043d.",document.querySelector("img.payment-sucess-vova").setAttribute("src","assets/images/vova-fail.webp");switch_modal_containers("success");modal_open_();(h=b.product.image)&&h.length&&(document.querySelector(".payment-sucess-vova").src=h,document.querySelector(".item-name-payment-result").style.marginBottom="4vh");e.innerText=
`\u0427\u0435\u043a #${g.id}`}else notify("\u041e\u0448\u0438\u0431\u043a\u0430, \u0447\u0435\u043a \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d \u0438\u043b\u0438 EasyDonate \u0432\u0435\u0440\u043d\u0443\u043b \u043d\u0435\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442")},a)}function successPay(){let a=(new URL(window.location.href)).searchParams.get("pg_order_id");a&&callSucessPayModal(a)}
function donateContainerHash(){observerContainerHash(["donate","donate_block"],function(){donate_displayed=!0;donateSwitchContainer(donate_displayed)})}function rulesModalOpen(){let a="";get_rules_private_server(function(b){for(let c=0;c<b.length;c++)a+=`
                    <li class="list-group-item d-flex justify-content-between lh-sm">
                        <div>
                            <h6 class="my-0 text-start">
                                ${c+1}
                            </h6>
                        </div>
                        <span class="ps-2 pe-2 text-start">${b[c].text}</span>
                    </li>
                `;switch_modal_containers("info",{title:"\u041f\u0440\u0430\u0432\u0438\u043b\u0430 \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430",content:`
                <ul class="list-group mb-4 mb-lg-5">
                    ${a}
                </ul>
            `});modal_open_()})}function rulesPrivateContainerHash(){observerContainerHash(["private_rules"],function(){rulesModalOpen()})}
function openAdminContact(){checkTelegramAuthData(function(a){if(a){switch_modal_containers("info",{title:"\u041e\u0431\u0440\u0430\u0442\u043d\u0430\u044f \u0441\u0432\u044f\u0437\u044c",content:'\n                        <p class="mb-2 mb-lg-3 mb-xl-4 text-start">\n                            \u042d\u0442\u043e \u0444\u043e\u0440\u043c\u0430 \u0434\u043b\u044f \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u0439 \u0438 \u0436\u0430\u043b\u043e\u0431, \u043e\u043f\u0438\u0448\u0438\u0442\u0435 \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u043a\u0440\u0430\u0442\u043a\u043e \u0438 \n                            \u044f\u0441\u043d\u043e \u0441\u0432\u043e\u044e \u0438\u0434\u0435\u044e \u0438\u043b\u0438 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0431\u0435\u0437 \u0432\u043e\u0434\u044b.\n                        </p>\n                        <div id="contant-input-container">\n                            <label for="admin-message">0/0</label>\n                            <textarea id="admin-message" name="admin-message" class="form-control" maxlength="0">\n                            </textarea>\n                        </div>\n                        <button onclick="sendFeedbackAction()" class="w-100 btn btn-primary btn-lg btn-shadow-hide mt-3 mt-lg-4" id="send-feedback-button" type="button">\n                            \u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c\n                        </button>\n                    '});let b=
document.getElementById("admin-message"),c=document.querySelector('label[for="admin-message"]');b.value.includes(" ".repeat(3))&&(b.value=b.value.trim());b.maxLength=3E3;let d=()=>{c.innerText=`${b.value.length}/${3E3}`};d();addEventListener("keydown",f=>d());addEventListener("keyup",f=>d());modal_open_(onclick_lock=!0)}else console.log("Error check Telegram auth"),openTelegramAuthModal(),notify("\u0412\u0430\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u0441\u044f \u0434\u043b\u044f \u044d\u0442\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0438")})}
function adminsContactContainerHash(){observerContainerHash(["contact","support","bug","report"],function(){openAdminContact()})}function observerContainerHash(a,b){a.includes(linkHash())&&b();addEventListener("hashchange",c=>{a.includes(linkHash())&&b()})}
function openTelegramAuthModal(){console.log("Telegram auth preparing...");let a=document.createElement("script");a.src="https://telegram.org/js/telegram-widget.js?21";a.setAttribute("async","");a.setAttribute("data-telegram-login",telegram_bot_username);a.setAttribute("data-size","large");a.setAttribute("data-radius","8");a.setAttribute("data-onauth","onTelegramAuth(user)");a.onload=function(){switch_modal_containers("info",{title:"",content:""});modal_open_()};let b=document.getElementById("info-content-modal"),
c=document.createElement("div"),d=document.createElement("p");b.innerHTML="";b.appendChild(c);b.appendChild(d);d.innerText="        \u0414\u043b\u044f \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u0439 \u043d\u0430 \u044d\u0442\u043e\u043c \u0441\u0430\u0439\u0442\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f.         \u041c\u044b \u043d\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u043c \u043d\u0438\u043a\u0430\u043a\u0438\u0445 \u043a\u043e\u043d\u0444\u0438\u0434\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u043e \u0432\u0430\u0441, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440,         \u0432\u0430\u0448 \u043d\u043e\u043c\u0435\u0440 \u0438\u043b\u0438 \u043b\u043e\u043a\u0430\u0446\u0438\u044e, \u044d\u0442\u043e \u043d\u0443\u0436\u043d\u043e \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b Telegram         \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u043b, \u0447\u0442\u043e \u0432\u044b \u044f\u0432\u043b\u044f\u0435\u0442\u0435\u0441\u044c \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u043c \u0441\u0432\u043e\u0435\u0433\u043e \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430. \u0422\u0430\u043a\u0436\u0435         \u043d\u0435 \u0437\u0430\u0431\u0443\u0434\u044c\u0442\u0435 \u0441\u0432\u044f\u0437\u0430\u0442\u044c \u0441\u0432\u043e\u0439 \u0430\u043a\u043a\u0430\u0443\u043d\u0442 Telegram \u0441 \u0438\u0433\u0440\u043e\u0432\u044b\u043c \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u043e\u043c         \u0432 \u043d\u0430\u0448\u0435\u043c \u0431\u043e\u0442\u0435.    ";
d.setAttribute("class","text-start px-3 pt-1 pt-lg-2");c.id="telegram-auth-container";c.appendChild(a)}function initJarallax(){jarallax(document.querySelectorAll(".jarallax"),{speed:.15,type:"scale-opacity"})}
function initTooltip(){[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')).map(function(a){tooltip_instance=new bootstrap.Tooltip(a,{template:'\n                                <div class="tooltip" role="tooltip">\n                                    <div class="tooltip-inner"></div>\n                                </div>\n                            '})});tooltip_instance&&setInterval(function(){tooltip_instance.update()},1E3)}
function initSmoothScrollObserver(){let a=new SmoothScroll("section"),b=()=>{let c=linkHash().toLowerCase();c&&c.length&&!["private_rules"].includes(c)&&a.animateScroll(document.querySelector(`section[id="${c}"]`),null,{offset:50})};b();window.onhashchange=b}
const initCore=function(){initHost();initCrypto();initLanding();observerSystemTheme();buildPlayersSwiper();appendPostsNews();initComments();appendServices();updateCartCount();gameServerUpdater();initDonate();initEventsList();initJarallax();finishLoad();successPay();ytVideoSetter(skip=!0);donateContainerHash();rulesPrivateContainerHash();adminsContactContainerHash();let a=document.getElementById("dark-perm-set-bv");a.parentNode.removeChild(a);window.onload=function(){if(!debug_lock_init){let b=document.querySelector(".page-loading");
setTimeout(function(){b.classList.remove("active");donate_displayed||(document.body.style.overflowY="");window.scrollTo({top:0})},1500);setTimeout(function(){b.remove();initTooltip();initSmoothScrollObserver()},1600)}}};script_core.onload=function(){initCore()};
